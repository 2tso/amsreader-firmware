(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function ie(){}function Ot(t,e){for(const l in e)t[l]=e[l];return t}function wf(t){return t()}function dr(){return Object.create(null)}function Ge(t){t.forEach(wf)}function yf(t){return typeof t=="function"}function we(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ts;function vc(t,e){return ts||(ts=document.createElement("a")),ts.href=e,t===ts.href}function hc(t){return Object.keys(t).length===0}function Js(t,...e){if(t==null)return ie;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Gn(t){let e;return Js(t,l=>e=l)(),e}function Bt(t,e,l){t.$$.on_destroy.push(Js(e,l))}function Xs(t,e,l,n){if(t){const i=$f(t,e,l,n);return t[0](i)}}function $f(t,e,l,n){return t[1]&&n?Ot(l.ctx.slice(),t[1](n(e))):l.ctx}function xs(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function eo(t,e,l,n,i,o){if(i){const r=$f(e,l,n,o);t.p(r,i)}}function to(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function rs(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function as(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function s(t,e){t.appendChild(e)}function y(t,e,l){t.insertBefore(e,l||null)}function w(t){t.parentNode.removeChild(t)}function Vt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function m(t){return document.createElement(t)}function Oe(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function v(){return C(" ")}function je(){return C("")}function V(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function _s(t){return function(e){return e.preventDefault(),t.call(this,e)}}function u(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Yt(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:u(t,n,e[n])}function me(t){return t===""?null:+t}function gc(t){return Array.from(t.childNodes)}function B(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function Cf(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Fe(t,e){for(let l=0;l<t.options.length;l+=1){const n=t.options[l];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function et(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let ls;function bc(){if(ls===void 0){ls=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ls=!0}}return ls}function kc(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=m("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=bc();let o;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=V(window,"message",r=>{r.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{o=V(n.contentWindow,"resize",e)}),s(t,n),()=>{(i||o&&n.contentWindow)&&o(),w(n)}}function wc(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}let si;function li(t){si=t}function oi(){if(!si)throw new Error("Function called outside component initialization");return si}function yc(t){oi().$$.on_mount.push(t)}function $c(t){oi().$$.on_destroy.push(t)}function Cc(){const t=oi();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const o=wc(e,l,{cancelable:n});return i.slice().forEach(r=>{r.call(t,o)}),!o.defaultPrevented}return!0}}function ni(t,e){return oi().$$.context.set(t,e),e}function wl(t){return oi().$$.context.get(t)}const ei=[],fs=[],os=[],vr=[],Tf=Promise.resolve();let Us=!1;function Sf(){Us||(Us=!0,Tf.then(Pf))}function Tc(){return Sf(),Tf}function Be(t){os.push(t)}const Es=new Set;let ns=0;function Pf(){const t=si;do{for(;ns<ei.length;){const e=ei[ns];ns++,li(e),Sc(e.$$)}for(li(null),ei.length=0,ns=0;fs.length;)fs.pop()();for(let e=0;e<os.length;e+=1){const l=os[e];Es.has(l)||(Es.add(l),l())}os.length=0}while(ei.length);for(;vr.length;)vr.pop()();Us=!1,Es.clear(),li(t)}function Sc(t){if(t.fragment!==null){t.update(),Ge(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Be)}}const us=new Set;let Bl;function Ce(){Bl={r:0,c:[],p:Bl}}function Te(){Bl.r||Ge(Bl.c),Bl=Bl.p}function M(t,e){t&&t.i&&(us.delete(t),t.i(e))}function I(t,e,l,n){if(t&&t.o){if(us.has(t))return;us.add(t),Bl.c.push(()=>{us.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function Bn(t,e){const l={},n={},i={$$scope:1};let o=t.length;for(;o--;){const r=t[o],a=e[o];if(a){for(const c in r)c in a||(n[c]=1);for(const c in a)i[c]||(l[c]=a[c],i[c]=1);t[o]=a}else for(const c in r)i[c]=1}for(const r in n)r in l||(l[r]=void 0);return l}function hr(t){return typeof t=="object"&&t!==null?t:{}}function Z(t){t&&t.c()}function K(t,e,l,n){const{fragment:i,on_mount:o,on_destroy:r,after_update:a}=t.$$;i&&i.m(e,l),n||Be(()=>{const c=o.map(wf).filter(yf);r?r.push(...c):Ge(c),t.$$.on_mount=[]}),a.forEach(Be)}function Q(t,e){const l=t.$$;l.fragment!==null&&(Ge(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Pc(t,e){t.$$.dirty[0]===-1&&(ei.push(t),Sf(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ye(t,e,l,n,i,o,r,a=[-1]){const c=si;li(t);const f=t.$$={fragment:null,ctx:null,props:o,update:ie,not_equal:i,bound:dr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:dr(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};r&&r(f.root);let p=!1;if(f.ctx=l?l(t,e.props||{},(_,d,...g)=>{const h=g.length?g[0]:d;return f.ctx&&i(f.ctx[_],f.ctx[_]=h)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](h),p&&Pc(t,_)),d}):[],f.update(),p=!0,Ge(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const _=gc(e.target);f.fragment&&f.fragment.l(_),_.forEach(w)}else f.fragment&&f.fragment.c();e.intro&&M(t.$$.fragment),K(t,e.target,e.anchor,e.customElement),Pf()}li(c)}class $e{$destroy(){Q(this,1),this.$destroy=ie}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!hc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const gr=t=>typeof t>"u",Mf=t=>typeof t=="function",Af=t=>typeof t=="number";function Mc(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Df(){let t=0;return()=>t++}function Ac(){return Math.random().toString(36).substring(2)}const yl=typeof window>"u";function Nf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const Hs=(t,e)=>t?{}:{style:e},Hn=t=>({"aria-hidden":"true",...Hs(t,"display:none;")}),Un=[];function If(t,e){return{subscribe:Ze(t,e).subscribe}}function Ze(t,e=ie){let l;const n=new Set;function i(a){if(we(t,a)&&(t=a,l)){const c=!Un.length;for(const f of n)f[1](),Un.push(f,t);if(c){for(let f=0;f<Un.length;f+=2)Un[f][0](Un[f+1]);Un.length=0}}}function o(a){i(a(t))}function r(a,c=ie){const f=[a,c];return n.add(f),n.size===1&&(l=e(i)||ie),a(t),()=>{n.delete(f),n.size===0&&(l(),l=null)}}return{set:i,update:o,subscribe:r}}function Dc(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,o=e.length<2;return If(l,r=>{let a=!1;const c=[];let f=0,p=ie;const _=()=>{if(f)return;p();const g=e(n?c[0]:c,r);o?r(g):p=yf(g)?g:ie},d=i.map((g,h)=>Js(g,b=>{c[h]=b,f&=~(1<<h),a&&_()},()=>{f|=1<<h}));return a=!0,_(),function(){Ge(d),p()}})}const ui=t=>`@@svnav-ctx__${t}`,js=ui("LOCATION"),Yn=ui("ROUTER"),Ef=ui("ROUTE"),Nc=ui("ROUTE_PARAMS"),Ic=ui("FOCUS_ELEM"),Rf=/^:(.+)/,ti=(t,e,l)=>t.substr(e,l),Ws=(t,e)=>ti(t,0,e.length)===e,Ec=t=>t==="",Rc=t=>Rf.test(t),Ff=t=>t[0]==="*",Fc=t=>t.replace(/\*.*$/,""),Lf=t=>t.replace(/(^\/+|\/+$)/g,"");function Kt(t,e=!1){const l=Lf(t).split("/");return e?l.filter(Boolean):l}const Rs=(t,e)=>t+(e?`?${e}`:""),lo=t=>`/${Lf(t)}`;function ri(...t){const e=n=>Kt(n,!0).join("/"),l=t.map(e).join("/");return lo(l)}const no=1,ds=2,Vl=3,Lc=4,Of=5,Oc=6,qf=7,qc=8,Uc=9,Uf=10,Hf=11,Hc={[no]:"Link",[ds]:"Route",[Vl]:"Router",[Lc]:"useFocus",[Of]:"useLocation",[Oc]:"useMatch",[qf]:"useNavigate",[qc]:"useParams",[Uc]:"useResolvable",[Uf]:"useResolve",[Hf]:"navigate"},io=t=>Hc[t];function jc(t,e){let l;return t===ds?l=e.path?`path="${e.path}"`:"default":t===no?l=`to="${e.to}"`:t===Vl&&(l=`basepath="${e.basepath||""}"`),`<${io(t)} ${l||""} />`}function Wc(t,e,l,n){const i=l&&jc(n||t,l),o=i?`

Occurred in: ${i}`:"",r=io(t),a=Mf(e)?e(r):e;return`<${r}> ${a}${o}`}const jf=t=>(...e)=>t(Wc(...e)),Wf=jf(t=>{throw new Error(t)}),cs=jf(console.warn),br=4,Gc=3,Bc=2,Yc=1,zc=1;function Vc(t,e){const l=t.default?0:Kt(t.fullPath).reduce((n,i)=>{let o=n;return o+=br,Ec(i)?o+=zc:Rc(i)?o+=Bc:Ff(i)?o-=br+Yc:o+=Gc,o},0);return{route:t,score:l,index:e}}function Kc(t){return t.map(Vc).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function Gf(t,e){let l,n;const[i]=e.split("?"),o=Kt(i),r=o[0]==="",a=Kc(t);for(let c=0,f=a.length;c<f;c++){const{route:p}=a[c];let _=!1;const d={},g=k=>({...p,params:d,uri:k});if(p.default){n=g(e);continue}const h=Kt(p.fullPath),b=Math.max(o.length,h.length);let $=0;for(;$<b;$++){const k=h[$],T=o[$];if(!gr(k)&&Ff(k)){const E=k==="*"?"*":k.slice(1);d[E]=o.slice($).map(decodeURIComponent).join("/");break}if(gr(T)){_=!0;break}const P=Rf.exec(k);if(P&&!r){const E=decodeURIComponent(T);d[P[1]]=E}else if(k!==T){_=!0;break}}if(!_){l=g(ri(...o.slice(0,$)));break}}return l||n||null}function Bf(t,e){return Gf([t],e)}function Qc(t,e){if(Ws(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),o=Kt(l),r=Kt(i);if(o[0]==="")return Rs(i,n);if(!Ws(o[0],".")){const f=r.concat(o).join("/");return Rs((i==="/"?"":"/")+f,n)}const a=r.concat(o),c=[];return a.forEach(f=>{f===".."?c.pop():f!=="."&&c.push(f)}),Rs(`/${c.join("/")}`,n)}function kr(t,e){const{pathname:l,hash:n="",search:i="",state:o}=t,r=Kt(e,!0),a=Kt(l,!0);for(;r.length;)r[0]!==a[0]&&Wf(Vl,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),r.shift(),a.shift();return{pathname:ri(...a),hash:n,search:i,state:o}}const wr=t=>t.length===1?"":t,so=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,o=i?wr(ti(t,l)):"",r=i?ti(t,0,l):t,a=n?wr(ti(r,e)):"";return{pathname:(n?ti(r,0,e):r)||"/",search:a,hash:o}},Zc=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function Jc(t,e,l){return ri(l,Qc(t,e))}function Xc(t,e){const l=lo(Fc(t)),n=Kt(l,!0),i=Kt(e,!0).slice(0,n.length),o=Bf({fullPath:l},ri(...i));return o&&o.uri}const Fs="POP",xc="PUSH",e1="REPLACE";function Ls(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function t1(t){let e=[],l=Ls(t),n=Fs;const i=(o=e)=>o.forEach(r=>r({location:l,action:n}));return{get location(){return l},listen(o){e.push(o);const r=()=>{l=Ls(t),n=Fs,i([o])};i([o]);const a=Nf(t,"popstate",r);return()=>{a(),e=e.filter(c=>c!==o)}},navigate(o,r){const{state:a={},replace:c=!1}=r||{};if(n=c?e1:xc,Af(o))r&&cs(Hf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Fs,t.history.go(o);else{const f={...a,_key:Ac()};try{t.history[c?"replaceState":"pushState"](f,"",o)}catch{t.location[c?"replace":"assign"](o)}}l=Ls(t),i()}}}function Os(t,e){return{...so(e),state:t}}function l1(t="/"){let e=0,l=[Os(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,o){e++,l=l.slice(0,e),l.push(Os(n,o))},replaceState(n,i,o){l[e]=Os(n,o)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const n1=!!(!yl&&window.document&&window.document.createElement),i1=!yl&&window.location.origin==="null",Yf=t1(n1&&!i1?window:l1()),{navigate:jn}=Yf;let ul=null,zf=!0;function s1(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],o=Number(i.dataset.svnavRouter);if(o===t)return!0;if(o===e)return!1}return!1}function o1(t){(!ul||t.level>ul.level||t.level===ul.level&&s1(t.routerId,ul.routerId))&&(ul=t)}function u1(){ul=null}function r1(){zf=!1}function yr(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=Nf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function a1(t,e){return Number(t.dataset.svnavRouteEnd)===e}function f1(t){return/^H[1-6]$/i.test(t.tagName)}function $r(t,e=document){return e.querySelector(t)}function c1(t){let l=$r(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!a1(l,t);){if(f1(l))return l;const n=$r("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function m1(t){Promise.resolve(Gn(t.focusElement)).then(e=>{const l=e||c1(t.id);l||cs(Vl,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,ds),!yr(l)&&yr(document.documentElement)})}const p1=(t,e,l)=>(n,i)=>Tc().then(()=>{if(!ul||zf){r1();return}if(n&&m1(ul.route),t.announcements&&i){const{path:o,fullPath:r,meta:a,params:c,uri:f}=ul.route,p=t.createAnnouncement({path:o,fullPath:r,meta:a,params:c,uri:f},Gn(l));Promise.resolve(p).then(_=>{e.set(_)})}u1()}),Cr="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function _1(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Hs(t[6],Cr)],i={};for(let o=0;o<n.length;o+=1)i=Ot(i,n[o]);return{c(){e=m("div"),l=C(t[0]),Yt(e,i)},m(o,r){y(o,e,r),s(e,l)},p(o,r){r[0]&1&&B(l,o[0]),Yt(e,i=Bn(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Hs(o[6],Cr)]))},d(o){o&&w(e)}}}function d1(t){let e,l,n,i,o,r=[Hn(t[6]),{"data-svnav-router":t[3]}],a={};for(let _=0;_<r.length;_+=1)a=Ot(a,r[_]);const c=t[22].default,f=Xs(c,t,t[21],null);let p=t[2]&&t[4]&&t[1].announcements&&_1(t);return{c(){e=m("div"),l=v(),f&&f.c(),n=v(),p&&p.c(),i=je(),Yt(e,a)},m(_,d){y(_,e,d),y(_,l,d),f&&f.m(_,d),y(_,n,d),p&&p.m(_,d),y(_,i,d),o=!0},p(_,d){Yt(e,a=Bn(r,[Hn(_[6]),{"data-svnav-router":_[3]}])),f&&f.p&&(!o||d[0]&2097152)&&eo(f,c,_,_[21],o?xs(c,_[21],d,null):to(_[21]),null),_[2]&&_[4]&&_[1].announcements&&p.p(_,d)},i(_){o||(M(f,_),o=!0)},o(_){I(f,_),o=!1},d(_){_&&w(e),_&&w(l),f&&f.d(_),_&&w(n),p&&p.d(_),_&&w(i)}}}const v1=Df(),Tr="/";function h1(t,e,l){let n,i,o,r,a,{$$slots:c={},$$scope:f}=e,{basepath:p=Tr}=e,{url:_=null}=e,{history:d=Yf}=e,{primary:g=!0}=e,{a11y:h={}}=e,{disableInlineStyles:b=!1}=e;const $={createAnnouncement:te=>`Navigated to ${te.uri}`,announcements:!0,...h},k=p,T=lo(p),P=wl(js),E=wl(Yn),S=!P,N=v1(),D=g&&!(E&&!E.manageFocus),R=Ze("");Bt(t,R,te=>l(0,a=te));const H=E?E.disableInlineStyles:b,U=Ze([]);Bt(t,U,te=>l(20,r=te));const F=Ze(null);Bt(t,F,te=>l(18,i=te));let L=!1;const G=S?0:E.level+1,O=S?Ze((()=>kr(yl?so(_):d.location,T))()):P;Bt(t,O,te=>l(17,n=te));const q=Ze(n);Bt(t,q,te=>l(19,o=te));const W=p1($,R,O),X=te=>Ae=>Ae.filter(_e=>_e.id!==te);function Y(te){if(yl){if(L)return;const Ae=Bf(te,n.pathname);if(Ae)return L=!0,Ae}else U.update(Ae=>{const _e=X(te.id)(Ae);return _e.push(te),_e})}function ne(te){U.update(X(te))}return!S&&p!==Tr&&cs(Vl,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:p}),S&&(yc(()=>d.listen(Ae=>{const _e=kr(Ae.location,T);q.set(n),O.set(_e)})),ni(js,O)),ni(Yn,{activeRoute:F,registerRoute:Y,unregisterRoute:ne,manageFocus:D,level:G,id:N,history:S?d:E.history,basepath:S?T:E.basepath,disableInlineStyles:H}),t.$$set=te=>{"basepath"in te&&l(11,p=te.basepath),"url"in te&&l(12,_=te.url),"history"in te&&l(13,d=te.history),"primary"in te&&l(14,g=te.primary),"a11y"in te&&l(15,h=te.a11y),"disableInlineStyles"in te&&l(16,b=te.disableInlineStyles),"$$scope"in te&&l(21,f=te.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&p!==k&&cs(Vl,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const te=Gf(r,n.pathname);F.set(te)}if(t.$$.dirty[0]&655360&&S){const te=!!n.hash,Ae=!te&&D,_e=!te||n.pathname!==o.pathname;W(Ae,_e)}t.$$.dirty[0]&262144&&D&&i&&i.primary&&o1({level:G,routerId:N,route:i})},[a,$,S,N,D,R,H,U,F,O,q,p,_,d,g,h,b,n,i,o,r,f,c]}class Vf extends $e{constructor(e){super(),ye(this,e,h1,d1,we,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}function ai(t,e,l=Yn,n=Vl){wl(l)||Wf(t,o=>`You cannot use ${o} outside of a ${io(n)}.`,e)}const g1=t=>{const{subscribe:e}=wl(t);return{subscribe:e}};function Kf(){return ai(Of),g1(js)}function Qf(){const{history:t}=wl(Yn);return t}function Zf(){const t=wl(Ef);return t?Dc(t,e=>e.base):Ze("/")}function Jf(){ai(Uf);const t=Zf(),{basepath:e}=wl(Yn);return n=>Jc(n,Gn(t),e)}function b1(){ai(qf);const t=Jf(),{navigate:e}=Qf();return(n,i)=>{const o=Af(n)?n:t(n);return e(o,i)}}const k1=t=>({params:t&16,location:t&8}),Sr=t=>({params:yl?Gn(t[10]):t[4],location:t[3],navigate:t[11]});function Pr(t){let e,l;return e=new Vf({props:{primary:t[1],$$slots:{default:[$1]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.primary=n[1]),i&528409&&(o.$$scope={dirty:i,ctx:n}),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function w1(t){let e;const l=t[18].default,n=Xs(l,t,t[19],Sr);return{c(){n&&n.c()},m(i,o){n&&n.m(i,o),e=!0},p(i,o){n&&n.p&&(!e||o&524312)&&eo(n,l,i,i[19],e?xs(l,i[19],o,k1):to(i[19]),Sr)},i(i){e||(M(n,i),e=!0)},o(i){I(n,i),e=!1},d(i){n&&n.d(i)}}}function y1(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},yl?Gn(t[10]):t[4],t[12]];var o=t[0];function r(a){let c={};for(let f=0;f<i.length;f+=1)c=Ot(c,i[f]);return{props:c}}return o&&(e=new o(r())),{c(){e&&Z(e.$$.fragment),l=je()},m(a,c){e&&K(e,a,c),y(a,l,c),n=!0},p(a,c){const f=c&7192?Bn(i,[c&8&&{location:a[3]},c&2048&&{navigate:a[11]},c&1040&&hr(yl?Gn(a[10]):a[4]),c&4096&&hr(a[12])]):{};if(o!==(o=a[0])){if(e){Ce();const p=e;I(p.$$.fragment,1,0,()=>{Q(p,1)}),Te()}o?(e=new o(r()),Z(e.$$.fragment),M(e.$$.fragment,1),K(e,l.parentNode,l)):e=null}else o&&e.$set(f)},i(a){n||(e&&M(e.$$.fragment,a),n=!0)},o(a){e&&I(e.$$.fragment,a),n=!1},d(a){a&&w(l),e&&Q(e,a)}}}function $1(t){let e,l,n,i;const o=[y1,w1],r=[];function a(c,f){return c[0]!==null?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=je()},m(c,f){r[e].m(c,f),y(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e===p?r[e].p(c,f):(Ce(),I(r[p],1,1,()=>{r[p]=null}),Te(),l=r[e],l?l.p(c,f):(l=r[e]=o[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&w(n)}}}function C1(t){let e,l,n,i,o,r=[Hn(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let _=0;_<r.length;_+=1)a=Ot(a,r[_]);let c=t[2]&&Pr(t),f=[Hn(t[7]),{"data-svnav-route-end":t[5]}],p={};for(let _=0;_<f.length;_+=1)p=Ot(p,f[_]);return{c(){e=m("div"),l=v(),c&&c.c(),n=v(),i=m("div"),Yt(e,a),Yt(i,p)},m(_,d){y(_,e,d),y(_,l,d),c&&c.m(_,d),y(_,n,d),y(_,i,d),o=!0},p(_,[d]){Yt(e,a=Bn(r,[Hn(_[7]),{"data-svnav-route-start":_[5]}])),_[2]?c?(c.p(_,d),d&4&&M(c,1)):(c=Pr(_),c.c(),M(c,1),c.m(n.parentNode,n)):c&&(Ce(),I(c,1,1,()=>{c=null}),Te()),Yt(i,p=Bn(f,[Hn(_[7]),{"data-svnav-route-end":_[5]}]))},i(_){o||(M(c),o=!0)},o(_){I(c),o=!1},d(_){_&&w(e),_&&w(l),c&&c.d(_),_&&w(n),_&&w(i)}}}const T1=Df();function S1(t,e,l){let n;const i=["path","component","meta","primary"];let o=as(e,i),r,a,c,f,{$$slots:p={},$$scope:_}=e,{path:d=""}=e,{component:g=null}=e,{meta:h={}}=e,{primary:b=!0}=e;ai(ds,e);const $=T1(),{registerRoute:k,unregisterRoute:T,activeRoute:P,disableInlineStyles:E}=wl(Yn);Bt(t,P,L=>l(16,r=L));const S=Zf();Bt(t,S,L=>l(17,c=L));const N=Kf();Bt(t,N,L=>l(3,a=L));const D=Ze(null);let R;const H=Ze(),U=Ze({});Bt(t,U,L=>l(4,f=L)),ni(Ef,H),ni(Nc,U),ni(Ic,D);const F=b1();return yl||$c(()=>T($)),t.$$set=L=>{l(24,e=Ot(Ot({},e),rs(L))),l(12,o=as(e,i)),"path"in L&&l(13,d=L.path),"component"in L&&l(0,g=L.component),"meta"in L&&l(14,h=L.meta),"primary"in L&&l(1,b=L.primary),"$$scope"in L&&l(19,_=L.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const L=d==="",G=ri(c,d),j={id:$,path:d,meta:h,default:L,fullPath:L?"":G,base:L?c:Xc(G,a.pathname),primary:b,focusElement:D};H.set(j),l(15,R=k(j))}if(t.$$.dirty&98304&&l(2,n=!!(R||r&&r.id===$)),t.$$.dirty&98308&&n){const{params:L}=R||r;U.set(L)}},e=rs(e),[g,b,n,a,f,$,P,E,S,N,U,F,o,d,h,R,r,c,p,_]}class ol extends $e{constructor(e){super(),ye(this,e,S1,C1,we,{path:13,component:0,meta:14,primary:1})}}function P1(t){let e,l,n,i;const o=t[13].default,r=Xs(o,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],c={};for(let f=0;f<a.length;f+=1)c=Ot(c,a[f]);return{c(){e=m("a"),r&&r.c(),Yt(e,c)},m(f,p){y(f,e,p),r&&r.m(e,null),l=!0,n||(i=V(e,"click",t[4]),n=!0)},p(f,[p]){r&&r.p&&(!l||p&4096)&&eo(r,o,f,f[12],l?xs(o,f[12],p,null):to(f[12]),null),Yt(e,c=Bn(a,[(!l||p&1)&&{href:f[0]},p&4&&f[2],p&2&&f[1]]))},i(f){l||(M(r,f),l=!0)},o(f){I(r,f),l=!1},d(f){f&&w(e),r&&r.d(f),n=!1,i()}}}function M1(t,e,l){let n,i,o,r,a,c;const f=["to","replace","state","getProps"];let p=as(e,f),_,{$$slots:d={},$$scope:g}=e,{to:h}=e,{replace:b=!1}=e,{state:$={}}=e,{getProps:k=null}=e;ai(no,e);const T=Kf();Bt(t,T,D=>l(11,_=D));const P=Cc(),E=Jf(),{navigate:S}=Qf();function N(D){P("click",D),Mc(D)&&(D.preventDefault(),S(n,{state:$,replace:r||b}))}return t.$$set=D=>{l(19,e=Ot(Ot({},e),rs(D))),l(18,p=as(e,f)),"to"in D&&l(5,h=D.to),"replace"in D&&l(6,b=D.replace),"state"in D&&l(7,$=D.state),"getProps"in D&&l(8,k=D.getProps),"$$scope"in D&&l(12,g=D.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=E(h,_)),t.$$.dirty&2049&&l(10,i=Ws(_.pathname,n)),t.$$.dirty&2049&&l(9,o=n===_.pathname),t.$$.dirty&2049&&(r=so(n)===Zc(_)),t.$$.dirty&512&&l(2,a=o?{"aria-current":"page"}:{}),l(1,c=(()=>{if(Mf(k)){const D=k({location:_,href:n,isPartiallyCurrent:i,isCurrent:o});return{...p,...D}}return p})())},e=rs(e),[n,c,a,T,N,h,b,$,k,o,i,_,g,d]}class kl extends $e{constructor(e){super(),ye(this,e,M1,P1,we,{to:5,replace:6,state:7,getProps:8})}}let Gs=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function bl(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function A1(t){return t>218&&t<242?"#32d900":t>212&&t<248?"#b1d900":t>208&&t<252?"#ffb800":"#d90000"}function Xf(t){return t>90?"#d90000":t>85?"#e32100":t>80?"#ffb800":t>75?"#dcd800":"#32d900"}function D1(t){return t>75?"#32d900":t>50?"#77d900":t>25?"#94d900":"#dcd800"}function ms(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function Ne(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function pe(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function Mr(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No HAN data received last 30s";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function Ar(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function Dr(t){switch(t){case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function Wn(t){switch(t){case 2:case 4:case 7:return!0}return!1}function He(t,e){return t==1||t==2&&e}function $t(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function ke(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function ii(t,e){return t.setTime(t.getTime()+e*36e5),t}function Nr(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}async function $l(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),o=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),o}let Gt={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,trying:null};const Ct=Ze(Gt);async function oo(){Gt=await(await $l("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Ct.set(Gt)}let is=0,Ir=-127,Er=null,N1={};const I1=If(N1,t=>{let e;async function l(){$l("/data.json").then(n=>n.json()).then(n=>{t(n),Ir!=n.t&&(Ir=n.t,setTimeout(lc,2e3)),Er!=n.p&&(Er=n.p,setTimeout(E1,4e3)),Gt.upgrading?window.location.reload():(!Gt||!Gt.chip||Gt.booting||is>1&&!Wn(Gt.board))&&(oo(),Yl&&clearTimeout(Yl),Yl=setTimeout(uo,2e3),zl&&clearTimeout(zl),zl=setTimeout(ro,3e3));let i=5e3;if(Wn(Gt.board)&&n.v>2.5){let o=3.3-Math.min(3.3,n.v);o>0&&(i=Math.max(o,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),is=0}).catch(n=>{is++,is>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,Wn(Gt.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let Bs={};const xf=Ze(Bs);async function E1(){Bs=await(await $l("/energyprice.json")).json(),xf.set(Bs)}let Ys={},Yl;async function uo(){Yl&&(clearTimeout(Yl),Yl=0),Ys=await(await $l("/dayplot.json")).json(),ec.set(Ys);let e=new Date;Yl=setTimeout(uo,(60-e.getMinutes())*6e4+20)}const ec=Ze(Ys,t=>(uo(),function(){}));let zs={},zl;async function ro(){zl&&(clearTimeout(zl),zl=0),zs=await(await $l("/monthplot.json")).json(),tc.set(zs);let e=new Date;zl=setTimeout(ro,(24-e.getHours())*36e5+40)}const tc=Ze(zs,t=>(ro(),function(){}));let Vs={};async function lc(){Vs=await(await $l("/temperature.json")).json(),nc.set(Vs)}const nc=Ze(Vs,t=>(lc(),function(){}));let Ks={},ss;async function ic(){ss&&(clearTimeout(ss),ss=0),Ks=await(await $l("/tariff.json")).json(),sc.set(Ks);let e=new Date;ss=setTimeout(ic,(60-e.getMinutes())*6e4+30)}const sc=Ze(Ks,t=>function(){});let Qs=[];const ao=Ze(Qs);async function R1(){Qs=await(await $l("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),ao.set(Qs)}function ps(t){return"WARNING: "+t+" must be connected to an external power supply during firmware upgrade. Failure to do so may cause power-down during upload resulting in non-functioning unit."}async function oc(){await(await fetch("/upgrade",{method:"POST"})).json()}function uc(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),o=parseInt(l[2]),r=[...e];r.reverse();let a,c,f;for(let p=0;p<r.length;p++){let _=r[p],g=_.tag_name.substring(1).split("."),h=parseInt(g[0]),b=parseInt(g[1]),$=parseInt(g[2]);if(h==n)b==i?$>o&&(a=_):b==i+1&&(c=_);else if(h==n+1)if(f){let k=f.tag_name.substring(1).split(".");parseInt(k[0]);let T=parseInt(k[1]);parseInt(k[2]),b==T&&(f=_)}else f=_}return c||f||a||!1}else return e[0]}const F1="/github.svg";function Rr(t){let e,l;function n(r,a){return r[1]>1?W1:r[1]>0?j1:r[2]>1?H1:r[2]>0?U1:r[3]>1?q1:r[3]>0?O1:L1}let i=n(t),o=i(t);return{c(){e=C(`Up
    `),o.c(),l=je()},m(r,a){y(r,e,a),o.m(r,a),y(r,l,a)},p(r,a){i===(i=n(r))&&o?o.p(r,a):(o.d(1),o=i(r),o&&(o.c(),o.m(l.parentNode,l)))},d(r){r&&w(e),o.d(r),r&&w(l)}}}function L1(t){let e,l;return{c(){e=C(t[0]),l=C(" seconds")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&1&&B(e,n[0])},d(n){n&&w(e),n&&w(l)}}}function O1(t){let e,l;return{c(){e=C(t[3]),l=C(" minute")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&8&&B(e,n[3])},d(n){n&&w(e),n&&w(l)}}}function q1(t){let e,l;return{c(){e=C(t[3]),l=C(" minutes")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&8&&B(e,n[3])},d(n){n&&w(e),n&&w(l)}}}function U1(t){let e,l;return{c(){e=C(t[2]),l=C(" hour")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&4&&B(e,n[2])},d(n){n&&w(e),n&&w(l)}}}function H1(t){let e,l;return{c(){e=C(t[2]),l=C(" hours")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&4&&B(e,n[2])},d(n){n&&w(e),n&&w(l)}}}function j1(t){let e,l;return{c(){e=C(t[1]),l=C(" day")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&2&&B(e,n[1])},d(n){n&&w(e),n&&w(l)}}}function W1(t){let e,l;return{c(){e=C(t[1]),l=C(" days")},m(n,i){y(n,e,i),y(n,l,i)},p(n,i){i&2&&B(e,n[1])},d(n){n&&w(e),n&&w(l)}}}function G1(t){let e,l=t[0]&&Rr(t);return{c(){l&&l.c(),e=je()},m(n,i){l&&l.m(n,i),y(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Rr(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(n){l&&l.d(n),n&&w(e)}}}function B1(t,e,l){let{epoch:n}=e,i=0,o=0,r=0;return t.$$set=a=>{"epoch"in a&&l(0,n=a.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,o=Math.floor(n/3600)),l(3,r=Math.floor(n/60)))},[n,i,o,r]}class Y1 extends $e{constructor(e){super(),ye(this,e,B1,G1,we,{epoch:0})}}function z1(t){let e,l,n;return{c(){e=m("span"),l=C(t[2]),u(e,"title",t[1]),u(e,"class",n="bd-"+t[0])},m(i,o){y(i,e,o),s(e,l)},p(i,[o]){o&4&&B(l,i[2]),o&2&&u(e,"title",i[1]),o&1&&n!==(n="bd-"+i[0])&&u(e,"class",n)},i:ie,o:ie,d(i){i&&w(e)}}}function V1(t,e,l){let{color:n}=e,{title:i}=e,{text:o}=e;return t.$$set=r=>{"color"in r&&l(0,n=r.color),"title"in r&&l(1,i=r.title),"text"in r&&l(2,o=r.text)},[n,i,o]}class zt extends $e{constructor(e){super(),ye(this,e,V1,z1,we,{color:0,title:1,text:2})}}function K1(t){let e,l=`${Ne(t[0].getDate())}.${Ne(t[0].getMonth())}.${t[0].getFullYear()} ${Ne(t[0].getHours())}:${Ne(t[0].getMinutes())}`,n;return{c(){e=m("span"),n=C(l),u(e,"class",t[1])},m(i,o){y(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=`${Ne(i[0].getDate())}.${Ne(i[0].getMonth())}.${i[0].getFullYear()} ${Ne(i[0].getHours())}:${Ne(i[0].getMinutes())}`)&&B(n,l),o&2&&u(e,"class",i[1])},d(i){i&&w(e)}}}function Q1(t){let e=`${Ne(t[0].getDate())}. ${Gs[t[0].getMonth()]} ${Ne(t[0].getHours())}:${Ne(t[0].getMinutes())}`,l;return{c(){l=C(e)},m(n,i){y(n,l,i)},p(n,i){i&1&&e!==(e=`${Ne(n[0].getDate())}. ${Gs[n[0].getMonth()]} ${Ne(n[0].getHours())}:${Ne(n[0].getMinutes())}`)&&B(l,e)},d(n){n&&w(l)}}}function Z1(t){let e,l;function n(r,a){return a&1&&(e=null),e==null&&(e=Math.abs(new Date().getTime()-r[0].getTime())<3e5),e?Q1:K1}let i=n(t,-1),o=i(t);return{c(){o.c(),l=je()},m(r,a){o.m(r,a),y(r,l,a)},p(r,[a]){i===(i=n(r,a))&&o?o.p(r,a):(o.d(1),o=i(r),o&&(o.c(),o.m(l.parentNode,l)))},i:ie,o:ie,d(r){o.d(r),r&&w(l)}}}function J1(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e;return t.$$set=o=>{"timestamp"in o&&l(0,n=o.timestamp),"fullTimeColor"in o&&l(1,i=o.fullTimeColor)},[n,i]}class rc extends $e{constructor(e){super(),ye(this,e,J1,Z1,we,{timestamp:0,fullTimeColor:1})}}function X1(t){let e,l,n;return{c(){e=Oe("svg"),l=Oe("path"),n=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),u(n,"stroke-linecap","round"),u(n,"stroke-linejoin","round"),u(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(i,o){y(i,e,o),s(e,l),s(e,n)},p:ie,i:ie,o:ie,d(i){i&&w(e)}}}class x1 extends $e{constructor(e){super(),ye(this,e,null,X1,we,{})}}function em(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){y(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&w(e)}}}class tm extends $e{constructor(e){super(),ye(this,e,null,em,we,{})}}function lm(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){y(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&w(e)}}}class yt extends $e{constructor(e){super(),ye(this,e,null,lm,we,{})}}function nm(t){let e,l;return{c(){e=Oe("svg"),l=Oe("path"),u(l,"stroke-linecap","round"),u(l,"stroke-linejoin","round"),u(l,"d","M9 8.25H7.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25H15M9 12l3 3m0 0l3-3m-3 3V2.25"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","w-6 h-6")},m(n,i){y(n,e,i),s(e,l)},p:ie,i:ie,o:ie,d(n){n&&w(e)}}}class ac extends $e{constructor(e){super(),ye(this,e,null,nm,we,{})}}function im(t){let e,l,n=t[1].version+"",i;return{c(){e=C("AMS reader "),l=m("span"),i=C(n)},m(o,r){y(o,e,r),y(o,l,r),s(l,i)},p(o,r){r&2&&n!==(n=o[1].version+"")&&B(i,n)},d(o){o&&w(e),o&&w(l)}}}function Fr(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=m("div"),n=C(l),i=C("\xB0C"),u(e,"class","flex-none my-auto")},m(o,r){y(o,e,r),s(e,n),s(e,i)},p(o,r){r&1&&l!==(l=(o[0].t>-50?o[0].t.toFixed(1):"-")+"")&&B(n,l)},d(o){o&&w(e)}}}function Lr(t){let e,l="HAN: "+Mr(t[0].he),n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,o){y(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="HAN: "+Mr(i[0].he))&&B(n,l)},d(i){i&&w(e)}}}function Or(t){let e,l="MQTT: "+Ar(t[0].me),n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,o){y(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="MQTT: "+Ar(i[0].me))&&B(n,l)},d(i){i&&w(e)}}}function qr(t){let e,l="PriceAPI: "+Dr(t[0].ee),n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,o){y(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l="PriceAPI: "+Dr(i[0].ee))&&B(n,l)},d(i){i&&w(e)}}}function Ur(t){let e,l,n,i,o,r;return l=new kl({props:{to:"/configuration",$$slots:{default:[sm]},$$scope:{ctx:t}}}),o=new kl({props:{to:"/status",$$slots:{default:[om]},$$scope:{ctx:t}}}),{c(){e=m("div"),Z(l.$$.fragment),n=v(),i=m("div"),Z(o.$$.fragment),u(e,"class","flex-none px-1 mt-1"),u(e,"title","Configuration"),u(i,"class","flex-none px-1 mt-1"),u(i,"title","Device information")},m(a,c){y(a,e,c),K(l,e,null),y(a,n,c),y(a,i,c),K(o,i,null),r=!0},i(a){r||(M(l.$$.fragment,a),M(o.$$.fragment,a),r=!0)},o(a){I(l.$$.fragment,a),I(o.$$.fragment,a),r=!1},d(a){a&&w(e),Q(l),a&&w(n),a&&w(i),Q(o)}}}function sm(t){let e,l;return e=new x1({}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function om(t){let e,l;return e=new tm({}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Hr(t){let e,l,n,i,o;const r=[rm,um],a=[];function c(f,p){return f[1].security==0||f[0].a?0:1}return l=c(t),n=a[l]=r[l](t),{c(){e=m("div"),n.c(),u(e,"class","flex-none mr-3 text-yellow-500"),u(e,"title",i="New version: "+t[2].tag_name)},m(f,p){y(f,e,p),a[l].m(e,null),o=!0},p(f,p){let _=l;l=c(f),l===_?a[l].p(f,p):(Ce(),I(a[_],1,1,()=>{a[_]=null}),Te(),n=a[l],n?n.p(f,p):(n=a[l]=r[l](f),n.c()),M(n,1),n.m(e,null)),(!o||p&4&&i!==(i="New version: "+f[2].tag_name))&&u(e,"title",i)},i(f){o||(M(n),o=!0)},o(f){I(n),o=!1},d(f){f&&w(e),a[l].d()}}}function um(t){let e,l,n=t[2].tag_name+"",i;return{c(){e=m("span"),l=C("New version: "),i=C(n)},m(o,r){y(o,e,r),s(e,l),s(e,i)},p(o,r){r&4&&n!==(n=o[2].tag_name+"")&&B(i,n)},i:ie,o:ie,d(o){o&&w(e)}}}function rm(t){let e,l,n,i=t[2].tag_name+"",o,r,a,c,f,p;return a=new ac({}),{c(){e=m("button"),l=m("span"),n=C("New version: "),o=C(i),r=v(),Z(a.$$.fragment),u(l,"class","mt-1"),u(e,"class","flex")},m(_,d){y(_,e,d),s(e,l),s(l,n),s(l,o),s(e,r),K(a,e,null),c=!0,f||(p=V(e,"click",t[3]),f=!0)},p(_,d){(!c||d&4)&&i!==(i=_[2].tag_name+"")&&B(o,i)},i(_){c||(M(a.$$.fragment,_),c=!0)},o(_){I(a.$$.fragment,_),c=!1},d(_){_&&w(e),Q(a),f=!1,p()}}}function am(t){let e,l,n,i,o,r,a,c,f,p,_,d,g=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j,O,q,W,X,Y,ne,te,Ae,_e,Ie,Ee,Le,Re;i=new kl({props:{to:"/",$$slots:{default:[im]},$$scope:{ctx:t}}}),c=new Y1({props:{epoch:t[0].u}});let Se=t[0].t>-50&&Fr(t);T=new zt({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:bl(t[1].booting?2:t[0].em)}}),E=new zt({props:{title:"HAN",text:"HAN",color:bl(t[1].booting?9:t[0].hm)}}),N=new zt({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:bl(t[1].booting?9:t[0].wm)}}),R=new zt({props:{title:"MQTT",text:"MQTT",color:bl(t[1].booting?9:t[0].mm)}});let be=(t[0].he<0||t[0].he>0)&&Lr(t),fe=t[0].me<0&&Or(t),ae=(t[0].ee>0||t[0].ee<0)&&qr(t);ne=new rc({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),fullTimeColor:"text-red-500"}});let ce=t[1].vndcfg&&t[1].usrcfg&&Ur(t);Ee=new yt({});let ue=t[1].fwconsent===1&&t[2]&&Hr(t);return{c(){e=m("nav"),l=m("div"),n=m("div"),Z(i.$$.fragment),o=v(),r=m("div"),a=m("div"),Z(c.$$.fragment),f=v(),Se&&Se.c(),p=v(),_=m("div"),d=C("Free mem: "),h=C(g),b=C("kb"),$=v(),k=m("div"),Z(T.$$.fragment),P=v(),Z(E.$$.fragment),S=v(),Z(N.$$.fragment),D=v(),Z(R.$$.fragment),H=v(),be&&be.c(),U=v(),fe&&fe.c(),F=v(),ae&&ae.c(),L=v(),G=m("div"),j=m("div"),O=m("a"),q=m("img"),X=v(),Y=m("div"),Z(ne.$$.fragment),te=v(),ce&&ce.c(),Ae=v(),_e=m("div"),Ie=m("a"),Z(Ee.$$.fragment),Le=v(),ue&&ue.c(),u(n,"class","flex text-lg text-gray-100 p-2"),u(a,"class","flex-none my-auto"),u(_,"class","flex-none my-auto"),u(r,"class","flex-none my-auto p-2 flex space-x-4"),u(k,"class","flex-auto flex-wrap my-auto justify-center p-2"),u(q,"class","gh-logo"),vc(q.src,W=F1)||u(q,"src",W),u(q,"alt","GitHub repo"),u(O,"class","float-right"),u(O,"href","https://github.com/UtilitechAS/amsreader-firmware"),u(O,"target","_blank"),u(O,"rel","noreferrer"),u(O,"aria-label","GitHub"),u(j,"class","flex-none"),u(Y,"class","flex-none my-auto px-2"),u(Ie,"href",$t("")),u(Ie,"target","_blank"),u(Ie,"rel","noreferrer"),u(_e,"class","flex-none px-1 mt-1"),u(_e,"title","Documentation"),u(G,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),u(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),u(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(J,se){y(J,e,se),s(e,l),s(l,n),K(i,n,null),s(l,o),s(l,r),s(r,a),K(c,a,null),s(r,f),Se&&Se.m(r,null),s(r,p),s(r,_),s(_,d),s(_,h),s(_,b),s(l,$),s(l,k),K(T,k,null),s(k,P),K(E,k,null),s(k,S),K(N,k,null),s(k,D),K(R,k,null),s(l,H),be&&be.m(l,null),s(l,U),fe&&fe.m(l,null),s(l,F),ae&&ae.m(l,null),s(l,L),s(l,G),s(G,j),s(j,O),s(O,q),s(G,X),s(G,Y),K(ne,Y,null),s(G,te),ce&&ce.m(G,null),s(G,Ae),s(G,_e),s(_e,Ie),K(Ee,Ie,null),s(G,Le),ue&&ue.m(G,null),Re=!0},p(J,[se]){const Pe={};se&18&&(Pe.$$scope={dirty:se,ctx:J}),i.$set(Pe);const ee={};se&1&&(ee.epoch=J[0].u),c.$set(ee),J[0].t>-50?Se?Se.p(J,se):(Se=Fr(J),Se.c(),Se.m(r,p)):Se&&(Se.d(1),Se=null),(!Re||se&1)&&g!==(g=(J[0].m?(J[0].m/1e3).toFixed(1):"-")+"")&&B(h,g);const oe={};se&3&&(oe.text=J[1].booting?"Booting":J[0].v>2?J[0].v.toFixed(2)+"V":"ESP"),se&3&&(oe.color=bl(J[1].booting?2:J[0].em)),T.$set(oe);const Ue={};se&3&&(Ue.color=bl(J[1].booting?9:J[0].hm)),E.$set(Ue);const Me={};se&1&&(Me.text=J[0].r?J[0].r.toFixed(0)+"dBm":"WiFi"),se&3&&(Me.color=bl(J[1].booting?9:J[0].wm)),N.$set(Me);const de={};se&3&&(de.color=bl(J[1].booting?9:J[0].mm)),R.$set(de),J[0].he<0||J[0].he>0?be?be.p(J,se):(be=Lr(J),be.c(),be.m(l,U)):be&&(be.d(1),be=null),J[0].me<0?fe?fe.p(J,se):(fe=Or(J),fe.c(),fe.m(l,F)):fe&&(fe.d(1),fe=null),J[0].ee>0||J[0].ee<0?ae?ae.p(J,se):(ae=qr(J),ae.c(),ae.m(l,L)):ae&&(ae.d(1),ae=null);const ve={};se&1&&(ve.timestamp=J[0].c?new Date(J[0].c*1e3):new Date(0)),ne.$set(ve),J[1].vndcfg&&J[1].usrcfg?ce?se&2&&M(ce,1):(ce=Ur(J),ce.c(),M(ce,1),ce.m(G,Ae)):ce&&(Ce(),I(ce,1,1,()=>{ce=null}),Te()),J[1].fwconsent===1&&J[2]?ue?(ue.p(J,se),se&6&&M(ue,1)):(ue=Hr(J),ue.c(),M(ue,1),ue.m(G,null)):ue&&(Ce(),I(ue,1,1,()=>{ue=null}),Te())},i(J){Re||(M(i.$$.fragment,J),M(c.$$.fragment,J),M(T.$$.fragment,J),M(E.$$.fragment,J),M(N.$$.fragment,J),M(R.$$.fragment,J),M(ne.$$.fragment,J),M(ce),M(Ee.$$.fragment,J),M(ue),Re=!0)},o(J){I(i.$$.fragment,J),I(c.$$.fragment,J),I(T.$$.fragment,J),I(E.$$.fragment,J),I(N.$$.fragment,J),I(R.$$.fragment,J),I(ne.$$.fragment,J),I(ce),I(Ee.$$.fragment,J),I(ue),Re=!1},d(J){J&&w(e),Q(i),Q(c),Se&&Se.d(),Q(T),Q(E),Q(N),Q(R),be&&be.d(),fe&&fe.d(),ae&&ae.d(),Q(ne),ce&&ce.d(),Q(Ee),ue&&ue.d()}}}function fm(t,e,l){let{data:n={}}=e,i={},o={};function r(){confirm("Do you want to upgrade this device to "+o.tag_name+"?")&&(!Wn(i.board)||confirm(ps(pe(i.chip,i.board))))&&(Ct.update(a=>(a.upgrading=!0,a)),oc())}return Ct.subscribe(a=>{l(1,i=a),a.fwconsent===1&&R1()}),ao.subscribe(a=>{l(2,o=uc(i.version,a))}),t.$$set=a=>{"data"in a&&l(0,n=a.data)},[n,i,o,r]}class cm extends $e{constructor(e){super(),ye(this,e,fm,am,we,{data:0})}}function mm(t){let e,l,n,i;return{c(){e=Oe("svg"),l=Oe("path"),n=Oe("path"),u(l,"d",qs(150,150,115,210,510)),u(l,"stroke","#eee"),u(l,"fill","none"),u(l,"stroke-width","55"),u(n,"d",i=qs(150,150,115,210,210+300*t[0]/100)),u(n,"stroke",t[1]),u(n,"fill","none"),u(n,"stroke-width","55"),u(e,"viewBox","0 0 300 300"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"height","100%")},m(o,r){y(o,e,r),s(e,l),s(e,n)},p(o,[r]){r&1&&i!==(i=qs(150,150,115,210,210+300*o[0]/100))&&u(n,"d",i),r&2&&u(n,"stroke",o[1])},i:ie,o:ie,d(o){o&&w(e)}}}function jr(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function qs(t,e,l,n,i){var o=jr(t,e,l,i),r=jr(t,e,l,n),a=i-n<=180?"0":"1",c=["M",o.x,o.y,"A",l,l,0,a,0,r.x,r.y].join(" ");return c}function pm(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=o=>{"pct"in o&&l(0,n=o.pct),"color"in o&&l(1,i=o.color)},[n,i]}class _m extends $e{constructor(e){super(),ye(this,e,pm,mm,we,{pct:0,color:1})}}function Wr(t){let e,l,n,i,o,r,a,c;return{c(){e=m("br"),l=v(),n=m("span"),i=C(t[3]),o=v(),r=m("span"),a=C(t[4]),c=C("/kWh"),u(n,"class","pl-sub"),u(r,"class","pl-snt")},m(f,p){y(f,e,p),y(f,l,p),y(f,n,p),s(n,i),y(f,o,p),y(f,r,p),s(r,a),s(r,c)},p(f,p){p&8&&B(i,f[3]),p&16&&B(a,f[4])},d(f){f&&w(e),f&&w(l),f&&w(n),f&&w(o),f&&w(r)}}}function dm(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$;l=new _m({props:{pct:t[6],color:t[5](t[6])}});let k=t[3]&&Wr(t);return{c(){e=m("div"),Z(l.$$.fragment),n=v(),i=m("span"),o=m("span"),r=C(t[2]),a=v(),c=m("br"),f=v(),p=m("span"),_=C(t[0]),d=v(),g=m("span"),h=C(t[1]),b=v(),k&&k.c(),u(o,"class","pl-lab"),u(p,"class","pl-val"),u(g,"class","pl-unt"),u(i,"class","pl-ov"),u(e,"class","pl-root")},m(T,P){y(T,e,P),K(l,e,null),s(e,n),s(e,i),s(i,o),s(o,r),s(i,a),s(i,c),s(i,f),s(i,p),s(p,_),s(i,d),s(i,g),s(g,h),s(i,b),k&&k.m(i,null),$=!0},p(T,[P]){const E={};P&64&&(E.pct=T[6]),P&96&&(E.color=T[5](T[6])),l.$set(E),(!$||P&4)&&B(r,T[2]),(!$||P&1)&&B(_,T[0]),(!$||P&2)&&B(h,T[1]),T[3]?k?k.p(T,P):(k=Wr(T),k.c(),k.m(i,null)):k&&(k.d(1),k=null)},i(T){$||(M(l.$$.fragment,T),$=!0)},o(T){I(l.$$.fragment,T),$=!1},d(T){T&&w(e),Q(l),k&&k.d()}}}function vm(t,e,l){let{val:n}=e,{max:i}=e,{unit:o}=e,{label:r}=e,{sub:a=""}=e,{subunit:c=""}=e,{colorFn:f}=e,p=0;return t.$$set=_=>{"val"in _&&l(0,n=_.val),"max"in _&&l(7,i=_.max),"unit"in _&&l(1,o=_.unit),"label"in _&&l(2,r=_.label),"sub"in _&&l(3,a=_.sub),"subunit"in _&&l(4,c=_.subunit),"colorFn"in _&&l(5,f=_.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,p=Math.min(n,i)/i*100)},[n,o,r,a,c,f,p,i]}class fc extends $e{constructor(e){super(),ye(this,e,vm,dm,we,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function Gr(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function Br(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function Yr(t,e,l){const n=t.slice();return n[13]=e[l],n}function zr(t){let e,l=t[0].title+"",n;return{c(){e=m("strong"),n=C(l),u(e,"class","text-sm")},m(i,o){y(i,e,o),s(e,n)},p(i,o){o&1&&l!==(l=i[0].title+"")&&B(n,l)},d(i){i&&w(e)}}}function Vr(t){let e,l,n,i=t[13].label+"",o,r,a,c;return{c(){e=Oe("g"),l=Oe("line"),n=Oe("text"),o=C(i),u(l,"x2","100%"),u(n,"y","-4"),u(n,"x",r=t[13].align=="right"?"85%":""),u(e,"class",a="tick tick-"+t[13].value+" tick-"+t[13].color),u(e,"transform",c="translate(0, "+t[6](t[13].value)+")")},m(f,p){y(f,e,p),s(e,l),s(e,n),s(n,o)},p(f,p){p&1&&i!==(i=f[13].label+"")&&B(o,i),p&1&&r!==(r=f[13].align=="right"?"85%":"")&&u(n,"x",r),p&1&&a!==(a="tick tick-"+f[13].value+" tick-"+f[13].color)&&u(e,"class",a),p&65&&c!==(c="translate(0, "+f[6](f[13].value)+")")&&u(e,"transform",c)},d(f){f&&w(e)}}}function Kr(t){let e,l,n=t[9].label+"",i,o,r;return{c(){e=Oe("g"),l=Oe("text"),i=C(n),u(l,"x",o=t[3]/2),u(l,"y","-4"),u(e,"class","tick"),u(e,"transform",r="translate("+t[5](t[11])+","+t[4]+")")},m(a,c){y(a,e,c),s(e,l),s(l,i)},p(a,c){c&1&&n!==(n=a[9].label+"")&&B(i,n),c&8&&o!==(o=a[3]/2)&&u(l,"x",o),c&48&&r!==(r="translate("+a[5](a[11])+","+a[4]+")")&&u(e,"transform",r)},d(a){a&&w(e)}}}function Qr(t){let e,l,n,i,o,r,a,c=t[3]>15&&Zr(t);return{c(){e=Oe("rect"),c&&c.c(),a=je(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](t[9].value)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),u(e,"fill",r=t[9].color)},m(f,p){y(f,e,p),c&&c.m(f,p),y(f,a,p)},p(f,p){p&32&&l!==(l=f[5](f[11])+2)&&u(e,"x",l),p&65&&n!==(n=f[6](f[9].value))&&u(e,"y",n),p&8&&i!==(i=f[3]-4)&&u(e,"width",i),p&65&&o!==(o=f[6](f[0].y.min)-f[6](Math.min(f[0].y.min,0)+f[9].value))&&u(e,"height",o),p&1&&r!==(r=f[9].color)&&u(e,"fill",r),f[3]>15?c?c.p(f,p):(c=Zr(f),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&w(e),c&&c.d(f),f&&w(a)}}}function Zr(t){let e,l=t[9].label+"",n,i,o,r,a,c,f;return{c(){e=Oe("text"),n=C(l),u(e,"y",i=t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10),u(e,"x",o=t[5](t[11])+t[3]/2),u(e,"width",r=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",a=t[3]<25?"left":"middle"),u(e,"fill",c=t[6](t[9].value)>t[6](0)-t[7]?t[9].color:"white"),u(e,"transform",f="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+9)+")")},m(p,_){y(p,e,_),s(e,n)},p(p,_){_&1&&l!==(l=p[9].label+"")&&B(n,l),_&193&&i!==(i=p[6](p[9].value)>p[6](0)-p[7]?p[6](p[9].value)-p[7]:p[6](p[9].value)+10)&&u(e,"y",i),_&40&&o!==(o=p[5](p[11])+p[3]/2)&&u(e,"x",o),_&8&&r!==(r=p[3]-4)&&u(e,"width",r),_&8&&a!==(a=p[3]<25?"left":"middle")&&u(e,"text-anchor",a),_&193&&c!==(c=p[6](p[9].value)>p[6](0)-p[7]?p[9].color:"white")&&u(e,"fill",c),_&233&&f!==(f="rotate("+(p[3]<25?90:0)+", "+(p[5](p[11])+p[3]/2)+", "+(p[6](p[9].value)>p[6](0)-p[7]?p[6](p[9].value)-p[7]:p[6](p[9].value)+9)+")")&&u(e,"transform",f)},d(p){p&&w(e)}}}function Jr(t){let e,l,n,i,o,r,a,c=t[3]>15&&Xr(t);return{c(){e=Oe("rect"),c&&c.c(),a=je(),u(e,"x",l=t[5](t[11])+2),u(e,"y",n=t[6](0)),u(e,"width",i=t[3]-4),u(e,"height",o=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),u(e,"fill",r=t[9].color)},m(f,p){y(f,e,p),c&&c.m(f,p),y(f,a,p)},p(f,p){p&32&&l!==(l=f[5](f[11])+2)&&u(e,"x",l),p&64&&n!==(n=f[6](0))&&u(e,"y",n),p&8&&i!==(i=f[3]-4)&&u(e,"width",i),p&65&&o!==(o=f[6](f[0].y.min)-f[6](f[0].y.min+f[9].value2))&&u(e,"height",o),p&1&&r!==(r=f[9].color)&&u(e,"fill",r),f[3]>15?c?c.p(f,p):(c=Xr(f),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},d(f){f&&w(e),c&&c.d(f),f&&w(a)}}}function Xr(t){let e,l=t[9].label2+"",n,i,o,r,a,c,f;return{c(){e=Oe("text"),n=C(l),u(e,"y",i=t[6](-t[9].value2)<t[6](0)+12?t[6](-t[9].value2)+12:t[6](-t[9].value2)-10),u(e,"x",o=t[5](t[11])+t[3]/2),u(e,"width",r=t[3]-4),u(e,"dominant-baseline","middle"),u(e,"text-anchor",a=t[3]<25?"left":"middle"),u(e,"fill",c=t[6](-t[9].value2)<t[6](0)+12?t[9].color:"white"),u(e,"transform",f="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value2-t[0].y.min)>t[6](0)-12?t[6](t[9].value2-t[0].y.min)-12:t[6](t[9].value2-t[0].y.min)+9)+")")},m(p,_){y(p,e,_),s(e,n)},p(p,_){_&1&&l!==(l=p[9].label2+"")&&B(n,l),_&65&&i!==(i=p[6](-p[9].value2)<p[6](0)+12?p[6](-p[9].value2)+12:p[6](-p[9].value2)-10)&&u(e,"y",i),_&40&&o!==(o=p[5](p[11])+p[3]/2)&&u(e,"x",o),_&8&&r!==(r=p[3]-4)&&u(e,"width",r),_&8&&a!==(a=p[3]<25?"left":"middle")&&u(e,"text-anchor",a),_&65&&c!==(c=p[6](-p[9].value2)<p[6](0)+12?p[9].color:"white")&&u(e,"fill",c),_&105&&f!==(f="rotate("+(p[3]<25?90:0)+", "+(p[5](p[11])+p[3]/2)+", "+(p[6](p[9].value2-p[0].y.min)>p[6](0)-12?p[6](p[9].value2-p[0].y.min)-12:p[6](p[9].value2-p[0].y.min)+9)+")")&&u(e,"transform",f)},d(p){p&&w(e)}}}function xr(t){let e,l,n=t[9].value!==void 0&&Qr(t),i=t[9].value2>1e-4&&Jr(t);return{c(){n&&n.c(),e=je(),i&&i.c(),l=je()},m(o,r){n&&n.m(o,r),y(o,e,r),i&&i.m(o,r),y(o,l,r)},p(o,r){o[9].value!==void 0?n?n.p(o,r):(n=Qr(o),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null),o[9].value2>1e-4?i?i.p(o,r):(i=Jr(o),i.c(),i.m(l.parentNode,l)):i&&(i.d(1),i=null)},d(o){n&&n.d(o),o&&w(e),i&&i.d(o),o&&w(l)}}}function hm(t){let e,l,n,i,o,r,a,c=t[0].title&&zr(t),f=t[0].y.ticks,p=[];for(let b=0;b<f.length;b+=1)p[b]=Vr(Yr(t,f,b));let _=t[0].x.ticks,d=[];for(let b=0;b<_.length;b+=1)d[b]=Kr(Br(t,_,b));let g=t[0].points,h=[];for(let b=0;b<g.length;b+=1)h[b]=xr(Gr(t,g,b));return{c(){e=m("div"),c&&c.c(),l=v(),n=Oe("svg"),i=Oe("g");for(let b=0;b<p.length;b+=1)p[b].c();o=Oe("g");for(let b=0;b<d.length;b+=1)d[b].c();r=Oe("g");for(let b=0;b<h.length;b+=1)h[b].c();u(i,"class","axis y-axis"),u(o,"class","axis x-axis"),u(r,"class","bars"),u(n,"height",t[4]),u(e,"class","chart"),Be(()=>t[8].call(e))},m(b,$){y(b,e,$),c&&c.m(e,null),s(e,l),s(e,n),s(n,i);for(let k=0;k<p.length;k+=1)p[k].m(i,null);s(n,o);for(let k=0;k<d.length;k+=1)d[k].m(o,null);s(n,r);for(let k=0;k<h.length;k+=1)h[k].m(r,null);a=kc(e,t[8].bind(e))},p(b,[$]){if(b[0].title?c?c.p(b,$):(c=zr(b),c.c(),c.m(e,l)):c&&(c.d(1),c=null),$&65){f=b[0].y.ticks;let k;for(k=0;k<f.length;k+=1){const T=Yr(b,f,k);p[k]?p[k].p(T,$):(p[k]=Vr(T),p[k].c(),p[k].m(i,null))}for(;k<p.length;k+=1)p[k].d(1);p.length=f.length}if($&57){_=b[0].x.ticks;let k;for(k=0;k<_.length;k+=1){const T=Br(b,_,k);d[k]?d[k].p(T,$):(d[k]=Kr(T),d[k].c(),d[k].m(o,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=_.length}if($&233){g=b[0].points;let k;for(k=0;k<g.length;k+=1){const T=Gr(b,g,k);h[k]?h[k].p(T,$):(h[k]=xr(T),h[k].c(),h[k].m(r,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=g.length}$&16&&u(n,"height",b[4])},i:ie,o:ie,d(b){b&&w(e),c&&c.d(),Vt(p,b),Vt(d,b),Vt(h,b),a()}}}function gm(t,e,l){let{config:n}=e,i,o,r,a,c,f,p;function _(){i=this.clientWidth,o=this.clientHeight,l(1,i),l(2,o)}return t.$$set=d=>{"config"in d&&l(0,n=d.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,f=o-(n.title?20:0));let d=i-(n.padding.left+n.padding.right);l(3,r=d/n.points.length),l(7,p=r<25?28:17);let g=(f-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,a=function(h){return h*r+n.padding.left}),l(6,c=function(h){let b=0;return h>n.y.max?b=n.padding.bottom:h<n.y.min?b=f-n.padding.bottom:b=f-n.padding.bottom-(h-n.y.min)*g,b>f||b<0?0:b})}},[n,i,o,r,f,a,c,p,_]}class Kl extends $e{constructor(e){super(),ye(this,e,gm,hm,we,{config:0})}}function bm(t){let e,l;return e=new Kl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function km(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{ds:r}=e,a={};function c(f){return{label:ke(f)+"V",value:isNaN(f)?0:f,color:A1(f||0)}}return t.$$set=f=>{"u1"in f&&l(1,n=f.u1),"u2"in f&&l(2,i=f.u2),"u3"in f&&l(3,o=f.u3),"ds"in f&&l(4,r=f.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let f=[],p=[];n>0&&(f.push({label:r===1?"L1-L2":"L1"}),p.push(c(n))),i>0&&(f.push({label:r===1?"L1-L3":"L2"}),p.push(c(i))),o>0&&(f.push({label:r===1?"L2-L3":"L3"}),p.push(c(o))),l(0,a={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:f},points:p})}},[a,n,i,o,r]}class wm extends $e{constructor(e){super(),ye(this,e,km,bm,we,{u1:1,u2:2,u3:3,ds:4})}}function ym(t){let e,l;return e=new Kl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function $m(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:o}=e,{i1:r}=e,{i2:a}=e,{i3:c}=e,{max:f}=e,p={};function _(d){return{label:ke(d)+"A",value:isNaN(d)?0:d,color:Xf(d?d/f*100:0)}}return t.$$set=d=>{"u1"in d&&l(1,n=d.u1),"u2"in d&&l(2,i=d.u2),"u3"in d&&l(3,o=d.u3),"i1"in d&&l(4,r=d.i1),"i2"in d&&l(5,a=d.i2),"i3"in d&&l(6,c=d.i3),"max"in d&&l(7,f=d.max)},t.$$.update=()=>{if(t.$$.dirty&254){let d=[],g=[];n>0&&(d.push({label:"L1"}),g.push(_(r))),i>0&&(d.push({label:"L2"}),g.push(_(a))),o>0&&(d.push({label:"L3"}),g.push(_(c))),l(0,p={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:f,ticks:[{value:0,label:"0%"},{value:f/4,label:"25%"},{value:f/2,label:"50%"},{value:f/4*3,label:"75%"},{value:f,label:"100%"}]},x:{ticks:d},points:g})}},[p,n,i,o,r,a,c,f]}class Cm extends $e{constructor(e){super(),ye(this,e,$m,ym,we,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function Tm(t){let e,l,n,i,o,r,a,c=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",f,p,_,d,g,h,b=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",$,k,T,P,E,S,N,D=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",R,H,U,F,L,G,j=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",O,q;return{c(){e=m("div"),l=m("strong"),l.textContent="Reactive",n=v(),i=m("div"),o=m("div"),o.textContent="Instant in",r=v(),a=m("div"),f=C(c),p=C(" VAr"),_=v(),d=m("div"),d.textContent="Instant out",g=v(),h=m("div"),$=C(b),k=C(" VAr"),T=v(),P=m("div"),E=m("div"),E.textContent="Total in",S=v(),N=m("div"),R=C(D),H=C(" kVArh"),U=v(),F=m("div"),F.textContent="Total out",L=v(),G=m("div"),O=C(j),q=C(" kVArh"),u(a,"class","text-right"),u(h,"class","text-right"),u(i,"class","grid grid-cols-2 mt-4"),u(N,"class","text-right"),u(G,"class","text-right"),u(P,"class","grid grid-cols-2 mt-4"),u(e,"class","mx-2 text-sm")},m(W,X){y(W,e,X),s(e,l),s(e,n),s(e,i),s(i,o),s(i,r),s(i,a),s(a,f),s(a,p),s(i,_),s(i,d),s(i,g),s(i,h),s(h,$),s(h,k),s(e,T),s(e,P),s(P,E),s(P,S),s(P,N),s(N,R),s(N,H),s(P,U),s(P,F),s(P,L),s(P,G),s(G,O),s(G,q)},p(W,[X]){X&1&&c!==(c=(typeof W[0]<"u"?W[0].toFixed(0):"-")+"")&&B(f,c),X&2&&b!==(b=(typeof W[1]<"u"?W[1].toFixed(0):"-")+"")&&B($,b),X&4&&D!==(D=(typeof W[2]<"u"?W[2].toFixed(1):"-")+"")&&B(R,D),X&8&&j!==(j=(typeof W[3]<"u"?W[3].toFixed(1):"-")+"")&&B(O,j)},i:ie,o:ie,d(W){W&&w(e)}}}function Sm(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:o}=e,{exportTotal:r}=e;return t.$$set=a=>{"importInstant"in a&&l(0,n=a.importInstant),"exportInstant"in a&&l(1,i=a.exportInstant),"importTotal"in a&&l(2,o=a.importTotal),"exportTotal"in a&&l(3,r=a.exportTotal)},[n,i,o,r]}class Pm extends $e{constructor(e){super(),ye(this,e,Sm,Tm,we,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function ea(t){let e;function l(o,r){return o[2]?Am:Mm}let n=l(t),i=n(t);return{c(){i.c(),e=je()},m(o,r){i.m(o,r),y(o,e,r)},p(o,r){n===(n=l(o))&&i?i.p(o,r):(i.d(1),i=n(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){i.d(o),o&&w(e)}}}function Mm(t){let e,l,n,i,o,r,a=ke(t[0].h.u,2)+"",c,f,p,_,d,g,h=ke(t[0].d.u,1)+"",b,$,k,T,P,E,S=ke(t[0].m.u)+"",N,D,R,H,U=t[1]&&ta(t);return{c(){e=m("strong"),e.textContent="Consumption",l=v(),n=m("div"),i=m("div"),i.textContent="Hour",o=v(),r=m("div"),c=C(a),f=C(" kWh"),p=v(),_=m("div"),_.textContent="Day",d=v(),g=m("div"),b=C(h),$=C(" kWh"),k=v(),T=m("div"),T.textContent="Month",P=v(),E=m("div"),N=C(S),D=C(" kWh"),R=v(),U&&U.c(),H=je(),u(r,"class","text-right"),u(g,"class","text-right"),u(E,"class","text-right"),u(n,"class","grid grid-cols-2 mb-3")},m(F,L){y(F,e,L),y(F,l,L),y(F,n,L),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(n,p),s(n,_),s(n,d),s(n,g),s(g,b),s(g,$),s(n,k),s(n,T),s(n,P),s(n,E),s(E,N),s(E,D),y(F,R,L),U&&U.m(F,L),y(F,H,L)},p(F,L){L&1&&a!==(a=ke(F[0].h.u,2)+"")&&B(c,a),L&1&&h!==(h=ke(F[0].d.u,1)+"")&&B(b,h),L&1&&S!==(S=ke(F[0].m.u)+"")&&B(N,S),F[1]?U?U.p(F,L):(U=ta(F),U.c(),U.m(H.parentNode,H)):U&&(U.d(1),U=null)},d(F){F&&w(e),F&&w(l),F&&w(n),F&&w(R),U&&U.d(F),F&&w(H)}}}function Am(t){let e,l,n,i,o,r,a=ke(t[0].h.u,2)+"",c,f,p,_,d,g,h,b=ke(t[0].d.u,1)+"",$,k,T,P,E,S,N,D=ke(t[0].m.u)+"",R,H,U,F,L,G,j,O,q,W,X,Y=ke(t[0].h.p,2)+"",ne,te,Ae,_e,Ie,Ee,Le,Re=ke(t[0].d.p,1)+"",Se,be,fe,ae,ce,ue,J,se=ke(t[0].m.p)+"",Pe,ee,oe,Ue,Me=t[1]&&la(t),de=t[1]&&na(t),ve=t[1]&&ia(t),le=t[1]&&sa(t),he=t[1]&&oa(t),qe=t[1]&&ua(t);return{c(){e=m("strong"),e.textContent="Import",l=v(),n=m("div"),i=m("div"),i.textContent="Hour",o=v(),r=m("div"),c=C(a),f=C(" kWh"),p=v(),Me&&Me.c(),_=v(),d=m("div"),d.textContent="Day",g=v(),h=m("div"),$=C(b),k=C(" kWh"),T=v(),de&&de.c(),P=v(),E=m("div"),E.textContent="Month",S=v(),N=m("div"),R=C(D),H=C(" kWh"),U=v(),ve&&ve.c(),L=v(),G=m("strong"),G.textContent="Export",j=v(),O=m("div"),q=m("div"),q.textContent="Hour",W=v(),X=m("div"),ne=C(Y),te=C(" kWh"),Ae=v(),le&&le.c(),_e=v(),Ie=m("div"),Ie.textContent="Day",Ee=v(),Le=m("div"),Se=C(Re),be=C(" kWh"),fe=v(),he&&he.c(),ae=v(),ce=m("div"),ce.textContent="Month",ue=v(),J=m("div"),Pe=C(se),ee=C(" kWh"),oe=v(),qe&&qe.c(),u(r,"class","text-right"),u(h,"class","text-right"),u(N,"class","text-right"),u(n,"class",F="grid grid-cols-"+t[3]+" mb-3"),u(X,"class","text-right"),u(Le,"class","text-right"),u(J,"class","text-right"),u(O,"class",Ue="grid grid-cols-"+t[3])},m(re,De){y(re,e,De),y(re,l,De),y(re,n,De),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(n,p),Me&&Me.m(n,null),s(n,_),s(n,d),s(n,g),s(n,h),s(h,$),s(h,k),s(n,T),de&&de.m(n,null),s(n,P),s(n,E),s(n,S),s(n,N),s(N,R),s(N,H),s(n,U),ve&&ve.m(n,null),y(re,L,De),y(re,G,De),y(re,j,De),y(re,O,De),s(O,q),s(O,W),s(O,X),s(X,ne),s(X,te),s(O,Ae),le&&le.m(O,null),s(O,_e),s(O,Ie),s(O,Ee),s(O,Le),s(Le,Se),s(Le,be),s(O,fe),he&&he.m(O,null),s(O,ae),s(O,ce),s(O,ue),s(O,J),s(J,Pe),s(J,ee),s(O,oe),qe&&qe.m(O,null)},p(re,De){De&1&&a!==(a=ke(re[0].h.u,2)+"")&&B(c,a),re[1]?Me?Me.p(re,De):(Me=la(re),Me.c(),Me.m(n,_)):Me&&(Me.d(1),Me=null),De&1&&b!==(b=ke(re[0].d.u,1)+"")&&B($,b),re[1]?de?de.p(re,De):(de=na(re),de.c(),de.m(n,P)):de&&(de.d(1),de=null),De&1&&D!==(D=ke(re[0].m.u)+"")&&B(R,D),re[1]?ve?ve.p(re,De):(ve=ia(re),ve.c(),ve.m(n,null)):ve&&(ve.d(1),ve=null),De&8&&F!==(F="grid grid-cols-"+re[3]+" mb-3")&&u(n,"class",F),De&1&&Y!==(Y=ke(re[0].h.p,2)+"")&&B(ne,Y),re[1]?le?le.p(re,De):(le=sa(re),le.c(),le.m(O,_e)):le&&(le.d(1),le=null),De&1&&Re!==(Re=ke(re[0].d.p,1)+"")&&B(Se,Re),re[1]?he?he.p(re,De):(he=oa(re),he.c(),he.m(O,ae)):he&&(he.d(1),he=null),De&1&&se!==(se=ke(re[0].m.p)+"")&&B(Pe,se),re[1]?qe?qe.p(re,De):(qe=ua(re),qe.c(),qe.m(O,null)):qe&&(qe.d(1),qe=null),De&8&&Ue!==(Ue="grid grid-cols-"+re[3])&&u(O,"class",Ue)},d(re){re&&w(e),re&&w(l),re&&w(n),Me&&Me.d(),de&&de.d(),ve&&ve.d(),re&&w(L),re&&w(G),re&&w(j),re&&w(O),le&&le.d(),he&&he.d(),qe&&qe.d()}}}function ta(t){let e,l,n,i,o,r,a=ke(t[0].h.c,2)+"",c,f,p,_,d,g,h,b=ke(t[0].d.c,1)+"",$,k,T,P,E,S,N,D=ke(t[0].m.c)+"",R,H,U;return{c(){e=m("strong"),e.textContent="Cost",l=v(),n=m("div"),i=m("div"),i.textContent="Hour",o=v(),r=m("div"),c=C(a),f=v(),p=C(t[1]),_=v(),d=m("div"),d.textContent="Day",g=v(),h=m("div"),$=C(b),k=v(),T=C(t[1]),P=v(),E=m("div"),E.textContent="Month",S=v(),N=m("div"),R=C(D),H=v(),U=C(t[1]),u(r,"class","text-right"),u(h,"class","text-right"),u(N,"class","text-right"),u(n,"class","grid grid-cols-2")},m(F,L){y(F,e,L),y(F,l,L),y(F,n,L),s(n,i),s(n,o),s(n,r),s(r,c),s(r,f),s(r,p),s(n,_),s(n,d),s(n,g),s(n,h),s(h,$),s(h,k),s(h,T),s(n,P),s(n,E),s(n,S),s(n,N),s(N,R),s(N,H),s(N,U)},p(F,L){L&1&&a!==(a=ke(F[0].h.c,2)+"")&&B(c,a),L&2&&B(p,F[1]),L&1&&b!==(b=ke(F[0].d.c,1)+"")&&B($,b),L&2&&B(T,F[1]),L&1&&D!==(D=ke(F[0].m.c)+"")&&B(R,D),L&2&&B(U,F[1])},d(F){F&&w(e),F&&w(l),F&&w(n)}}}function la(t){let e,l=ke(t[0].h.c,2)+"",n,i,o;return{c(){e=m("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(r,a){y(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=ke(r[0].h.c,2)+"")&&B(n,l),a&2&&B(o,r[1])},d(r){r&&w(e)}}}function na(t){let e,l=ke(t[0].d.c,1)+"",n,i,o;return{c(){e=m("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(r,a){y(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=ke(r[0].d.c,1)+"")&&B(n,l),a&2&&B(o,r[1])},d(r){r&&w(e)}}}function ia(t){let e,l=ke(t[0].m.c)+"",n,i,o;return{c(){e=m("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(r,a){y(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=ke(r[0].m.c)+"")&&B(n,l),a&2&&B(o,r[1])},d(r){r&&w(e)}}}function sa(t){let e,l=ke(t[0].h.i,2)+"",n,i,o;return{c(){e=m("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(r,a){y(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=ke(r[0].h.i,2)+"")&&B(n,l),a&2&&B(o,r[1])},d(r){r&&w(e)}}}function oa(t){let e,l=ke(t[0].d.i,1)+"",n,i,o;return{c(){e=m("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(r,a){y(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=ke(r[0].d.i,1)+"")&&B(n,l),a&2&&B(o,r[1])},d(r){r&&w(e)}}}function ua(t){let e,l=ke(t[0].m.i)+"",n,i,o;return{c(){e=m("div"),n=C(l),i=v(),o=C(t[1]),u(e,"class","text-right")},m(r,a){y(r,e,a),s(e,n),s(e,i),s(e,o)},p(r,a){a&1&&l!==(l=ke(r[0].m.i)+"")&&B(n,l),a&2&&B(o,r[1])},d(r){r&&w(e)}}}function Dm(t){let e,l,n,i,o,r,a=t[0]&&ea(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Real time calculation",n=v(),i=m("br"),o=m("br"),r=v(),a&&a.c(),u(e,"class","mx-2 text-sm")},m(c,f){y(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),s(e,r),a&&a.m(e,null)},p(c,[f]){c[0]?a?a.p(c,f):(a=ea(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ie,o:ie,d(c){c&&w(e),a&&a.d()}}}function Nm(t,e,l){let{data:n}=e,{currency:i}=e,{hasExport:o}=e,r=3;return t.$$set=a=>{"data"in a&&l(0,n=a.data),"currency"in a&&l(1,i=a.currency),"hasExport"in a&&l(2,o=a.hasExport)},t.$$.update=()=>{t.$$.dirty&2&&l(3,r=i?3:2)},[n,i,o,r]}class Im extends $e{constructor(e){super(),ye(this,e,Nm,Dm,we,{data:0,currency:1,hasExport:2})}}function Em(t){let e,l,n,i;return n=new Kl({props:{config:t[0]}}),{c(){e=m("a"),e.textContent="Provided by ENTSO-E",l=v(),Z(n.$$.fragment),u(e,"href","https://transparency.entsoe.eu/"),u(e,"target","_blank"),u(e,"class","text-xs float-right z-40")},m(o,r){y(o,e,r),y(o,l,r),K(n,o,r),i=!0},p(o,[r]){const a={};r&1&&(a.config=o[0]),n.$set(a)},i(o){i||(M(n.$$.fragment,o),i=!0)},o(o){I(n.$$.fragment,o),i=!1},d(o){o&&w(e),o&&w(l),Q(n,o)}}}function Rm(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=new Date().getUTCHours(),c=0,f=0,p=0,_=n[20]==null?2:1,d=[],g=[],h=[],b=new Date;for(c=a;c<24&&(f=n[Ne(p++)],f!=null);c++)g.push({label:Ne(b.getHours())}),h.push({label:f>0?f.toFixed(_):"",value:f>0?Math.abs(f*100):0,label2:f<0?f.toFixed(_):"",value2:f<0?Math.abs(f*100):0,color:"#7c3aed"}),l(3,r=Math.min(r,f*100)),l(2,o=Math.max(o,f*100)),ii(b,1);for(c=0;c<24&&(f=n[Ne(p++)],f!=null);c++)g.push({label:Ne(b.getHours())}),h.push({label:f>0?f.toFixed(_):"",value:f>0?Math.abs(f*100):0,label2:f<0?f.toFixed(_):"",value2:f<0?Math.abs(f*100):0,color:"#7c3aed"}),l(3,r=Math.min(r,f*100)),l(2,o=Math.max(o,f*100)),ii(b,1);if(l(2,o=Math.ceil(o)),l(3,r=Math.floor(r)),r<0){let k=r/4;for(c=1;c<5;c++){let T=k*c;d.push({value:T,label:(T/100).toFixed(2)})}}let $=o/4;for(c=0;c<5;c++){let k=$*c;d.push({value:k,label:(k/100).toFixed(2)})}l(0,i={title:"Future energy price ("+n.currency+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:d},x:{ticks:g},points:h})}},[i,n,o,r]}class Fm extends $e{constructor(e){super(),ye(this,e,Rm,Em,we,{json:1})}}function Lm(t){let e,l;return e=new Kl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Om(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=[],f=[],p=[],_=ii(new Date,-24),d=new Date().getUTCHours();for(a=d;a<24;a++){let b=n["i"+Ne(a)],$=n["e"+Ne(a)];b===void 0&&(b=0),$===void 0&&($=0),f.push({label:Ne(_.getHours())}),p.push({label:b.toFixed(1),value:b*10,label2:$.toFixed(1),value2:$*10,color:"#7c3aed"}),l(3,r=Math.max(r,$*10)),l(2,o=Math.max(o,b*10)),ii(_,1)}for(a=0;a<d;a++){let b=n["i"+Ne(a)],$=n["e"+Ne(a)];b===void 0&&(b=0),$===void 0&&($=0),f.push({label:Ne(_.getHours())}),p.push({label:b.toFixed(1),value:b*10,label2:$.toFixed(1),value2:$*10,color:"#7c3aed"}),l(3,r=Math.max(r,$*10)),l(2,o=Math.max(o,b*10)),ii(_,1)}let g=Math.ceil(Math.max(r,o));if(l(2,o=g),l(3,r=r==0?0:g*-1),r<0){let b=r/4;for(a=1;a<5;a++){let $=b*a;c.push({value:$,label:($/10).toFixed(1)})}}let h=o/4;for(a=0;a<5;a++){let b=h*a;c.push({value:b,label:(b/10).toFixed(1)})}l(0,i={title:"Energy use last 24 hours (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:c},x:{ticks:f},points:p})}},[i,n,o,r]}class qm extends $e{constructor(e){super(),ye(this,e,Om,Lm,we,{json:1})}}function Um(t){let e,l;return e=new Kl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Hm(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=[],f=[],p=[],_=new Date,d=new Date;for(d.setDate(0),a=_.getDate();a<=d.getDate();a++){let b=n["i"+Ne(a)],$=n["e"+Ne(a)];b===void 0&&(b=0),$===void 0&&($=0),f.push({label:Ne(a)}),p.push({label:b.toFixed(0),value:b,label2:$.toFixed(0),value2:$,color:"#7c3aed"}),l(3,r=Math.max(r,$)),l(2,o=Math.max(o,b))}for(a=1;a<_.getDate();a++){let b=n["i"+Ne(a)],$=n["e"+Ne(a)];b===void 0&&(b=0),$===void 0&&($=0),f.push({label:Ne(a)}),p.push({label:b.toFixed(0),value:b,label2:$.toFixed(0),value2:$,color:"#7c3aed"}),l(3,r=Math.max(r,$)),l(2,o=Math.max(o,b))}let g=Math.ceil(Math.max(r,o)/10)*10;if(l(2,o=g),l(3,r=r==0?0:g*-1),r<0){let b=r/4;for(a=0;a<5;a++){let $=b*a;c.push({value:$,label:$.toFixed(0)})}}let h=o/4;for(a=0;a<5;a++){let b=h*a;c.push({value:b,label:b.toFixed(0)})}l(0,i={title:"Energy use last month (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:c},x:{ticks:f},points:p})}},[i,n,o,r]}class jm extends $e{constructor(e){super(),ye(this,e,Hm,Um,we,{json:1})}}function Wm(t){let e,l;return e=new Kl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Gm(t,e,l){let{json:n}=e,i={},o=0,r=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,c=0,f=[],p=[],_=[];n.s&&n.s.forEach((h,b)=>{var $=h.n?h.n:h.a;c=h.v,c==-127&&(c=0),p.push({label:$.slice(-4)}),_.push({label:c.toFixed(1),value:c,color:"#7c3aed"}),l(3,r=Math.min(r,c)),l(2,o=Math.max(o,c))}),l(2,o=Math.ceil(o)),l(3,r=Math.floor(r));let d=o;r<0&&(d+=Math.abs(r));let g=d/4;for(a=0;a<5;a++)c=r+g*a,f.push({value:c,label:c.toFixed(1)});l(0,i={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:r,max:o,ticks:f},x:{ticks:p},points:_})}},[i,n,o,r]}class Bm extends $e{constructor(e){super(),ye(this,e,Gm,Wm,we,{json:1})}}function Ym(t){let e,l;return e=new Kl({props:{config:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,[i]){const o={};i&1&&(o.config=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}let zm=0;function Vm(t,e,l){let n={},i=0,o;return sc.subscribe(r=>{l(2,o=r)}),ic(),t.$$.update=()=>{if(t.$$.dirty&6){let r=0,a=[],c=[],f=[];if(a.push({value:0,label:0}),o&&o.p)for(r=0;r<o.p.length;r++){let p=o.p[r];f.push({label:p.v.toFixed(2),value:p.v,color:"#7c3aed"}),c.push({label:p.d>0?Ne(p.d)+"."+Gs[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,p.v))}if(o&&o.t){for(r=0;r<o.t.length;r++){let p=o.t[r];if(p>=i)break;a.push({value:p,label:p})}a.push({label:o.m.toFixed(1),align:"right",color:"green",value:o.m})}o&&o.c&&(a.push({label:o.c.toFixed(0),color:"orange",value:o.c}),l(1,i=Math.max(i,o.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:zm,max:i,ticks:a},x:{ticks:c},points:f})}},[n,i,o]}class Km extends $e{constructor(e){super(),ye(this,e,Vm,Ym,we,{})}}function ra(t){let e,l,n,i,o,r,a=(t[0].mt?ms(t[0].mt):"-")+"",c,f,p,_=(t[0].ic?t[0].ic.toFixed(1):"-")+"",d,g,h;return i=new fc({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Import",sub:t[0].p,subunit:t[2].currency,colorFn:Xf}}),{c(){e=m("div"),l=m("div"),n=m("div"),Z(i.$$.fragment),o=v(),r=m("div"),c=C(a),f=v(),p=m("div"),d=C(_),g=C(" kWh"),u(n,"class","col-span-2"),u(p,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(b,$){y(b,e,$),s(e,l),s(l,n),K(i,n,null),s(l,o),s(l,r),s(r,c),s(l,f),s(l,p),s(p,d),s(p,g),h=!0},p(b,$){const k={};$&1&&(k.val=b[0].i?b[0].i:0),$&1&&(k.max=b[0].im?b[0].im:15e3),$&1&&(k.sub=b[0].p),$&4&&(k.subunit=b[2].currency),i.$set(k),(!h||$&1)&&a!==(a=(b[0].mt?ms(b[0].mt):"-")+"")&&B(c,a),(!h||$&1)&&_!==(_=(b[0].ic?b[0].ic.toFixed(1):"-")+"")&&B(d,_)},i(b){h||(M(i.$$.fragment,b),h=!0)},o(b){I(i.$$.fragment,b),h=!1},d(b){b&&w(e),Q(i)}}}function aa(t){let e,l,n,i,o,r,a,c,f=(t[0].ec?t[0].ec.toFixed(1):"-")+"",p,_,d;return i=new fc({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:D1}}),{c(){e=m("div"),l=m("div"),n=m("div"),Z(i.$$.fragment),o=v(),r=m("div"),a=v(),c=m("div"),p=C(f),_=C(" kWh"),u(n,"class","col-span-2"),u(c,"class","text-right"),u(l,"class","grid grid-cols-2"),u(e,"class","cnt")},m(g,h){y(g,e,h),s(e,l),s(l,n),K(i,n,null),s(l,o),s(l,r),s(l,a),s(l,c),s(c,p),s(c,_),d=!0},p(g,h){const b={};h&1&&(b.val=g[0].e?g[0].e:0),h&1&&(b.max=g[0].om?g[0].om*1e3:1e4),i.$set(b),(!d||h&1)&&f!==(f=(g[0].ec?g[0].ec.toFixed(1):"-")+"")&&B(p,f)},i(g){d||(M(i.$$.fragment,g),d=!0)},o(g){I(i.$$.fragment,g),d=!1},d(g){g&&w(e),Q(i)}}}function fa(t){let e,l,n;return l=new wm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.ds=i[0].ds),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function ca(t){let e,l,n;return l=new Cm({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.u1=i[0].u1),o&1&&(r.u2=i[0].u2),o&1&&(r.u3=i[0].u3),o&1&&(r.i1=i[0].i1),o&1&&(r.i2=i[0].i2),o&1&&(r.i3=i[0].i3),o&1&&(r.max=i[0].mf?i[0].mf:32),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function ma(t){let e,l,n;return l=new Pm({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.importInstant=i[0].ri),o&1&&(r.exportInstant=i[0].re),o&1&&(r.importTotal=i[0].ric),o&1&&(r.exportTotal=i[0].rec),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function pa(t){let e,l,n;return l=new Im({props:{data:t[0].ea,currency:t[2].currency,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&1&&(r.data=i[0].ea),o&4&&(r.currency=i[2].currency),o&1&&(r.hasExport=i[0].om>0||i[0].e>0),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function _a(t){let e,l,n;return l=new Km({}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt h-64")},m(i,o){y(i,e,o),K(l,e,null),n=!0},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function da(t){let e,l,n;return l=new Fm({props:{json:t[2]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&4&&(r.json=i[2]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function va(t){let e,l,n;return l=new qm({props:{json:t[3]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&8&&(r.json=i[3]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function ha(t){let e,l,n;return l=new jm({props:{json:t[4]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&16&&(r.json=i[4]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function ga(t){let e,l,n;return l=new Bm({props:{json:t[5]}}),{c(){e=m("div"),Z(l.$$.fragment),u(e,"class","cnt gwf")},m(i,o){y(i,e,o),K(l,e,null),n=!0},p(i,o){const r={};o&32&&(r.json=i[5]),l.$set(r)},i(i){n||(M(l.$$.fragment,i),n=!0)},o(i){I(l.$$.fragment,i),n=!1},d(i){i&&w(e),Q(l)}}}function Qm(t){let e,l=He(t[1].ui.i,t[0].i),n,i=He(t[1].ui.e,t[0].om||t[0].e>0),o,r=He(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),a,c=He(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),f,p=He(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),_,d=He(t[1].ui.c,t[0].ea),g,h=He(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),b,$=He(t[1].ui.p,typeof t[0].p=="number"&&!Number.isNaN(t[0].p)),k,T=He(t[1].ui.d,t[3]),P,E=He(t[1].ui.m,t[4]),S,N=He(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[5].c>1),D,R=l&&ra(t),H=i&&aa(t),U=r&&fa(t),F=c&&ca(t),L=p&&ma(t),G=d&&pa(t),j=h&&_a(),O=$&&da(t),q=T&&va(t),W=E&&ha(t),X=N&&ga(t);return{c(){e=m("div"),R&&R.c(),n=v(),H&&H.c(),o=v(),U&&U.c(),a=v(),F&&F.c(),f=v(),L&&L.c(),_=v(),G&&G.c(),g=v(),j&&j.c(),b=v(),O&&O.c(),k=v(),q&&q.c(),P=v(),W&&W.c(),S=v(),X&&X.c(),u(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(Y,ne){y(Y,e,ne),R&&R.m(e,null),s(e,n),H&&H.m(e,null),s(e,o),U&&U.m(e,null),s(e,a),F&&F.m(e,null),s(e,f),L&&L.m(e,null),s(e,_),G&&G.m(e,null),s(e,g),j&&j.m(e,null),s(e,b),O&&O.m(e,null),s(e,k),q&&q.m(e,null),s(e,P),W&&W.m(e,null),s(e,S),X&&X.m(e,null),D=!0},p(Y,[ne]){ne&3&&(l=He(Y[1].ui.i,Y[0].i)),l?R?(R.p(Y,ne),ne&3&&M(R,1)):(R=ra(Y),R.c(),M(R,1),R.m(e,n)):R&&(Ce(),I(R,1,1,()=>{R=null}),Te()),ne&3&&(i=He(Y[1].ui.e,Y[0].om||Y[0].e>0)),i?H?(H.p(Y,ne),ne&3&&M(H,1)):(H=aa(Y),H.c(),M(H,1),H.m(e,o)):H&&(Ce(),I(H,1,1,()=>{H=null}),Te()),ne&3&&(r=He(Y[1].ui.v,Y[0].u1>100||Y[0].u2>100||Y[0].u3>100)),r?U?(U.p(Y,ne),ne&3&&M(U,1)):(U=fa(Y),U.c(),M(U,1),U.m(e,a)):U&&(Ce(),I(U,1,1,()=>{U=null}),Te()),ne&3&&(c=He(Y[1].ui.a,Y[0].i1>.01||Y[0].i2>.01||Y[0].i3>.01)),c?F?(F.p(Y,ne),ne&3&&M(F,1)):(F=ca(Y),F.c(),M(F,1),F.m(e,f)):F&&(Ce(),I(F,1,1,()=>{F=null}),Te()),ne&3&&(p=He(Y[1].ui.r,Y[0].ri>0||Y[0].re>0||Y[0].ric>0||Y[0].rec>0)),p?L?(L.p(Y,ne),ne&3&&M(L,1)):(L=ma(Y),L.c(),M(L,1),L.m(e,_)):L&&(Ce(),I(L,1,1,()=>{L=null}),Te()),ne&3&&(d=He(Y[1].ui.c,Y[0].ea)),d?G?(G.p(Y,ne),ne&3&&M(G,1)):(G=pa(Y),G.c(),M(G,1),G.m(e,g)):G&&(Ce(),I(G,1,1,()=>{G=null}),Te()),ne&3&&(h=He(Y[1].ui.t,Y[0].pr&&(Y[0].pr.startsWith("10YNO")||Y[0].pr=="10Y1001A1001A48H"))),h?j?ne&3&&M(j,1):(j=_a(),j.c(),M(j,1),j.m(e,b)):j&&(Ce(),I(j,1,1,()=>{j=null}),Te()),ne&3&&($=He(Y[1].ui.p,typeof Y[0].p=="number"&&!Number.isNaN(Y[0].p))),$?O?(O.p(Y,ne),ne&3&&M(O,1)):(O=da(Y),O.c(),M(O,1),O.m(e,k)):O&&(Ce(),I(O,1,1,()=>{O=null}),Te()),ne&10&&(T=He(Y[1].ui.d,Y[3])),T?q?(q.p(Y,ne),ne&10&&M(q,1)):(q=va(Y),q.c(),M(q,1),q.m(e,P)):q&&(Ce(),I(q,1,1,()=>{q=null}),Te()),ne&18&&(E=He(Y[1].ui.m,Y[4])),E?W?(W.p(Y,ne),ne&18&&M(W,1)):(W=ha(Y),W.c(),M(W,1),W.m(e,S)):W&&(Ce(),I(W,1,1,()=>{W=null}),Te()),ne&35&&(N=He(Y[1].ui.s,Y[0].t&&Y[0].t!=-127&&Y[5].c>1)),N?X?(X.p(Y,ne),ne&35&&M(X,1)):(X=ga(Y),X.c(),M(X,1),X.m(e,null)):X&&(Ce(),I(X,1,1,()=>{X=null}),Te())},i(Y){D||(M(R),M(H),M(U),M(F),M(L),M(G),M(j),M(O),M(q),M(W),M(X),D=!0)},o(Y){I(R),I(H),I(U),I(F),I(L),I(G),I(j),I(O),I(q),I(W),I(X),D=!1},d(Y){Y&&w(e),R&&R.d(),H&&H.d(),U&&U.d(),F&&F.d(),L&&L.d(),G&&G.d(),j&&j.d(),O&&O.d(),q&&q.d(),W&&W.d(),X&&X.d()}}}function Zm(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,o={},r={},a={},c={};return xf.subscribe(f=>{l(2,o=f)}),ec.subscribe(f=>{l(3,r=f)}),tc.subscribe(f=>{l(4,a=f)}),nc.subscribe(f=>{l(5,c=f)}),t.$$set=f=>{"data"in f&&l(0,n=f.data),"sysinfo"in f&&l(1,i=f.sysinfo)},[n,i,o,r,a,c]}class Jm extends $e{constructor(e){super(),ye(this,e,Zm,Qm,we,{data:0,sysinfo:1})}}let Zs={};const cc=Ze(Zs);async function Xm(){Zs=await(await fetch("/configuration.json")).json(),cc.set(Zs)}function ba(t,e,l){const n=t.slice();return n[2]=e[l],n[4]=l,n}function ka(t){let e;return{c(){e=m("option"),e.textContent="UART2",e.__value=113,e.value=e.__value},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function wa(t){let e,l,n;return{c(){e=m("option"),e.textContent="UART1",l=v(),n=m("option"),n.textContent="UART2",e.__value=9,e.value=e.__value,n.__value=16,n.value=n.__value},m(i,o){y(i,e,o),y(i,l,o),y(i,n,o)},d(i){i&&w(e),i&&w(l),i&&w(n)}}}function ya(t){let e;return{c(){e=m("option"),e.textContent="UART1",e.__value=18,e.value=e.__value},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function $a(t){let e,l,n;return{c(){e=m("option"),l=C("GPIO"),n=C(t[4]),e.__value=t[4],e.value=e.__value},m(i,o){y(i,e,o),s(e,l),s(e,n)},d(i){i&&w(e)}}}function Ca(t){let e,l=t[4]>3&&!(t[0]=="esp32"&&(t[4]==9||t[4]==16))&&!(t[0]=="esp32s2"&&t[4]==18)&&!(t[0]=="esp8266"&&(t[4]==3||t[4]==113))&&$a(t);return{c(){l&&l.c(),e=je()},m(n,i){l&&l.m(n,i),y(n,e,i)},p(n,i){n[4]>3&&!(n[0]=="esp32"&&(n[4]==9||n[4]==16))&&!(n[0]=="esp32s2"&&n[4]==18)&&!(n[0]=="esp8266"&&(n[4]==3||n[4]==113))?l||(l=$a(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(n){l&&l.d(n),n&&w(e)}}}function xm(t){let e,l,n,i,o,r,a=t[0]=="esp8266"&&ka(),c=(t[0]=="esp32"||t[0]=="esp32solo")&&wa(),f=t[0]=="esp32s2"&&ya(),p={length:t[1]+1},_=[];for(let d=0;d<p.length;d+=1)_[d]=Ca(ba(t,p,d));return{c(){e=m("option"),e.textContent="UART0",l=v(),a&&a.c(),n=v(),c&&c.c(),i=v(),f&&f.c(),o=v();for(let d=0;d<_.length;d+=1)_[d].c();r=je(),e.__value=3,e.value=e.__value},m(d,g){y(d,e,g),y(d,l,g),a&&a.m(d,g),y(d,n,g),c&&c.m(d,g),y(d,i,g),f&&f.m(d,g),y(d,o,g);for(let h=0;h<_.length;h+=1)_[h].m(d,g);y(d,r,g)},p(d,[g]){if(d[0]=="esp8266"?a||(a=ka(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),d[0]=="esp32"||d[0]=="esp32solo"?c||(c=wa(),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null),d[0]=="esp32s2"?f||(f=ya(),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null),g&3){p={length:d[1]+1};let h;for(h=0;h<p.length;h+=1){const b=ba(d,p,h);_[h]?_[h].p(b,g):(_[h]=Ca(b),_[h].c(),_[h].m(r.parentNode,r))}for(;h<_.length;h+=1)_[h].d(1);_.length=p.length}},i:ie,o:ie,d(d){d&&w(e),d&&w(l),a&&a.d(d),d&&w(n),c&&c.d(d),d&&w(i),f&&f.d(d),d&&w(o),Vt(_,d),d&&w(r)}}}function ep(t,e,l){let{chip:n}=e,i=44;return t.$$set=o=>{"chip"in o&&l(0,n=o.chip)},t.$$.update=()=>{t.$$.dirty&1&&l(1,i=n=="esp8266"?16:n=="esp32s2"?44:39)},[n,i]}class mc extends $e{constructor(e){super(),ye(this,e,ep,xm,we,{chip:0})}}function Ta(t){let e,l,n=t[1]&&Sa(t);return{c(){e=m("div"),l=m("div"),n&&n.c(),u(l,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center"),u(e,"class","z-50"),u(e,"aria-modal","true")},m(i,o){y(i,e,o),s(e,l),n&&n.m(l,null)},p(i,o){i[1]?n?n.p(i,o):(n=Sa(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&w(e),n&&n.d()}}}function Sa(t){let e,l;return{c(){e=m("div"),l=C(t[1]),u(e,"class","bg-white m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 w-96")},m(n,i){y(n,e,i),s(e,l)},p(n,i){i&2&&B(l,n[1])},d(n){n&&w(e)}}}function tp(t){let e,l=t[0]&&Ta(t);return{c(){l&&l.c(),e=je()},m(n,i){l&&l.m(n,i),y(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=Ta(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ie,o:ie,d(n){l&&l.d(n),n&&w(e)}}}function lp(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=o=>{"active"in o&&l(0,n=o.active),"message"in o&&l(1,i=o.message)},[n,i]}class gt extends $e{constructor(e){super(),ye(this,e,lp,tp,we,{active:0,message:1})}}function Pa(t,e,l){const n=t.slice();return n[1]=e[l],n}function Ma(t){let e,l,n=t[1]+"",i;return{c(){e=m("option"),l=C("Europe/"),i=C(n),e.__value="Europe/"+t[1],e.value=e.__value},m(o,r){y(o,e,r),s(e,l),s(e,i)},p:ie,d(o){o&&w(e)}}}function np(t){let e,l,n,i=t[0],o=[];for(let r=0;r<i.length;r+=1)o[r]=Ma(Pa(t,i,r));return{c(){e=m("option"),e.textContent="GMT",l=v();for(let r=0;r<o.length;r+=1)o[r].c();n=je(),e.__value="GMT",e.value=e.__value},m(r,a){y(r,e,a),y(r,l,a);for(let c=0;c<o.length;c+=1)o[c].m(r,a);y(r,n,a)},p(r,[a]){if(a&1){i=r[0];let c;for(c=0;c<i.length;c+=1){const f=Pa(r,i,c);o[c]?o[c].p(f,a):(o[c]=Ma(f),o[c].c(),o[c].m(n.parentNode,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},i:ie,o:ie,d(r){r&&w(e),r&&w(l),Vt(o,r),r&&w(n)}}}function ip(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class sp extends $e{constructor(e){super(),ye(this,e,ip,np,we,{})}}function op(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h;return{c(){e=m("optgroup"),l=m("option"),l.textContent="/24",n=v(),i=m("optgroup"),o=m("option"),o.textContent="/25",r=m("option"),r.textContent="/26",a=m("option"),a.textContent="/27",c=m("option"),c.textContent="/28",f=m("option"),f.textContent="/29",p=v(),_=m("optgroup"),d=m("option"),d.textContent="/23",g=m("option"),g.textContent="/22",h=m("option"),h.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,u(e,"label","Most common is /24 (255.255.255.0)"),o.__value="255.255.255.128",o.value=o.__value,r.__value="255.255.255.192",r.value=r.__value,a.__value="255.255.255.224",a.value=a.__value,c.__value="255.255.255.240",c.value=c.__value,f.__value="255.255.255.248",f.value=f.__value,u(i,"label","Smaller subnets"),d.__value="255.255.254.0",d.value=d.__value,g.__value="255.255.252.0",g.value=g.__value,h.__value="255.255.0.0",h.value=h.__value,u(_,"label","Larger subnets")},m(b,$){y(b,e,$),s(e,l),y(b,n,$),y(b,i,$),s(i,o),s(i,r),s(i,a),s(i,c),s(i,f),y(b,p,$),y(b,_,$),s(_,d),s(_,g),s(_,h)},p:ie,i:ie,o:ie,d(b){b&&w(e),b&&w(n),b&&w(i),b&&w(p),b&&w(_)}}}class pc extends $e{constructor(e){super(),ye(this,e,null,op,we,{})}}function Aa(t,e,l){const n=t.slice();return n[88]=e[l],n[89]=e,n[90]=l,n}function Da(t,e,l){const n=t.slice();return n[91]=e[l],n[92]=e,n[93]=l,n}function up(t,e,l){const n=t.slice();return n[94]=e[l],n}function rp(t,e,l){const n=t.slice();return n[97]=e[l],n}function ap(t){let e,l;return{c(){e=m("option"),l=C(t[97]),e.__value=t[97],e.value=e.__value},m(n,i){y(n,e,i),s(e,l)},p:ie,d(n){n&&w(e)}}}function Na(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","pt"),u(l,"type","text"),u(l,"class","in-s"),u(l,"placeholder","ENTSO-E API key, optional, read docs")},m(o,r){y(o,e,r),y(o,l,r),z(l,t[3].p.t),n||(i=V(l,"input",t[18]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].p.t&&z(l,o[3].p.t)},d(o){o&&w(e),o&&w(l),n=!1,i()}}}function Ia(t){let e,l,n,i,o,r,a,c,f,p,_,d,g;return{c(){e=m("div"),l=C("Username"),n=m("br"),i=v(),o=m("input"),r=v(),a=m("div"),c=C("Password"),f=m("br"),p=v(),_=m("input"),u(o,"name","gu"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(_,"name","gp"),u(_,"type","password"),u(_,"class","in-s"),u(a,"class","my-1")},m(h,b){y(h,e,b),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].g.u),y(h,r,b),y(h,a,b),s(a,c),s(a,f),s(a,p),s(a,_),z(_,t[3].g.p),d||(g=[V(o,"input",t[20]),V(_,"input",t[21])],d=!0)},p(h,b){b[0]&8&&o.value!==h[3].g.u&&z(o,h[3].g.u),b[0]&8&&_.value!==h[3].g.p&&z(_,h[3].g.p)},d(h){h&&w(e),h&&w(r),h&&w(a),d=!1,Ge(g)}}}function fp(t){let e,l=t[94]*100+"",n;return{c(){e=m("option"),n=C(l),e.__value=t[94]*100,e.value=e.__value},m(i,o){y(i,e,o),s(e,n)},p:ie,d(i){i&&w(e)}}}function Ea(t){let e,l,n,i;return{c(){e=m("br"),l=m("input"),u(l,"name","mek"),u(l,"type","text"),u(l,"class","in-s")},m(o,r){y(o,e,r),y(o,l,r),z(l,t[3].m.e.k),n||(i=V(l,"input",t[29]),n=!0)},p(o,r){r[0]&8&&l.value!==o[3].m.e.k&&z(l,o[3].m.e.k)},d(o){o&&w(e),o&&w(l),n=!1,i()}}}function Ra(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=C("Authentication key"),n=m("br"),i=v(),o=m("input"),u(o,"name","mea"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1")},m(c,f){y(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].m.e.a),r||(a=V(o,"input",t[30]),r=!0)},p(c,f){f[0]&8&&o.value!==c[3].m.e.a&&z(o,c[3].m.e.a)},d(c){c&&w(e),r=!1,a()}}}function Fa(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U;return{c(){e=m("div"),l=m("div"),n=C("Watt"),i=m("br"),o=v(),r=m("input"),a=v(),c=m("div"),f=C("Volt"),p=m("br"),_=v(),d=m("input"),g=v(),h=m("div"),b=C("Amp"),$=m("br"),k=v(),T=m("input"),P=v(),E=m("div"),S=C("kWh"),N=m("br"),D=v(),R=m("input"),u(r,"name","mmw"),u(r,"type","number"),u(r,"min","0.00"),u(r,"max","655.35"),u(r,"step","0.01"),u(r,"class","in-f tr w-full"),u(l,"class","w-1/4"),u(d,"name","mmv"),u(d,"type","number"),u(d,"min","0.00"),u(d,"max","655.35"),u(d,"step","0.01"),u(d,"class","in-m tr w-full"),u(c,"class","w-1/4"),u(T,"name","mma"),u(T,"type","number"),u(T,"min","0.00"),u(T,"max","655.35"),u(T,"step","0.01"),u(T,"class","in-m tr w-full"),u(h,"class","w-1/4"),u(R,"name","mmc"),u(R,"type","number"),u(R,"min","0.00"),u(R,"max","655.35"),u(R,"step","0.01"),u(R,"class","in-l tr w-full"),u(E,"class","w-1/4"),u(e,"class","flex my-1")},m(F,L){y(F,e,L),s(e,l),s(l,n),s(l,i),s(l,o),s(l,r),z(r,t[3].m.m.w),s(e,a),s(e,c),s(c,f),s(c,p),s(c,_),s(c,d),z(d,t[3].m.m.v),s(e,g),s(e,h),s(h,b),s(h,$),s(h,k),s(h,T),z(T,t[3].m.m.a),s(e,P),s(e,E),s(E,S),s(E,N),s(E,D),s(E,R),z(R,t[3].m.m.c),H||(U=[V(r,"input",t[32]),V(d,"input",t[33]),V(T,"input",t[34]),V(R,"input",t[35])],H=!0)},p(F,L){L[0]&8&&me(r.value)!==F[3].m.m.w&&z(r,F[3].m.m.w),L[0]&8&&me(d.value)!==F[3].m.m.v&&z(d,F[3].m.m.v),L[0]&8&&me(T.value)!==F[3].m.m.a&&z(T,F[3].m.m.a),L[0]&8&&me(R.value)!==F[3].m.m.c&&z(R,F[3].m.m.c)},d(F){F&&w(e),H=!1,Ge(U)}}}function La(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$;return{c(){e=m("div"),l=C("Gateway"),n=m("br"),i=v(),o=m("input"),r=v(),a=m("div"),c=C("DNS"),f=m("br"),p=v(),_=m("div"),d=m("input"),g=v(),h=m("input"),u(o,"name","ng"),u(o,"type","text"),u(o,"class","in-s"),u(e,"class","my-1"),u(d,"name","nd1"),u(d,"type","text"),u(d,"class","in-f w-full"),u(h,"name","nd2"),u(h,"type","text"),u(h,"class","in-l w-full"),u(_,"class","flex"),u(a,"class","my-1")},m(k,T){y(k,e,T),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].n.g),y(k,r,T),y(k,a,T),s(a,c),s(a,f),s(a,p),s(a,_),s(_,d),z(d,t[3].n.d1),s(_,g),s(_,h),z(h,t[3].n.d2),b||($=[V(o,"input",t[44]),V(d,"input",t[45]),V(h,"input",t[46])],b=!0)},p(k,T){T[0]&8&&o.value!==k[3].n.g&&z(o,k[3].n.g),T[0]&8&&d.value!==k[3].n.d1&&z(d,k[3].n.d1),T[0]&8&&h.value!==k[3].n.d2&&z(h,k[3].n.d2)},d(k){k&&w(e),k&&w(r),k&&w(a),b=!1,Ge($)}}}function Oa(t){let e,l,n,i,o;return{c(){e=m("label"),l=m("input"),n=C(" SSL"),u(l,"type","checkbox"),u(l,"name","qs"),l.__value="true",l.value=l.__value,u(l,"class","rounded mb-1"),u(e,"class","float-right mr-3")},m(r,a){y(r,e,a),s(e,l),l.checked=t[3].q.s.e,s(e,n),i||(o=[V(l,"change",t[50]),V(l,"change",t[11])],i=!0)},p(r,a){a[0]&8&&(l.checked=r[3].q.s.e)},d(r){r&&w(e),i=!1,Ge(o)}}}function qa(t){let e,l,n,i,o,r,a,c;return n=new kl({props:{to:"/mqtt-ca",$$slots:{default:[pp]},$$scope:{ctx:t}}}),o=new kl({props:{to:"/mqtt-cert",$$slots:{default:[vp]},$$scope:{ctx:t}}}),a=new kl({props:{to:"/mqtt-key",$$slots:{default:[bp]},$$scope:{ctx:t}}}),{c(){e=m("div"),l=m("div"),Z(n.$$.fragment),i=v(),Z(o.$$.fragment),r=v(),Z(a.$$.fragment),u(e,"class","my-1")},m(f,p){y(f,e,p),s(e,l),K(n,l,null),s(l,i),K(o,l,null),s(l,r),K(a,l,null),c=!0},p(f,p){const _={};p[0]&8|p[3]&128&&(_.$$scope={dirty:p,ctx:f}),n.$set(_);const d={};p[0]&8|p[3]&128&&(d.$$scope={dirty:p,ctx:f}),o.$set(d);const g={};p[0]&8|p[3]&128&&(g.$$scope={dirty:p,ctx:f}),a.$set(g)},i(f){c||(M(n.$$.fragment,f),M(o.$$.fragment,f),M(a.$$.fragment,f),c=!0)},o(f){I(n.$$.fragment,f),I(o.$$.fragment,f),I(a.$$.fragment,f),c=!1},d(f){f&&w(e),Q(n),Q(o),Q(a)}}}function cp(t){let e,l;return e=new zt({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function mp(t){let e,l;return e=new zt({props:{color:"green",text:"CA OK",title:"Click here to replace CA"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function pp(t){let e,l,n,i;const o=[mp,cp],r=[];function a(c,f){return c[3].q.s.c?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=je()},m(c,f){r[e].m(c,f),y(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e!==p&&(Ce(),I(r[p],1,1,()=>{r[p]=null}),Te(),l=r[e],l||(l=r[e]=o[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&w(n)}}}function _p(t){let e,l;return e=new zt({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function dp(t){let e,l;return e=new zt({props:{color:"green",text:"Cert OK",title:"Click here to replace certificate"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function vp(t){let e,l,n,i;const o=[dp,_p],r=[];function a(c,f){return c[3].q.s.r?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=je()},m(c,f){r[e].m(c,f),y(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e!==p&&(Ce(),I(r[p],1,1,()=>{r[p]=null}),Te(),l=r[e],l||(l=r[e]=o[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&w(n)}}}function hp(t){let e,l;return e=new zt({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function gp(t){let e,l;return e=new zt({props:{color:"green",text:"Key OK",title:"Click here to replace key"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function bp(t){let e,l,n,i;const o=[gp,hp],r=[];function a(c,f){return c[3].q.s.k?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=je()},m(c,f){r[e].m(c,f),y(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e!==p&&(Ce(),I(r[p],1,1,()=>{r[p]=null}),Te(),l=r[e],l||(l=r[e]=o[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&w(n)}}}function Ua(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j,O,q;return o=new yt({}),{c(){e=m("div"),l=m("strong"),l.textContent="Domoticz",n=v(),i=m("a"),Z(o.$$.fragment),r=v(),a=m("input"),c=v(),f=m("div"),p=m("div"),_=C("Electricity IDX"),d=m("br"),g=v(),h=m("input"),b=v(),$=m("div"),k=C("Current IDX"),T=m("br"),P=v(),E=m("input"),S=v(),N=m("div"),D=C(`Voltage IDX: L1, L2 & L3
                `),R=m("div"),H=m("input"),U=v(),F=m("input"),L=v(),G=m("input"),u(l,"class","text-sm"),u(i,"href",$t("MQTT-configuration#domoticz")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","o"),a.value="true",u(h,"name","oe"),u(h,"type","text"),u(h,"class","in-f tr w-full"),u(p,"class","w-1/2"),u(E,"name","oc"),u(E,"type","text"),u(E,"class","in-l tr w-full"),u($,"class","w-1/2"),u(f,"class","my-1 flex"),u(H,"name","ou1"),u(H,"type","text"),u(H,"class","in-f tr w-1/3"),u(F,"name","ou2"),u(F,"type","text"),u(F,"class","in-m tr w-1/3"),u(G,"name","ou3"),u(G,"type","text"),u(G,"class","in-l tr w-1/3"),u(R,"class","flex"),u(N,"class","my-1"),u(e,"class","cnt")},m(W,X){y(W,e,X),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f),s(f,p),s(p,_),s(p,d),s(p,g),s(p,h),z(h,t[3].o.e),s(f,b),s(f,$),s($,k),s($,T),s($,P),s($,E),z(E,t[3].o.c),s(e,S),s(e,N),s(N,D),s(N,R),s(R,H),z(H,t[3].o.u1),s(R,U),s(R,F),z(F,t[3].o.u2),s(R,L),s(R,G),z(G,t[3].o.u3),j=!0,O||(q=[V(h,"input",t[58]),V(E,"input",t[59]),V(H,"input",t[60]),V(F,"input",t[61]),V(G,"input",t[62])],O=!0)},p(W,X){X[0]&8&&h.value!==W[3].o.e&&z(h,W[3].o.e),X[0]&8&&E.value!==W[3].o.c&&z(E,W[3].o.c),X[0]&8&&H.value!==W[3].o.u1&&z(H,W[3].o.u1),X[0]&8&&F.value!==W[3].o.u2&&z(F,W[3].o.u2),X[0]&8&&G.value!==W[3].o.u3&&z(G,W[3].o.u3)},i(W){j||(M(o.$$.fragment,W),j=!0)},o(W){I(o.$$.fragment,W),j=!1},d(W){W&&w(e),Q(o),O=!1,Ge(q)}}}function Ha(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G;return o=new yt({}),{c(){e=m("div"),l=m("strong"),l.textContent="Home-Assistant",n=v(),i=m("a"),Z(o.$$.fragment),r=v(),a=m("input"),c=v(),f=m("div"),p=C("Discovery topic prefix"),_=m("br"),d=v(),g=m("input"),h=v(),b=m("div"),$=C("Hostname for URL"),k=m("br"),T=v(),P=m("input"),S=v(),N=m("div"),D=C("Name tag"),R=m("br"),H=v(),U=m("input"),u(l,"class","text-sm"),u(i,"href",$t("MQTT-configuration#home-assistant")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","h"),a.value="true",u(g,"name","ht"),u(g,"type","text"),u(g,"class","in-s"),u(g,"placeholder","homeassistant"),u(f,"class","my-1"),u(P,"name","hh"),u(P,"type","text"),u(P,"class","in-s"),u(P,"placeholder",E=t[3].g.h+".local"),u(b,"class","my-1"),u(U,"name","hn"),u(U,"type","text"),u(U,"class","in-s"),u(N,"class","my-1"),u(e,"class","cnt")},m(j,O){y(j,e,O),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f),s(f,p),s(f,_),s(f,d),s(f,g),z(g,t[3].h.t),s(e,h),s(e,b),s(b,$),s(b,k),s(b,T),s(b,P),z(P,t[3].h.h),s(e,S),s(e,N),s(N,D),s(N,R),s(N,H),s(N,U),z(U,t[3].h.n),F=!0,L||(G=[V(g,"input",t[63]),V(P,"input",t[64]),V(U,"input",t[65])],L=!0)},p(j,O){O[0]&8&&g.value!==j[3].h.t&&z(g,j[3].h.t),(!F||O[0]&8&&E!==(E=j[3].g.h+".local"))&&u(P,"placeholder",E),O[0]&8&&P.value!==j[3].h.h&&z(P,j[3].h.h),O[0]&8&&U.value!==j[3].h.n&&z(U,j[3].h.n)},i(j){F||(M(o.$$.fragment,j),F=!0)},o(j){I(o.$$.fragment,j),F=!1},d(j){j&&w(e),Q(o),L=!1,Ge(G)}}}function ja(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P;o=new yt({});let E={length:9},S=[];for(let N=0;N<E.length;N+=1)S[N]=Wa(Da(t,E,N));return{c(){e=m("div"),l=m("strong"),l.textContent="Tariff thresholds",n=v(),i=m("a"),Z(o.$$.fragment),r=v(),a=m("input"),c=v(),f=m("div");for(let N=0;N<S.length;N+=1)S[N].c();p=v(),_=m("label"),d=m("span"),d.textContent="Average of",g=v(),h=m("input"),b=v(),$=m("span"),$.textContent="hours",u(l,"class","text-sm"),u(i,"href",$t("Threshold-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(a,"type","hidden"),u(a,"name","t"),a.value="true",u(f,"class","flex flex-wrap my-1"),u(d,"class","in-pre"),u(h,"name","th"),u(h,"type","number"),u(h,"min","0"),u(h,"max","255"),u(h,"class","in-txt tr w-full"),u($,"class","in-post"),u(_,"class","flex m-1"),u(e,"class","cnt")},m(N,D){y(N,e,D),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),s(e,a),s(e,c),s(e,f);for(let R=0;R<S.length;R+=1)S[R].m(f,null);s(e,p),s(e,_),s(_,d),s(_,g),s(_,h),z(h,t[3].t.h),s(_,b),s(_,$),k=!0,T||(P=V(h,"input",t[67]),T=!0)},p(N,D){if(D[0]&8){E={length:9};let R;for(R=0;R<E.length;R+=1){const H=Da(N,E,R);S[R]?S[R].p(H,D):(S[R]=Wa(H),S[R].c(),S[R].m(f,null))}for(;R<S.length;R+=1)S[R].d(1);S.length=E.length}D[0]&8&&me(h.value)!==N[3].t.h&&z(h,N[3].t.h)},i(N){k||(M(o.$$.fragment,N),k=!0)},o(N){I(o.$$.fragment,N),k=!1},d(N){N&&w(e),Q(o),Vt(S,N),T=!1,P()}}}function Wa(t){let e,l,n=t[93]+1+"",i,o,r,a,c,f,p,_;function d(){t[66].call(r,t[93])}return{c(){e=m("label"),l=m("span"),i=C(n),o=v(),r=m("input"),a=v(),c=m("span"),c.textContent="kWh",f=v(),u(l,"class","in-pre"),u(r,"name","t"+t[93]),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-txt w-full"),u(c,"class","in-post"),u(e,"class","flex w-40 m-1")},m(g,h){y(g,e,h),s(e,l),s(l,i),s(e,o),s(e,r),z(r,t[3].t.t[t[93]]),s(e,a),s(e,c),s(e,f),p||(_=V(r,"input",d),p=!0)},p(g,h){t=g,h[0]&8&&me(r.value)!==t[3].t.t[t[93]]&&z(r,t[3].t.t[t[93]])},d(g){g&&w(e),p=!1,_()}}}function Ga(t){let e,l=t[88].name+"",n,i,o,r,a,c,f,p,_,d;function g(){t[68].call(r,t[88])}return{c(){e=m("div"),n=C(l),i=m("br"),o=v(),r=m("select"),a=m("option"),a.textContent="Hide",c=m("option"),c.textContent="Show",f=m("option"),f.textContent="Dynamic",p=v(),a.__value=0,a.value=a.__value,c.__value=1,c.value=c.__value,f.__value=2,f.value=f.__value,u(r,"name","u"+t[88].key),u(r,"class","in-s"),t[3].u[t[88].key]===void 0&&Be(g),u(e,"class","w-1/2")},m(h,b){y(h,e,b),s(e,n),s(e,i),s(e,o),s(e,r),s(r,a),s(r,c),s(r,f),Fe(r,t[3].u[t[88].key]),s(e,p),_||(d=V(r,"change",g),_=!0)},p(h,b){t=h,b[0]&136&&Fe(r,t[3].u[t[88].key])},d(h){h&&w(e),_=!1,d()}}}function Ba(t){let e,l,n,i,o,r,a,c;o=new yt({});let f=t[0].board>20&&Ya(t),p=t[0].chip=="esp8266"&&Ka(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Hardware",n=v(),i=m("a"),Z(o.$$.fragment),r=v(),f&&f.c(),a=v(),p&&p.c(),u(l,"class","text-sm"),u(i,"href",$t("GPIO-configuration")),u(i,"target","_blank"),u(i,"class","float-right"),u(e,"class","cnt")},m(_,d){y(_,e,d),s(e,l),s(e,n),s(e,i),K(o,i,null),s(e,r),f&&f.m(e,null),s(e,a),p&&p.m(e,null),c=!0},p(_,d){_[0].board>20?f?(f.p(_,d),d[0]&1&&M(f,1)):(f=Ya(_),f.c(),M(f,1),f.m(e,a)):f&&(Ce(),I(f,1,1,()=>{f=null}),Te()),_[0].chip=="esp8266"?p?p.p(_,d):(p=Ka(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i(_){c||(M(o.$$.fragment,_),M(f),c=!0)},o(_){I(o.$$.fragment,_),I(f),c=!1},d(_){_&&w(e),Q(o),f&&f.d(),p&&p.d()}}}function Ya(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j,O,q,W,X,Y,ne,te,Ae,_e,Ie,Ee,Le,Re,Se,be,fe,ae,ce,ue,J,se,Pe,ee,oe,Ue,Me;f=new mc({props:{chip:t[0].chip}});let de=t[0].chip!="esp8266"&&za(t),ve=t[3].i.v.p>0&&Va(t);return{c(){e=m("input"),l=v(),n=m("div"),i=m("div"),o=C("HAN"),r=m("br"),a=v(),c=m("select"),Z(f.$$.fragment),p=v(),_=m("div"),d=C("AP button"),g=m("br"),h=v(),b=m("input"),$=v(),k=m("div"),T=C("LED"),P=m("label"),E=m("input"),S=C(" inv"),N=m("br"),D=v(),R=m("div"),H=m("input"),U=v(),F=m("div"),L=C("RGB"),G=m("label"),j=m("input"),O=C(" inverted"),q=m("br"),W=v(),X=m("div"),Y=m("input"),ne=v(),te=m("input"),Ae=v(),_e=m("input"),Ie=v(),Ee=m("div"),Le=C("Temperature"),Re=m("br"),Se=v(),be=m("input"),fe=v(),ae=m("div"),ce=C("Analog temp"),ue=m("br"),J=v(),se=m("input"),Pe=v(),de&&de.c(),ee=v(),ve&&ve.c(),u(e,"type","hidden"),u(e,"name","i"),e.value="true",u(c,"name","ih"),u(c,"class","in-f w-full"),t[3].i.h===void 0&&Be(()=>t[69].call(c)),u(i,"class","w-1/3"),u(b,"name","ia"),u(b,"type","number"),u(b,"min","0"),u(b,"max",t[6]),u(b,"class","in-m tr w-full"),u(_,"class","w-1/3"),u(E,"name","ili"),E.__value="true",E.value=E.__value,u(E,"type","checkbox"),u(E,"class","rounded mb-1"),u(P,"class","ml-4"),u(H,"name","ilp"),u(H,"type","number"),u(H,"min","0"),u(H,"max",t[6]),u(H,"class","in-l tr w-full"),u(R,"class","flex"),u(k,"class","w-1/3"),u(j,"name","iri"),j.__value="true",j.value=j.__value,u(j,"type","checkbox"),u(j,"class","rounded mb-1"),u(G,"class","ml-4"),u(Y,"name","irr"),u(Y,"type","number"),u(Y,"min","0"),u(Y,"max",t[6]),u(Y,"class","in-f tr w-1/3"),u(te,"name","irg"),u(te,"type","number"),u(te,"min","0"),u(te,"max",t[6]),u(te,"class","in-m tr w-1/3"),u(_e,"name","irb"),u(_e,"type","number"),u(_e,"min","0"),u(_e,"max",t[6]),u(_e,"class","in-l tr w-1/3"),u(X,"class","flex"),u(F,"class","w-full"),u(be,"name","itd"),u(be,"type","number"),u(be,"min","0"),u(be,"max",t[6]),u(be,"class","in-f tr w-full"),u(Ee,"class","my-1 w-1/3"),u(se,"name","ita"),u(se,"type","number"),u(se,"min","0"),u(se,"max",t[6]),u(se,"class","in-l tr w-full"),u(ae,"class","my-1 pr-1 w-1/3"),u(n,"class","flex flex-wrap")},m(le,he){y(le,e,he),y(le,l,he),y(le,n,he),s(n,i),s(i,o),s(i,r),s(i,a),s(i,c),K(f,c,null),Fe(c,t[3].i.h),s(n,p),s(n,_),s(_,d),s(_,g),s(_,h),s(_,b),z(b,t[3].i.a),s(n,$),s(n,k),s(k,T),s(k,P),s(P,E),E.checked=t[3].i.l.i,s(P,S),s(k,N),s(k,D),s(k,R),s(R,H),z(H,t[3].i.l.p),s(n,U),s(n,F),s(F,L),s(F,G),s(G,j),j.checked=t[3].i.r.i,s(G,O),s(F,q),s(F,W),s(F,X),s(X,Y),z(Y,t[3].i.r.r),s(X,ne),s(X,te),z(te,t[3].i.r.g),s(X,Ae),s(X,_e),z(_e,t[3].i.r.b),s(n,Ie),s(n,Ee),s(Ee,Le),s(Ee,Re),s(Ee,Se),s(Ee,be),z(be,t[3].i.t.d),s(n,fe),s(n,ae),s(ae,ce),s(ae,ue),s(ae,J),s(ae,se),z(se,t[3].i.t.a),s(n,Pe),de&&de.m(n,null),s(n,ee),ve&&ve.m(n,null),oe=!0,Ue||(Me=[V(c,"change",t[69]),V(b,"input",t[70]),V(E,"change",t[71]),V(H,"input",t[72]),V(j,"change",t[73]),V(Y,"input",t[74]),V(te,"input",t[75]),V(_e,"input",t[76]),V(be,"input",t[77]),V(se,"input",t[78])],Ue=!0)},p(le,he){const qe={};he[0]&1&&(qe.chip=le[0].chip),f.$set(qe),he[0]&8&&Fe(c,le[3].i.h),(!oe||he[0]&64)&&u(b,"max",le[6]),he[0]&8&&me(b.value)!==le[3].i.a&&z(b,le[3].i.a),he[0]&8&&(E.checked=le[3].i.l.i),(!oe||he[0]&64)&&u(H,"max",le[6]),he[0]&8&&me(H.value)!==le[3].i.l.p&&z(H,le[3].i.l.p),he[0]&8&&(j.checked=le[3].i.r.i),(!oe||he[0]&64)&&u(Y,"max",le[6]),he[0]&8&&me(Y.value)!==le[3].i.r.r&&z(Y,le[3].i.r.r),(!oe||he[0]&64)&&u(te,"max",le[6]),he[0]&8&&me(te.value)!==le[3].i.r.g&&z(te,le[3].i.r.g),(!oe||he[0]&64)&&u(_e,"max",le[6]),he[0]&8&&me(_e.value)!==le[3].i.r.b&&z(_e,le[3].i.r.b),(!oe||he[0]&64)&&u(be,"max",le[6]),he[0]&8&&me(be.value)!==le[3].i.t.d&&z(be,le[3].i.t.d),(!oe||he[0]&64)&&u(se,"max",le[6]),he[0]&8&&me(se.value)!==le[3].i.t.a&&z(se,le[3].i.t.a),le[0].chip!="esp8266"?de?de.p(le,he):(de=za(le),de.c(),de.m(n,ee)):de&&(de.d(1),de=null),le[3].i.v.p>0?ve?ve.p(le,he):(ve=Va(le),ve.c(),ve.m(n,null)):ve&&(ve.d(1),ve=null)},i(le){oe||(M(f.$$.fragment,le),oe=!0)},o(le){I(f.$$.fragment,le),oe=!1},d(le){le&&w(e),le&&w(l),le&&w(n),Q(f),de&&de.d(),ve&&ve.d(),Ue=!1,Ge(Me)}}}function za(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=C("Vcc"),n=m("br"),i=v(),o=m("input"),u(o,"name","ivp"),u(o,"type","number"),u(o,"min","0"),u(o,"max",t[6]),u(o,"class","in-s tr w-full"),u(e,"class","my-1 pl-1 w-1/3")},m(c,f){y(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].i.v.p),r||(a=V(o,"input",t[79]),r=!0)},p(c,f){f[0]&64&&u(o,"max",c[6]),f[0]&8&&me(o.value)!==c[3].i.v.p&&z(o,c[3].i.v.p)},d(c){c&&w(e),r=!1,a()}}}function Va(t){let e,l,n,i,o,r,a,c,f,p;return{c(){e=m("div"),l=C("Voltage divider"),n=m("br"),i=v(),o=m("div"),r=m("input"),a=v(),c=m("input"),u(r,"name","ivdv"),u(r,"type","number"),u(r,"min","0"),u(r,"max","65535"),u(r,"class","in-f tr w-full"),u(r,"placeholder","VCC"),u(c,"name","ivdg"),u(c,"type","number"),u(c,"min","0"),u(c,"max","65535"),u(c,"class","in-l tr w-full"),u(c,"placeholder","GND"),u(o,"class","flex"),u(e,"class","my-1")},m(_,d){y(_,e,d),s(e,l),s(e,n),s(e,i),s(e,o),s(o,r),z(r,t[3].i.v.d.v),s(o,a),s(o,c),z(c,t[3].i.v.d.g),f||(p=[V(r,"input",t[80]),V(c,"input",t[81])],f=!0)},p(_,d){d[0]&8&&me(r.value)!==_[3].i.v.d.v&&z(r,_[3].i.v.d.v),d[0]&8&&me(c.value)!==_[3].i.v.d.g&&z(c,_[3].i.v.d.g)},d(_){_&&w(e),f=!1,Ge(p)}}}function Ka(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T=(t[0].board==2||t[0].board==100)&&Qa(t);return{c(){e=m("input"),l=v(),n=m("div"),i=m("div"),o=C("Vcc offset"),r=m("br"),a=v(),c=m("input"),f=v(),p=m("div"),_=C("Multiplier"),d=m("br"),g=v(),h=m("input"),b=v(),T&&T.c(),u(e,"type","hidden"),u(e,"name","iv"),e.value="true",u(c,"name","ivo"),u(c,"type","number"),u(c,"min","0.0"),u(c,"max","3.5"),u(c,"step","0.01"),u(c,"class","in-f tr w-full"),u(i,"class","w-1/3"),u(h,"name","ivm"),u(h,"type","number"),u(h,"min","0.1"),u(h,"max","10"),u(h,"step","0.01"),u(h,"class","in-l tr w-full"),u(p,"class","w-1/3 pr-1"),u(n,"class","my-1 flex flex-wrap")},m(P,E){y(P,e,E),y(P,l,E),y(P,n,E),s(n,i),s(i,o),s(i,r),s(i,a),s(i,c),z(c,t[3].i.v.o),s(n,f),s(n,p),s(p,_),s(p,d),s(p,g),s(p,h),z(h,t[3].i.v.m),s(n,b),T&&T.m(n,null),$||(k=[V(c,"input",t[82]),V(h,"input",t[83])],$=!0)},p(P,E){E[0]&8&&me(c.value)!==P[3].i.v.o&&z(c,P[3].i.v.o),E[0]&8&&me(h.value)!==P[3].i.v.m&&z(h,P[3].i.v.m),P[0].board==2||P[0].board==100?T?T.p(P,E):(T=Qa(P),T.c(),T.m(n,null)):T&&(T.d(1),T=null)},d(P){P&&w(e),P&&w(l),P&&w(n),T&&T.d(),$=!1,Ge(k)}}}function Qa(t){let e,l,n,i,o,r,a;return{c(){e=m("div"),l=C("Boot limit"),n=m("br"),i=v(),o=m("input"),u(o,"name","ivb"),u(o,"type","number"),u(o,"min","2.5"),u(o,"max","3.5"),u(o,"step","0.1"),u(o,"class","in-s tr w-full"),u(e,"class","w-1/3 pl-1")},m(c,f){y(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),z(o,t[3].i.v.b),r||(a=V(o,"input",t[84]),r=!0)},p(c,f){f[0]&8&&me(o.value)!==c[3].i.v.b&&z(o,c[3].i.v.b)},d(c){c&&w(e),r=!1,a()}}}function Za(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k=t[3].d.t&&Ja();return{c(){e=m("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=v(),n=m("div"),i=m("label"),o=m("input"),r=C(" Enable telnet"),a=v(),k&&k.c(),c=v(),f=m("div"),p=m("select"),_=m("option"),_.textContent="Verbose",d=m("option"),d.textContent="Debug",g=m("option"),g.textContent="Info",h=m("option"),h.textContent="Warning",u(e,"class","bd-red"),u(o,"type","checkbox"),u(o,"name","dt"),o.__value="true",o.value=o.__value,u(o,"class","rounded mb-1"),u(n,"class","my-1"),_.__value=1,_.value=_.__value,d.__value=2,d.value=d.__value,g.__value=3,g.value=g.__value,h.__value=4,h.value=h.__value,u(p,"name","dl"),u(p,"class","in-s"),t[3].d.l===void 0&&Be(()=>t[87].call(p)),u(f,"class","my-1")},m(T,P){y(T,e,P),y(T,l,P),y(T,n,P),s(n,i),s(i,o),o.checked=t[3].d.t,s(i,r),y(T,a,P),k&&k.m(T,P),y(T,c,P),y(T,f,P),s(f,p),s(p,_),s(p,d),s(p,g),s(p,h),Fe(p,t[3].d.l),b||($=[V(o,"change",t[86]),V(p,"change",t[87])],b=!0)},p(T,P){P[0]&8&&(o.checked=T[3].d.t),T[3].d.t?k||(k=Ja(),k.c(),k.m(c.parentNode,c)):k&&(k.d(1),k=null),P[0]&8&&Fe(p,T[3].d.l)},d(T){T&&w(e),T&&w(l),T&&w(n),T&&w(a),k&&k.d(T),T&&w(c),T&&w(f),b=!1,Ge($)}}}function Ja(t){let e;return{c(){e=m("div"),e.textContent="Telnet is unsafe and should be off when not in use",u(e,"class","bd-red")},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function kp(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j,O,q,W,X,Y,ne,te,Ae,_e,Ie,Ee,Le,Re,Se,be,fe,ae,ce,ue,J,se,Pe,ee,oe,Ue,Me,de,ve,le,he,qe,re,De,fi,ci,mi,Tt,pi,Qt,_i,di,vi,tt,hi,Zt,Ql,pt,gi,bi,ki,Jt,wi,yi,$i,_t,rl,al,fl,Ci,Ti,ge,Cl,Tl,Sl,cl,ml,Pl,Si,Zl,vs,co,pl,qt,_l,mo,Pi,po,xe,dl,_o,Mi,Jl,Xl,xl,en,Ai,vo,zn,St,ho,go,Ml,bo,ko,wo,Ut,tn,ln,yo,nn,Al,$o,Co,To,sn,Pt,So,Di,Po,Dl,Mo,Ao,Do,on,Mt,No,Ni,Io,hs,Eo,Nl,Ii,At,Ro,Fo,Lo,gs,Ei,Dt,Oo,qo,Uo,Xe,Ri,Ho,un,rn,jo,Vn,Wo,Il,Go,Bo,Yo,Xt,zo,El,Vo,Ko,Qo,xt,Zo,an,Rl,Jo,Xo,xo,bt,fn,cn,mn,pn,eu,Fl,tu,lu,nu,_n,kt,iu,Fi,su,Li,Oi,Nt,ou,uu,Je,qi,ru,dn,vn,au,Ll,fu,cu,mu,vl,Ht,hn,gn,pu,dt,Ui,Hi,_u,vt,bn,ji,Wi,du,bs,Gi,Bi,It,vu,hu,Kn,gu,hl,bu,Qn,Et,ku,wu,yu,Yi,el,$u,We,zi,Cu,kn,wn,Tu,Zn,Su,jt,Pu,ks,Mu,Au,yn,tl,Du,Rt,Nu,ws,Ol,Iu,Eu,Ru,ll,Fu,ql,Lu,Ou,qu,nl,Uu,$n,Cn,Hu,ju,Wu,il,Gu,Tn,Bu,Yu,zu,lt,Sn,Pn,Mn,An,Dn,Nn,Vu,Ul,Ku,Qu,Zu,sl,Ju,ys,$s,Cs=t[3].p.r.startsWith("10YNO")||t[3].p.r=="10Y1001A1001A48H",Ts,Wt,Vi,Xu,In,En,xu,Jn,er,Xn,tr,Ss,ht,Ki,lr,Rn,Fn,nr,xn,ir,Qi,Zi,Ft,sr,or,ur,gl,Ps,Ln,rr,Ji,On,ar,Xi,Ms,Hl,As,jl,Ds,Wl,Ns,Gl,Lt,Is,fr;a=new yt({}),R=new sp({});let _c=["NOK","SEK","DKK","EUR"],xi=[];for(let A=0;A<4;A+=1)xi[A]=ap(rp(t,_c,A));let nt=t[3].p.e&&t[0].chip!="esp8266"&&Na(t),it=t[3].g.s>0&&Ia(t);cl=new yt({});let dc=[24,48,96,192,384,576,1152],es=[];for(let A=0;A<7;A+=1)es[A]=fp(up(t,dc,A));let st=t[3].m.e.e&&Ea(t),ot=t[3].m.e.e&&Ra(t),ut=t[3].m.m.e&&Fa(t);rn=new yt({}),vn=new yt({}),bn=new pc({});let rt=t[3].n.m=="static"&&La(t);wn=new yt({});let at=t[0].chip!="esp8266"&&Oa(t),Ye=t[3].q.s.e&&qa(t),ze=t[3].q.m==3&&Ua(t),Ve=t[3].q.m==4&&Ha(t),Ke=Cs&&ja(t);En=new yt({});let qn=t[7],ft=[];for(let A=0;A<qn.length;A+=1)ft[A]=Ga(Aa(t,qn,A));let Qe=(t[0].board>20||t[0].chip=="esp8266")&&Ba(t);Fn=new yt({});let ct=t[3].d.s&&Za(t);return Hl=new gt({props:{active:t[1],message:"Loading configuration"}}),jl=new gt({props:{active:t[2],message:"Saving configuration"}}),Wl=new gt({props:{active:t[4],message:"Performing factory reset"}}),Gl=new gt({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=m("form"),l=m("div"),n=m("div"),i=m("strong"),i.textContent="General",o=v(),r=m("a"),Z(a.$$.fragment),c=v(),f=m("input"),p=v(),_=m("div"),d=m("div"),g=m("div"),h=C("Hostname"),b=m("br"),$=v(),k=m("input"),T=v(),P=m("div"),E=C("Time zone"),S=m("br"),N=v(),D=m("select"),Z(R.$$.fragment),H=v(),U=m("input"),F=v(),L=m("div"),G=C("Price region"),j=m("br"),O=v(),q=m("select"),W=m("optgroup"),X=m("option"),X.textContent="NO1",Y=m("option"),Y.textContent="NO2",ne=m("option"),ne.textContent="NO3",te=m("option"),te.textContent="NO4",Ae=m("option"),Ae.textContent="NO5",_e=m("optgroup"),Ie=m("option"),Ie.textContent="SE1",Ee=m("option"),Ee.textContent="SE2",Le=m("option"),Le.textContent="SE3",Re=m("option"),Re.textContent="SE4",Se=m("optgroup"),be=m("option"),be.textContent="DK1",fe=m("option"),fe.textContent="DK2",ae=m("option"),ae.textContent="Austria",ce=m("option"),ce.textContent="Belgium",ue=m("option"),ue.textContent="Czech Republic",J=m("option"),J.textContent="Estonia",se=m("option"),se.textContent="Finland",Pe=m("option"),Pe.textContent="France",ee=m("option"),ee.textContent="Germany",oe=m("option"),oe.textContent="Great Britain",Ue=m("option"),Ue.textContent="Latvia",Me=m("option"),Me.textContent="Lithuania",de=m("option"),de.textContent="Netherland",ve=m("option"),ve.textContent="Poland",le=m("option"),le.textContent="Switzerland",he=v(),qe=m("div"),re=m("div"),De=m("div"),fi=C("Currency"),ci=m("br"),mi=v(),Tt=m("select");for(let A=0;A<4;A+=1)xi[A].c();pi=v(),Qt=m("div"),_i=C("Multiplier"),di=m("br"),vi=v(),tt=m("input"),hi=v(),Zt=m("div"),Ql=m("label"),pt=m("input"),gi=C(" Enable price fetch from remote server"),bi=v(),nt&&nt.c(),ki=v(),Jt=m("div"),wi=C("Security"),yi=m("br"),$i=v(),_t=m("select"),rl=m("option"),rl.textContent="None",al=m("option"),al.textContent="Only configuration",fl=m("option"),fl.textContent="Everything",Ci=v(),it&&it.c(),Ti=v(),ge=m("div"),Cl=m("strong"),Cl.textContent="Meter",Tl=v(),Sl=m("a"),Z(cl.$$.fragment),ml=v(),Pl=m("input"),Si=v(),Zl=m("div"),vs=m("span"),vs.textContent="Serial configuration",co=v(),pl=m("div"),qt=m("select"),_l=m("option"),mo=C("Autodetect");for(let A=0;A<7;A+=1)es[A].c();po=v(),xe=m("select"),dl=m("option"),_o=C("-"),Jl=m("option"),Jl.textContent="7N1",Xl=m("option"),Xl.textContent="8N1",xl=m("option"),xl.textContent="7E1",en=m("option"),en.textContent="8E1",vo=v(),zn=m("label"),St=m("input"),ho=C(" inverted"),go=v(),Ml=m("div"),bo=C("Voltage"),ko=m("br"),wo=v(),Ut=m("select"),tn=m("option"),tn.textContent="400V (TN)",ln=m("option"),ln.textContent="230V (IT/TT)",yo=v(),nn=m("div"),Al=m("div"),$o=C("Main fuse"),Co=m("br"),To=v(),sn=m("label"),Pt=m("input"),So=v(),Di=m("span"),Di.textContent="A",Po=v(),Dl=m("div"),Mo=C("Production"),Ao=m("br"),Do=v(),on=m("label"),Mt=m("input"),No=v(),Ni=m("span"),Ni.textContent="kWp",Io=v(),hs=m("div"),Eo=v(),Nl=m("div"),Ii=m("label"),At=m("input"),Ro=C(" Meter is encrypted"),Fo=v(),st&&st.c(),Lo=v(),ot&&ot.c(),gs=v(),Ei=m("label"),Dt=m("input"),Oo=C(" Multipliers"),qo=v(),ut&&ut.c(),Uo=v(),Xe=m("div"),Ri=m("strong"),Ri.textContent="WiFi",Ho=v(),un=m("a"),Z(rn.$$.fragment),jo=v(),Vn=m("input"),Wo=v(),Il=m("div"),Go=C("SSID"),Bo=m("br"),Yo=v(),Xt=m("input"),zo=v(),El=m("div"),Vo=C("Password"),Ko=m("br"),Qo=v(),xt=m("input"),Zo=v(),an=m("div"),Rl=m("div"),Jo=C("Power saving"),Xo=m("br"),xo=v(),bt=m("select"),fn=m("option"),fn.textContent="Default",cn=m("option"),cn.textContent="Off",mn=m("option"),mn.textContent="Minimum",pn=m("option"),pn.textContent="Maximum",eu=v(),Fl=m("div"),tu=C("Power"),lu=m("br"),nu=v(),_n=m("div"),kt=m("input"),iu=v(),Fi=m("span"),Fi.textContent="dBm",su=v(),Li=m("div"),Oi=m("label"),Nt=m("input"),ou=C(" Auto reboot on connection problem"),uu=v(),Je=m("div"),qi=m("strong"),qi.textContent="Network",ru=v(),dn=m("a"),Z(vn.$$.fragment),au=v(),Ll=m("div"),fu=C("IP"),cu=m("br"),mu=v(),vl=m("div"),Ht=m("select"),hn=m("option"),hn.textContent="DHCP",gn=m("option"),gn.textContent="Static",pu=v(),dt=m("input"),_u=v(),vt=m("select"),Z(bn.$$.fragment),du=v(),rt&&rt.c(),bs=v(),Gi=m("div"),Bi=m("label"),It=m("input"),vu=C(" enable mDNS"),hu=v(),Kn=m("input"),gu=v(),hl=m("div"),bu=C("NTP "),Qn=m("label"),Et=m("input"),ku=C(" obtain from DHCP"),wu=m("br"),yu=v(),Yi=m("div"),el=m("input"),$u=v(),We=m("div"),zi=m("strong"),zi.textContent="MQTT",Cu=v(),kn=m("a"),Z(wn.$$.fragment),Tu=v(),Zn=m("input"),Su=v(),jt=m("div"),Pu=C(`Server
                `),at&&at.c(),ks=v(),Mu=m("br"),Au=v(),yn=m("div"),tl=m("input"),Du=v(),Rt=m("input"),Nu=v(),Ye&&Ye.c(),ws=v(),Ol=m("div"),Iu=C("Username"),Eu=m("br"),Ru=v(),ll=m("input"),Fu=v(),ql=m("div"),Lu=C("Password"),Ou=m("br"),qu=v(),nl=m("input"),Uu=v(),$n=m("div"),Cn=m("div"),Hu=C("Client ID"),ju=m("br"),Wu=v(),il=m("input"),Gu=v(),Tn=m("div"),Bu=C("Payload"),Yu=m("br"),zu=v(),lt=m("select"),Sn=m("option"),Sn.textContent="JSON",Pn=m("option"),Pn.textContent="Raw (minimal)",Mn=m("option"),Mn.textContent="Raw (full)",An=m("option"),An.textContent="Domoticz",Dn=m("option"),Dn.textContent="HomeAssistant",Nn=m("option"),Nn.textContent="HEX dump",Vu=v(),Ul=m("div"),Ku=C("Publish topic"),Qu=m("br"),Zu=v(),sl=m("input"),Ju=v(),ze&&ze.c(),ys=v(),Ve&&Ve.c(),$s=v(),Ke&&Ke.c(),Ts=v(),Wt=m("div"),Vi=m("strong"),Vi.textContent="User interface",Xu=v(),In=m("a"),Z(En.$$.fragment),xu=v(),Jn=m("input"),er=v(),Xn=m("div");for(let A=0;A<ft.length;A+=1)ft[A].c();tr=v(),Qe&&Qe.c(),Ss=v(),ht=m("div"),Ki=m("strong"),Ki.textContent="Debugging",lr=v(),Rn=m("a"),Z(Fn.$$.fragment),nr=v(),xn=m("input"),ir=v(),Qi=m("div"),Zi=m("label"),Ft=m("input"),sr=C(" Enable debugging"),or=v(),ct&&ct.c(),ur=v(),gl=m("div"),Ps=m("div"),Ln=m("button"),Ln.textContent="Factory reset",rr=v(),Ji=m("div"),On=m("button"),On.textContent="Reboot",ar=v(),Xi=m("div"),Xi.innerHTML='<button type="submit" class="btn-pri">Save</button>',Ms=v(),Z(Hl.$$.fragment),As=v(),Z(jl.$$.fragment),Ds=v(),Z(Wl.$$.fragment),Ns=v(),Z(Gl.$$.fragment),u(i,"class","text-sm"),u(r,"href",$t("General-configuration")),u(r,"target","_blank"),u(r,"class","float-right"),u(f,"type","hidden"),u(f,"name","g"),f.value="true",u(k,"name","gh"),u(k,"type","text"),u(k,"class","in-f w-full"),u(k,"pattern","[A-Za-z0-9-]+"),u(D,"name","gt"),u(D,"class","in-l w-full"),t[3].g.t===void 0&&Be(()=>t[13].call(D)),u(d,"class","flex"),u(_,"class","my-1"),u(U,"type","hidden"),u(U,"name","p"),U.value="true",X.__value="10YNO-1--------2",X.value=X.__value,Y.__value="10YNO-2--------T",Y.value=Y.__value,ne.__value="10YNO-3--------J",ne.value=ne.__value,te.__value="10YNO-4--------9",te.value=te.__value,Ae.__value="10Y1001A1001A48H",Ae.value=Ae.__value,u(W,"label","Norway"),Ie.__value="10Y1001A1001A44P",Ie.value=Ie.__value,Ee.__value="10Y1001A1001A45N",Ee.value=Ee.__value,Le.__value="10Y1001A1001A46L",Le.value=Le.__value,Re.__value="10Y1001A1001A47J",Re.value=Re.__value,u(_e,"label","Sweden"),be.__value="10YDK-1--------W",be.value=be.__value,fe.__value="10YDK-2--------M",fe.value=fe.__value,u(Se,"label","Denmark"),ae.__value="10YAT-APG------L",ae.value=ae.__value,ce.__value="10YBE----------2",ce.value=ce.__value,ue.__value="10YCZ-CEPS-----N",ue.value=ue.__value,J.__value="10Y1001A1001A39I",J.value=J.__value,se.__value="10YFI-1--------U",se.value=se.__value,Pe.__value="10YFR-RTE------C",Pe.value=Pe.__value,ee.__value="10Y1001A1001A83F",ee.value=ee.__value,oe.__value="10YGB----------A",oe.value=oe.__value,Ue.__value="10YLV-1001A00074",Ue.value=Ue.__value,Me.__value="10YLT-1001A0008Q",Me.value=Me.__value,de.__value="10YNL----------L",de.value=de.__value,ve.__value="10YPL-AREA-----S",ve.value=ve.__value,le.__value="10YCH-SWISSGRIDZ",le.value=le.__value,u(q,"name","pr"),u(q,"class","in-s"),t[3].p.r===void 0&&Be(()=>t[14].call(q)),u(L,"class","my-1"),u(Tt,"name","pc"),u(Tt,"class","in-f w-full"),t[3].p.c===void 0&&Be(()=>t[15].call(Tt)),u(De,"class","w-1/2"),u(tt,"name","pm"),u(tt,"type","number"),u(tt,"min","0.001"),u(tt,"max","1000"),u(tt,"step","0.001"),u(tt,"class","in-l tr w-full"),u(Qt,"class","w-1/2"),u(re,"class","flex"),u(qe,"class","my-1"),u(pt,"type","checkbox"),u(pt,"name","pe"),pt.__value="true",pt.value=pt.__value,u(pt,"class","rounded mb-1"),u(Zt,"class","my-1"),rl.__value=0,rl.value=rl.__value,al.__value=1,al.value=al.__value,fl.__value=2,fl.value=fl.__value,u(_t,"name","gs"),u(_t,"class","in-s"),t[3].g.s===void 0&&Be(()=>t[19].call(_t)),u(Jt,"class","my-1"),u(n,"class","cnt"),u(Cl,"class","text-sm"),u(Sl,"href",$t("Meter-configuration")),u(Sl,"target","_blank"),u(Sl,"class","float-right"),u(Pl,"type","hidden"),u(Pl,"name","m"),Pl.value="true",_l.__value=0,_l.value=_l.__value,_l.disabled=Pi=t[3].m.b!=0,u(qt,"name","mb"),u(qt,"class","in-f"),t[3].m.b===void 0&&Be(()=>t[22].call(qt)),dl.__value=0,dl.value=dl.__value,dl.disabled=Mi=t[3].m.b!=0,Jl.__value=2,Jl.value=Jl.__value,Xl.__value=3,Xl.value=Xl.__value,xl.__value=10,xl.value=xl.__value,en.__value=11,en.value=en.__value,u(xe,"name","mp"),u(xe,"class","in-l"),xe.disabled=Ai=t[3].m.b==0,t[3].m.p===void 0&&Be(()=>t[23].call(xe)),u(St,"name","mi"),St.__value="true",St.value=St.__value,u(St,"type","checkbox"),u(St,"class","rounded mb-1"),u(zn,"class","mt-2 ml-3 whitespace-nowrap"),u(pl,"class","flex"),u(Zl,"class","my-1"),tn.__value=2,tn.value=tn.__value,ln.__value=1,ln.value=ln.__value,u(Ut,"name","md"),u(Ut,"class","in-s"),t[3].m.d===void 0&&Be(()=>t[25].call(Ut)),u(Ml,"class","my-1"),u(Pt,"name","mf"),u(Pt,"type","number"),u(Pt,"min","5"),u(Pt,"max","65535"),u(Pt,"class","in-f tr w-full"),u(Di,"class","in-post"),u(sn,"class","flex"),u(Al,"class","mx-1"),u(Mt,"name","mr"),u(Mt,"type","number"),u(Mt,"min","0"),u(Mt,"max","65535"),u(Mt,"class","in-f tr w-full"),u(Ni,"class","in-post"),u(on,"class","flex"),u(Dl,"class","mx-1"),u(nn,"class","my-1 flex"),u(hs,"class","my-1"),u(At,"type","checkbox"),u(At,"name","me"),At.__value="true",At.value=At.__value,u(At,"class","rounded mb-1"),u(Nl,"class","my-1"),u(Dt,"type","checkbox"),u(Dt,"name","mm"),Dt.__value="true",Dt.value=Dt.__value,u(Dt,"class","rounded mb-1"),u(ge,"class","cnt"),u(Ri,"class","text-sm"),u(un,"href",$t("WiFi-configuration")),u(un,"target","_blank"),u(un,"class","float-right"),u(Vn,"type","hidden"),u(Vn,"name","w"),Vn.value="true",u(Xt,"name","ws"),u(Xt,"type","text"),u(Xt,"class","in-s"),u(Il,"class","my-1"),u(xt,"name","wp"),u(xt,"type","password"),u(xt,"class","in-s"),u(El,"class","my-1"),fn.__value=255,fn.value=fn.__value,cn.__value=0,cn.value=cn.__value,mn.__value=1,mn.value=mn.__value,pn.__value=2,pn.value=pn.__value,u(bt,"name","wz"),u(bt,"class","in-s"),t[3].w.z===void 0&&Be(()=>t[38].call(bt)),u(Rl,"class","w-1/2"),u(kt,"name","ww"),u(kt,"type","number"),u(kt,"min","0"),u(kt,"max","20.5"),u(kt,"step","0.5"),u(kt,"class","in-f tr w-full"),u(Fi,"class","in-post"),u(_n,"class","flex"),u(Fl,"class","ml-2 w-1/2"),u(an,"class","my-1 flex"),u(Nt,"type","checkbox"),u(Nt,"name","wa"),Nt.__value="true",Nt.value=Nt.__value,u(Nt,"class","rounded mb-1"),u(Li,"class","my-3"),u(Xe,"class","cnt"),u(qi,"class","text-sm"),u(dn,"href",$t("Network-configuration")),u(dn,"target","_blank"),u(dn,"class","float-right"),hn.__value="dhcp",hn.value=hn.__value,gn.__value="static",gn.value=gn.__value,u(Ht,"name","nm"),u(Ht,"class","in-f"),t[3].n.m===void 0&&Be(()=>t[41].call(Ht)),u(dt,"name","ni"),u(dt,"type","text"),u(dt,"class","in-m w-full"),dt.disabled=Ui=t[3].n.m=="dhcp",dt.required=Hi=t[3].n.m=="static",u(vt,"name","ns"),u(vt,"class","in-l"),vt.disabled=ji=t[3].n.m=="dhcp",vt.required=Wi=t[3].n.m=="static",t[3].n.s===void 0&&Be(()=>t[43].call(vt)),u(vl,"class","flex"),u(Ll,"class","my-1"),u(It,"name","nd"),It.__value="true",It.value=It.__value,u(It,"type","checkbox"),u(It,"class","rounded mb-1"),u(Gi,"class","my-1"),u(Kn,"type","hidden"),u(Kn,"name","ntp"),Kn.value="true",u(Et,"name","ntpd"),Et.__value="true",Et.value=Et.__value,u(Et,"type","checkbox"),u(Et,"class","rounded mb-1"),u(Qn,"class","ml-4"),u(el,"name","ntph"),u(el,"type","text"),u(el,"class","in-s"),u(Yi,"class","flex"),u(hl,"class","my-1"),u(Je,"class","cnt"),u(zi,"class","text-sm"),u(kn,"href",$t("MQTT-configuration")),u(kn,"target","_blank"),u(kn,"class","float-right"),u(Zn,"type","hidden"),u(Zn,"name","q"),Zn.value="true",u(tl,"name","qh"),u(tl,"type","text"),u(tl,"class","in-f w-3/4"),u(Rt,"name","qp"),u(Rt,"type","number"),u(Rt,"min","1024"),u(Rt,"max","65535"),u(Rt,"class","in-l tr w-1/4"),u(yn,"class","flex"),u(jt,"class","my-1"),u(ll,"name","qu"),u(ll,"type","text"),u(ll,"class","in-s"),u(Ol,"class","my-1"),u(nl,"name","qa"),u(nl,"type","password"),u(nl,"class","in-s"),u(ql,"class","my-1"),u(il,"name","qc"),u(il,"type","text"),u(il,"class","in-f w-full"),Sn.__value=0,Sn.value=Sn.__value,Pn.__value=1,Pn.value=Pn.__value,Mn.__value=2,Mn.value=Mn.__value,An.__value=3,An.value=An.__value,Dn.__value=4,Dn.value=Dn.__value,Nn.__value=255,Nn.value=Nn.__value,u(lt,"name","qm"),u(lt,"class","in-l"),t[3].q.m===void 0&&Be(()=>t[56].call(lt)),u($n,"class","my-1 flex"),u(sl,"name","qb"),u(sl,"type","text"),u(sl,"class","in-s"),u(Ul,"class","my-1"),u(We,"class","cnt"),u(Vi,"class","text-sm"),u(In,"href",$t("User-interface")),u(In,"target","_blank"),u(In,"class","float-right"),u(Jn,"type","hidden"),u(Jn,"name","u"),Jn.value="true",u(Xn,"class","flex flex-wrap"),u(Wt,"class","cnt"),u(Ki,"class","text-sm"),u(Rn,"href","https://amsleser.no/blog/post/24-telnet-debug"),u(Rn,"target","_blank"),u(Rn,"class","float-right"),u(xn,"type","hidden"),u(xn,"name","d"),xn.value="true",u(Ft,"type","checkbox"),u(Ft,"name","ds"),Ft.__value="true",Ft.value=Ft.__value,u(Ft,"class","rounded mb-1"),u(Qi,"class","mt-3"),u(ht,"class","cnt"),u(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),u(Ln,"type","button"),u(Ln,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),u(On,"type","button"),u(On,"class","py-2 px-4 rounded bg-yellow-500 text-white"),u(Ji,"class","text-center"),u(Xi,"class","text-right"),u(gl,"class","grid grid-cols-3"),u(e,"autocomplete","off")},m(A,x){y(A,e,x),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),K(a,r,null),s(n,c),s(n,f),s(n,p),s(n,_),s(_,d),s(d,g),s(g,h),s(g,b),s(g,$),s(g,k),z(k,t[3].g.h),s(d,T),s(d,P),s(P,E),s(P,S),s(P,N),s(P,D),K(R,D,null),Fe(D,t[3].g.t),s(n,H),s(n,U),s(n,F),s(n,L),s(L,G),s(L,j),s(L,O),s(L,q),s(q,W),s(W,X),s(W,Y),s(W,ne),s(W,te),s(W,Ae),s(q,_e),s(_e,Ie),s(_e,Ee),s(_e,Le),s(_e,Re),s(q,Se),s(Se,be),s(Se,fe),s(q,ae),s(q,ce),s(q,ue),s(q,J),s(q,se),s(q,Pe),s(q,ee),s(q,oe),s(q,Ue),s(q,Me),s(q,de),s(q,ve),s(q,le),Fe(q,t[3].p.r),s(n,he),s(n,qe),s(qe,re),s(re,De),s(De,fi),s(De,ci),s(De,mi),s(De,Tt);for(let mt=0;mt<4;mt+=1)xi[mt].m(Tt,null);Fe(Tt,t[3].p.c),s(re,pi),s(re,Qt),s(Qt,_i),s(Qt,di),s(Qt,vi),s(Qt,tt),z(tt,t[3].p.m),s(n,hi),s(n,Zt),s(Zt,Ql),s(Ql,pt),pt.checked=t[3].p.e,s(Ql,gi),s(Zt,bi),nt&&nt.m(Zt,null),s(n,ki),s(n,Jt),s(Jt,wi),s(Jt,yi),s(Jt,$i),s(Jt,_t),s(_t,rl),s(_t,al),s(_t,fl),Fe(_t,t[3].g.s),s(n,Ci),it&&it.m(n,null),s(l,Ti),s(l,ge),s(ge,Cl),s(ge,Tl),s(ge,Sl),K(cl,Sl,null),s(ge,ml),s(ge,Pl),s(ge,Si),s(ge,Zl),s(Zl,vs),s(Zl,co),s(Zl,pl),s(pl,qt),s(qt,_l),s(_l,mo);for(let mt=0;mt<7;mt+=1)es[mt].m(qt,null);Fe(qt,t[3].m.b),s(pl,po),s(pl,xe),s(xe,dl),s(dl,_o),s(xe,Jl),s(xe,Xl),s(xe,xl),s(xe,en),Fe(xe,t[3].m.p),s(pl,vo),s(pl,zn),s(zn,St),St.checked=t[3].m.i,s(zn,ho),s(ge,go),s(ge,Ml),s(Ml,bo),s(Ml,ko),s(Ml,wo),s(Ml,Ut),s(Ut,tn),s(Ut,ln),Fe(Ut,t[3].m.d),s(ge,yo),s(ge,nn),s(nn,Al),s(Al,$o),s(Al,Co),s(Al,To),s(Al,sn),s(sn,Pt),z(Pt,t[3].m.f),s(sn,So),s(sn,Di),s(nn,Po),s(nn,Dl),s(Dl,Mo),s(Dl,Ao),s(Dl,Do),s(Dl,on),s(on,Mt),z(Mt,t[3].m.r),s(on,No),s(on,Ni),s(ge,Io),s(ge,hs),s(ge,Eo),s(ge,Nl),s(Nl,Ii),s(Ii,At),At.checked=t[3].m.e.e,s(Ii,Ro),s(Nl,Fo),st&&st.m(Nl,null),s(ge,Lo),ot&&ot.m(ge,null),s(ge,gs),s(ge,Ei),s(Ei,Dt),Dt.checked=t[3].m.m.e,s(Ei,Oo),s(ge,qo),ut&&ut.m(ge,null),s(l,Uo),s(l,Xe),s(Xe,Ri),s(Xe,Ho),s(Xe,un),K(rn,un,null),s(Xe,jo),s(Xe,Vn),s(Xe,Wo),s(Xe,Il),s(Il,Go),s(Il,Bo),s(Il,Yo),s(Il,Xt),z(Xt,t[3].w.s),s(Xe,zo),s(Xe,El),s(El,Vo),s(El,Ko),s(El,Qo),s(El,xt),z(xt,t[3].w.p),s(Xe,Zo),s(Xe,an),s(an,Rl),s(Rl,Jo),s(Rl,Xo),s(Rl,xo),s(Rl,bt),s(bt,fn),s(bt,cn),s(bt,mn),s(bt,pn),Fe(bt,t[3].w.z),s(an,eu),s(an,Fl),s(Fl,tu),s(Fl,lu),s(Fl,nu),s(Fl,_n),s(_n,kt),z(kt,t[3].w.w),s(_n,iu),s(_n,Fi),s(Xe,su),s(Xe,Li),s(Li,Oi),s(Oi,Nt),Nt.checked=t[3].w.a,s(Oi,ou),s(l,uu),s(l,Je),s(Je,qi),s(Je,ru),s(Je,dn),K(vn,dn,null),s(Je,au),s(Je,Ll),s(Ll,fu),s(Ll,cu),s(Ll,mu),s(Ll,vl),s(vl,Ht),s(Ht,hn),s(Ht,gn),Fe(Ht,t[3].n.m),s(vl,pu),s(vl,dt),z(dt,t[3].n.i),s(vl,_u),s(vl,vt),K(bn,vt,null),Fe(vt,t[3].n.s),s(Je,du),rt&&rt.m(Je,null),s(Je,bs),s(Je,Gi),s(Gi,Bi),s(Bi,It),It.checked=t[3].n.d,s(Bi,vu),s(Je,hu),s(Je,Kn),s(Je,gu),s(Je,hl),s(hl,bu),s(hl,Qn),s(Qn,Et),Et.checked=t[3].n.h,s(Qn,ku),s(hl,wu),s(hl,yu),s(hl,Yi),s(Yi,el),z(el,t[3].n.n1),s(l,$u),s(l,We),s(We,zi),s(We,Cu),s(We,kn),K(wn,kn,null),s(We,Tu),s(We,Zn),s(We,Su),s(We,jt),s(jt,Pu),at&&at.m(jt,null),s(jt,ks),s(jt,Mu),s(jt,Au),s(jt,yn),s(yn,tl),z(tl,t[3].q.h),s(yn,Du),s(yn,Rt),z(Rt,t[3].q.p),s(We,Nu),Ye&&Ye.m(We,null),s(We,ws),s(We,Ol),s(Ol,Iu),s(Ol,Eu),s(Ol,Ru),s(Ol,ll),z(ll,t[3].q.u),s(We,Fu),s(We,ql),s(ql,Lu),s(ql,Ou),s(ql,qu),s(ql,nl),z(nl,t[3].q.a),s(We,Uu),s(We,$n),s($n,Cn),s(Cn,Hu),s(Cn,ju),s(Cn,Wu),s(Cn,il),z(il,t[3].q.c),s($n,Gu),s($n,Tn),s(Tn,Bu),s(Tn,Yu),s(Tn,zu),s(Tn,lt),s(lt,Sn),s(lt,Pn),s(lt,Mn),s(lt,An),s(lt,Dn),s(lt,Nn),Fe(lt,t[3].q.m),s(We,Vu),s(We,Ul),s(Ul,Ku),s(Ul,Qu),s(Ul,Zu),s(Ul,sl),z(sl,t[3].q.b),s(l,Ju),ze&&ze.m(l,null),s(l,ys),Ve&&Ve.m(l,null),s(l,$s),Ke&&Ke.m(l,null),s(l,Ts),s(l,Wt),s(Wt,Vi),s(Wt,Xu),s(Wt,In),K(En,In,null),s(Wt,xu),s(Wt,Jn),s(Wt,er),s(Wt,Xn);for(let mt=0;mt<ft.length;mt+=1)ft[mt].m(Xn,null);s(l,tr),Qe&&Qe.m(l,null),s(l,Ss),s(l,ht),s(ht,Ki),s(ht,lr),s(ht,Rn),K(Fn,Rn,null),s(ht,nr),s(ht,xn),s(ht,ir),s(ht,Qi),s(Qi,Zi),s(Zi,Ft),Ft.checked=t[3].d.s,s(Zi,sr),s(ht,or),ct&&ct.m(ht,null),s(e,ur),s(e,gl),s(gl,Ps),s(Ps,Ln),s(gl,rr),s(gl,Ji),s(Ji,On),s(gl,ar),s(gl,Xi),y(A,Ms,x),K(Hl,A,x),y(A,As,x),K(jl,A,x),y(A,Ds,x),K(Wl,A,x),y(A,Ns,x),K(Gl,A,x),Lt=!0,Is||(fr=[V(k,"input",t[12]),V(D,"change",t[13]),V(q,"change",t[14]),V(Tt,"change",t[15]),V(tt,"input",t[16]),V(pt,"change",t[17]),V(_t,"change",t[19]),V(qt,"change",t[22]),V(xe,"change",t[23]),V(St,"change",t[24]),V(Ut,"change",t[25]),V(Pt,"input",t[26]),V(Mt,"input",t[27]),V(At,"change",t[28]),V(Dt,"change",t[31]),V(Xt,"input",t[36]),V(xt,"input",t[37]),V(bt,"change",t[38]),V(kt,"input",t[39]),V(Nt,"change",t[40]),V(Ht,"change",t[41]),V(dt,"input",t[42]),V(vt,"change",t[43]),V(It,"change",t[47]),V(Et,"change",t[48]),V(el,"input",t[49]),V(tl,"input",t[51]),V(Rt,"input",t[52]),V(ll,"input",t[53]),V(nl,"input",t[54]),V(il,"input",t[55]),V(lt,"change",t[56]),V(sl,"input",t[57]),V(Ft,"change",t[85]),V(Ln,"click",t[8]),V(On,"click",t[10]),V(e,"submit",_s(t[9]))],Is=!0)},p(A,x){if(x[0]&8&&k.value!==A[3].g.h&&z(k,A[3].g.h),x[0]&8&&Fe(D,A[3].g.t),x[0]&8&&Fe(q,A[3].p.r),x[0]&8&&Fe(Tt,A[3].p.c),x[0]&8&&me(tt.value)!==A[3].p.m&&z(tt,A[3].p.m),x[0]&8&&(pt.checked=A[3].p.e),A[3].p.e&&A[0].chip!="esp8266"?nt?nt.p(A,x):(nt=Na(A),nt.c(),nt.m(Zt,null)):nt&&(nt.d(1),nt=null),x[0]&8&&Fe(_t,A[3].g.s),A[3].g.s>0?it?it.p(A,x):(it=Ia(A),it.c(),it.m(n,null)):it&&(it.d(1),it=null),(!Lt||x[0]&8&&Pi!==(Pi=A[3].m.b!=0))&&(_l.disabled=Pi),x[0]&8&&Fe(qt,A[3].m.b),(!Lt||x[0]&8&&Mi!==(Mi=A[3].m.b!=0))&&(dl.disabled=Mi),(!Lt||x[0]&8&&Ai!==(Ai=A[3].m.b==0))&&(xe.disabled=Ai),x[0]&8&&Fe(xe,A[3].m.p),x[0]&8&&(St.checked=A[3].m.i),x[0]&8&&Fe(Ut,A[3].m.d),x[0]&8&&me(Pt.value)!==A[3].m.f&&z(Pt,A[3].m.f),x[0]&8&&me(Mt.value)!==A[3].m.r&&z(Mt,A[3].m.r),x[0]&8&&(At.checked=A[3].m.e.e),A[3].m.e.e?st?st.p(A,x):(st=Ea(A),st.c(),st.m(Nl,null)):st&&(st.d(1),st=null),A[3].m.e.e?ot?ot.p(A,x):(ot=Ra(A),ot.c(),ot.m(ge,gs)):ot&&(ot.d(1),ot=null),x[0]&8&&(Dt.checked=A[3].m.m.e),A[3].m.m.e?ut?ut.p(A,x):(ut=Fa(A),ut.c(),ut.m(ge,null)):ut&&(ut.d(1),ut=null),x[0]&8&&Xt.value!==A[3].w.s&&z(Xt,A[3].w.s),x[0]&8&&xt.value!==A[3].w.p&&z(xt,A[3].w.p),x[0]&8&&Fe(bt,A[3].w.z),x[0]&8&&me(kt.value)!==A[3].w.w&&z(kt,A[3].w.w),x[0]&8&&(Nt.checked=A[3].w.a),x[0]&8&&Fe(Ht,A[3].n.m),(!Lt||x[0]&8&&Ui!==(Ui=A[3].n.m=="dhcp"))&&(dt.disabled=Ui),(!Lt||x[0]&8&&Hi!==(Hi=A[3].n.m=="static"))&&(dt.required=Hi),x[0]&8&&dt.value!==A[3].n.i&&z(dt,A[3].n.i),(!Lt||x[0]&8&&ji!==(ji=A[3].n.m=="dhcp"))&&(vt.disabled=ji),(!Lt||x[0]&8&&Wi!==(Wi=A[3].n.m=="static"))&&(vt.required=Wi),x[0]&8&&Fe(vt,A[3].n.s),A[3].n.m=="static"?rt?rt.p(A,x):(rt=La(A),rt.c(),rt.m(Je,bs)):rt&&(rt.d(1),rt=null),x[0]&8&&(It.checked=A[3].n.d),x[0]&8&&(Et.checked=A[3].n.h),x[0]&8&&el.value!==A[3].n.n1&&z(el,A[3].n.n1),A[0].chip!="esp8266"?at?at.p(A,x):(at=Oa(A),at.c(),at.m(jt,ks)):at&&(at.d(1),at=null),x[0]&8&&tl.value!==A[3].q.h&&z(tl,A[3].q.h),x[0]&8&&me(Rt.value)!==A[3].q.p&&z(Rt,A[3].q.p),A[3].q.s.e?Ye?(Ye.p(A,x),x[0]&8&&M(Ye,1)):(Ye=qa(A),Ye.c(),M(Ye,1),Ye.m(We,ws)):Ye&&(Ce(),I(Ye,1,1,()=>{Ye=null}),Te()),x[0]&8&&ll.value!==A[3].q.u&&z(ll,A[3].q.u),x[0]&8&&nl.value!==A[3].q.a&&z(nl,A[3].q.a),x[0]&8&&il.value!==A[3].q.c&&z(il,A[3].q.c),x[0]&8&&Fe(lt,A[3].q.m),x[0]&8&&sl.value!==A[3].q.b&&z(sl,A[3].q.b),A[3].q.m==3?ze?(ze.p(A,x),x[0]&8&&M(ze,1)):(ze=Ua(A),ze.c(),M(ze,1),ze.m(l,ys)):ze&&(Ce(),I(ze,1,1,()=>{ze=null}),Te()),A[3].q.m==4?Ve?(Ve.p(A,x),x[0]&8&&M(Ve,1)):(Ve=Ha(A),Ve.c(),M(Ve,1),Ve.m(l,$s)):Ve&&(Ce(),I(Ve,1,1,()=>{Ve=null}),Te()),x[0]&8&&(Cs=A[3].p.r.startsWith("10YNO")||A[3].p.r=="10Y1001A1001A48H"),Cs?Ke?(Ke.p(A,x),x[0]&8&&M(Ke,1)):(Ke=ja(A),Ke.c(),M(Ke,1),Ke.m(l,Ts)):Ke&&(Ce(),I(Ke,1,1,()=>{Ke=null}),Te()),x[0]&136){qn=A[7];let wt;for(wt=0;wt<qn.length;wt+=1){const _r=Aa(A,qn,wt);ft[wt]?ft[wt].p(_r,x):(ft[wt]=Ga(_r),ft[wt].c(),ft[wt].m(Xn,null))}for(;wt<ft.length;wt+=1)ft[wt].d(1);ft.length=qn.length}A[0].board>20||A[0].chip=="esp8266"?Qe?(Qe.p(A,x),x[0]&1&&M(Qe,1)):(Qe=Ba(A),Qe.c(),M(Qe,1),Qe.m(l,Ss)):Qe&&(Ce(),I(Qe,1,1,()=>{Qe=null}),Te()),x[0]&8&&(Ft.checked=A[3].d.s),A[3].d.s?ct?ct.p(A,x):(ct=Za(A),ct.c(),ct.m(ht,null)):ct&&(ct.d(1),ct=null);const mt={};x[0]&2&&(mt.active=A[1]),Hl.$set(mt);const cr={};x[0]&4&&(cr.active=A[2]),jl.$set(cr);const mr={};x[0]&16&&(mr.active=A[4]),Wl.$set(mr);const pr={};x[0]&32&&(pr.active=A[5]),Gl.$set(pr)},i(A){Lt||(M(a.$$.fragment,A),M(R.$$.fragment,A),M(cl.$$.fragment,A),M(rn.$$.fragment,A),M(vn.$$.fragment,A),M(bn.$$.fragment,A),M(wn.$$.fragment,A),M(Ye),M(ze),M(Ve),M(Ke),M(En.$$.fragment,A),M(Qe),M(Fn.$$.fragment,A),M(Hl.$$.fragment,A),M(jl.$$.fragment,A),M(Wl.$$.fragment,A),M(Gl.$$.fragment,A),Lt=!0)},o(A){I(a.$$.fragment,A),I(R.$$.fragment,A),I(cl.$$.fragment,A),I(rn.$$.fragment,A),I(vn.$$.fragment,A),I(bn.$$.fragment,A),I(wn.$$.fragment,A),I(Ye),I(ze),I(Ve),I(Ke),I(En.$$.fragment,A),I(Qe),I(Fn.$$.fragment,A),I(Hl.$$.fragment,A),I(jl.$$.fragment,A),I(Wl.$$.fragment,A),I(Gl.$$.fragment,A),Lt=!1},d(A){A&&w(e),Q(a),Q(R),Vt(xi,A),nt&&nt.d(),it&&it.d(),Q(cl),Vt(es,A),st&&st.d(),ot&&ot.d(),ut&&ut.d(),Q(rn),Q(vn),Q(bn),rt&&rt.d(),Q(wn),at&&at.d(),Ye&&Ye.d(),ze&&ze.d(),Ve&&Ve.d(),Ke&&Ke.d(),Q(En),Vt(ft,A),Qe&&Qe.d(),Q(Fn),ct&&ct.d(),A&&w(Ms),Q(Hl,A),A&&w(As),Q(jl,A),A&&w(Ds),Q(Wl,A),A&&w(Ns),Q(Gl,A),Is=!1,Ge(fr)}}}async function wp(){await(await fetch("/reboot",{method:"POST"})).json()}function yp(t,e,l){let{sysinfo:n={}}=e,i=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],o=!0,r=!1,a={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:null,a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};cc.subscribe(ge=>{ge.version&&(l(3,a=ge),l(1,o=!1))}),Xm();let c=!1,f=!1;async function p(){if(confirm("Are you sure you want to factory reset the device?")){l(4,c=!0);const ge=new URLSearchParams;ge.append("perform","true");let Tl=await(await fetch("/reset",{method:"POST",body:ge})).json();l(4,c=!1),l(5,f=Tl.success)}}async function _(ge){l(2,r=!0);const Cl=new FormData(ge.target),Tl=new URLSearchParams;for(let ml of Cl){const[Pl,Si]=ml;Tl.append(Pl,Si)}let cl=await(await fetch("/save",{method:"POST",body:Tl})).json();Ct.update(ml=>(ml.booting=cl.reboot,ml.ui=a.u,ml)),l(2,r=!1),jn("/")}const d=function(){confirm("Are you sure you want to reboot the device?")&&(Ct.update(ge=>(ge.booting=!0,ge)),wp())},g=function(){a.q.s.e?a.q.p==1883&&l(3,a.q.p=8883,a):a.q.p==8883&&l(3,a.q.p=1883,a)};let h=44;function b(){a.g.h=this.value,l(3,a)}function $(){a.g.t=et(this),l(3,a)}function k(){a.p.r=et(this),l(3,a)}function T(){a.p.c=et(this),l(3,a)}function P(){a.p.m=me(this.value),l(3,a)}function E(){a.p.e=this.checked,l(3,a)}function S(){a.p.t=this.value,l(3,a)}function N(){a.g.s=et(this),l(3,a)}function D(){a.g.u=this.value,l(3,a)}function R(){a.g.p=this.value,l(3,a)}function H(){a.m.b=et(this),l(3,a)}function U(){a.m.p=et(this),l(3,a)}function F(){a.m.i=this.checked,l(3,a)}function L(){a.m.d=et(this),l(3,a)}function G(){a.m.f=me(this.value),l(3,a)}function j(){a.m.r=me(this.value),l(3,a)}function O(){a.m.e.e=this.checked,l(3,a)}function q(){a.m.e.k=this.value,l(3,a)}function W(){a.m.e.a=this.value,l(3,a)}function X(){a.m.m.e=this.checked,l(3,a)}function Y(){a.m.m.w=me(this.value),l(3,a)}function ne(){a.m.m.v=me(this.value),l(3,a)}function te(){a.m.m.a=me(this.value),l(3,a)}function Ae(){a.m.m.c=me(this.value),l(3,a)}function _e(){a.w.s=this.value,l(3,a)}function Ie(){a.w.p=this.value,l(3,a)}function Ee(){a.w.z=et(this),l(3,a)}function Le(){a.w.w=me(this.value),l(3,a)}function Re(){a.w.a=this.checked,l(3,a)}function Se(){a.n.m=et(this),l(3,a)}function be(){a.n.i=this.value,l(3,a)}function fe(){a.n.s=et(this),l(3,a)}function ae(){a.n.g=this.value,l(3,a)}function ce(){a.n.d1=this.value,l(3,a)}function ue(){a.n.d2=this.value,l(3,a)}function J(){a.n.d=this.checked,l(3,a)}function se(){a.n.h=this.checked,l(3,a)}function Pe(){a.n.n1=this.value,l(3,a)}function ee(){a.q.s.e=this.checked,l(3,a)}function oe(){a.q.h=this.value,l(3,a)}function Ue(){a.q.p=me(this.value),l(3,a)}function Me(){a.q.u=this.value,l(3,a)}function de(){a.q.a=this.value,l(3,a)}function ve(){a.q.c=this.value,l(3,a)}function le(){a.q.m=et(this),l(3,a)}function he(){a.q.b=this.value,l(3,a)}function qe(){a.o.e=this.value,l(3,a)}function re(){a.o.c=this.value,l(3,a)}function De(){a.o.u1=this.value,l(3,a)}function fi(){a.o.u2=this.value,l(3,a)}function ci(){a.o.u3=this.value,l(3,a)}function mi(){a.h.t=this.value,l(3,a)}function Tt(){a.h.h=this.value,l(3,a)}function pi(){a.h.n=this.value,l(3,a)}function Qt(ge){a.t.t[ge]=me(this.value),l(3,a)}function _i(){a.t.h=me(this.value),l(3,a)}function di(ge){a.u[ge.key]=et(this),l(3,a)}function vi(){a.i.h=et(this),l(3,a)}function tt(){a.i.a=me(this.value),l(3,a)}function hi(){a.i.l.i=this.checked,l(3,a)}function Zt(){a.i.l.p=me(this.value),l(3,a)}function Ql(){a.i.r.i=this.checked,l(3,a)}function pt(){a.i.r.r=me(this.value),l(3,a)}function gi(){a.i.r.g=me(this.value),l(3,a)}function bi(){a.i.r.b=me(this.value),l(3,a)}function ki(){a.i.t.d=me(this.value),l(3,a)}function Jt(){a.i.t.a=me(this.value),l(3,a)}function wi(){a.i.v.p=me(this.value),l(3,a)}function yi(){a.i.v.d.v=me(this.value),l(3,a)}function $i(){a.i.v.d.g=me(this.value),l(3,a)}function _t(){a.i.v.o=me(this.value),l(3,a)}function rl(){a.i.v.m=me(this.value),l(3,a)}function al(){a.i.v.b=me(this.value),l(3,a)}function fl(){a.d.s=this.checked,l(3,a)}function Ci(){a.d.t=this.checked,l(3,a)}function Ti(){a.d.l=et(this),l(3,a)}return t.$$set=ge=>{"sysinfo"in ge&&l(0,n=ge.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(6,h=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,o,r,a,c,f,h,i,p,_,d,g,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j,O,q,W,X,Y,ne,te,Ae,_e,Ie,Ee,Le,Re,Se,be,fe,ae,ce,ue,J,se,Pe,ee,oe,Ue,Me,de,ve,le,he,qe,re,De,fi,ci,mi,Tt,pi,Qt,_i,di,vi,tt,hi,Zt,Ql,pt,gi,bi,ki,Jt,wi,yi,$i,_t,rl,al,fl,Ci,Ti]}class $p extends $e{constructor(e){super(),ye(this,e,yp,kp,we,{sysinfo:0},null,[-1,-1,-1,-1])}}function Xa(t,e,l){const n=t.slice();return n[20]=e[l],n}function Cp(t){let e=pe(t[1].chip,t[1].board)+"",l;return{c(){l=C(e)},m(n,i){y(n,l,i)},p(n,i){i&2&&e!==(e=pe(n[1].chip,n[1].board)+"")&&B(l,e)},d(n){n&&w(l)}}}function xa(t){let e,l,n=t[1].apmac+"",i,o,r,a,c,f,p,_,d,g=Nr(t[1])+"",h,b,$=t[1].boot_reason+"",k,T,P;const E=[Sp,Tp],S=[];function N(D,R){return D[0].u>0?0:1}return c=N(t),f=S[c]=E[c](t),{c(){e=m("div"),l=C("AP MAC: "),i=C(n),o=v(),r=m("div"),a=C(`Last boot:
            `),f.c(),p=v(),_=m("div"),d=C("Reason: "),h=C(g),b=C(" ("),k=C($),T=C(")"),u(e,"class","my-2"),u(r,"class","my-2"),u(_,"class","my-2")},m(D,R){y(D,e,R),s(e,l),s(e,i),y(D,o,R),y(D,r,R),s(r,a),S[c].m(r,null),y(D,p,R),y(D,_,R),s(_,d),s(_,h),s(_,b),s(_,k),s(_,T),P=!0},p(D,R){(!P||R&2)&&n!==(n=D[1].apmac+"")&&B(i,n);let H=c;c=N(D),c===H?S[c].p(D,R):(Ce(),I(S[H],1,1,()=>{S[H]=null}),Te(),f=S[c],f?f.p(D,R):(f=S[c]=E[c](D),f.c()),M(f,1),f.m(r,null)),(!P||R&2)&&g!==(g=Nr(D[1])+"")&&B(h,g),(!P||R&2)&&$!==($=D[1].boot_reason+"")&&B(k,$)},i(D){P||(M(f),P=!0)},o(D){I(f),P=!1},d(D){D&&w(e),D&&w(o),D&&w(r),S[c].d(),D&&w(p),D&&w(_)}}}function Tp(t){let e;return{c(){e=C("-")},m(l,n){y(l,e,n)},p:ie,i:ie,o:ie,d(l){l&&w(e)}}}function Sp(t){let e,l;return e=new rc({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Pp(t){let e;return{c(){e=m("span"),e.textContent="Update consents",u(e,"class","btn-pri-sm")},m(l,n){y(l,e,n)},p:ie,d(l){l&&w(e)}}}function ef(t){let e,l,n,i,o,r=ms(t[1].meter.mfg)+"",a,c,f,p,_=t[1].meter.model+"",d,g,h,b,$=t[1].meter.id+"",k;return{c(){e=m("div"),l=m("strong"),l.textContent="Meter",n=v(),i=m("div"),o=C("Manufacturer: "),a=C(r),c=v(),f=m("div"),p=C("Model: "),d=C(_),g=v(),h=m("div"),b=C("ID: "),k=C($),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(h,"class","my-2"),u(e,"class","cnt")},m(T,P){y(T,e,P),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,c),s(e,f),s(f,p),s(f,d),s(e,g),s(e,h),s(h,b),s(h,k)},p(T,P){P&2&&r!==(r=ms(T[1].meter.mfg)+"")&&B(a,r),P&2&&_!==(_=T[1].meter.model+"")&&B(d,_),P&2&&$!==($=T[1].meter.id+"")&&B(k,$)},d(T){T&&w(e)}}}function tf(t){let e,l,n,i,o,r=t[1].net.ip+"",a,c,f,p,_=t[1].net.mask+"",d,g,h,b,$=t[1].net.gw+"",k,T,P,E,S=t[1].net.dns1+"",N,D,R=t[1].net.dns2&&lf(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Network",n=v(),i=m("div"),o=C("IP: "),a=C(r),c=v(),f=m("div"),p=C("Mask: "),d=C(_),g=v(),h=m("div"),b=C("Gateway: "),k=C($),T=v(),P=m("div"),E=C("DNS: "),N=C(S),D=v(),R&&R.c(),u(l,"class","text-sm"),u(i,"class","my-2"),u(f,"class","my-2"),u(h,"class","my-2"),u(P,"class","my-2"),u(e,"class","cnt")},m(H,U){y(H,e,U),s(e,l),s(e,n),s(e,i),s(i,o),s(i,a),s(e,c),s(e,f),s(f,p),s(f,d),s(e,g),s(e,h),s(h,b),s(h,k),s(e,T),s(e,P),s(P,E),s(P,N),s(P,D),R&&R.m(P,null)},p(H,U){U&2&&r!==(r=H[1].net.ip+"")&&B(a,r),U&2&&_!==(_=H[1].net.mask+"")&&B(d,_),U&2&&$!==($=H[1].net.gw+"")&&B(k,$),U&2&&S!==(S=H[1].net.dns1+"")&&B(N,S),H[1].net.dns2?R?R.p(H,U):(R=lf(H),R.c(),R.m(P,null)):R&&(R.d(1),R=null)},d(H){H&&w(e),R&&R.d()}}}function lf(t){let e,l=t[1].net.dns2+"",n;return{c(){e=C("/ "),n=C(l)},m(i,o){y(i,e,o),y(i,n,o)},p(i,o){o&2&&l!==(l=i[1].net.dns2+"")&&B(n,l)},d(i){i&&w(e),i&&w(n)}}}function nf(t){let e,l,n,i=t[2].tag_name+"",o,r,a,c,f,p,_=(t[1].security==0||t[0].a)&&t[1].fwconsent===1&&t[2]&&t[2].tag_name&&sf(t),d=t[1].fwconsent===2&&of();return{c(){e=m("div"),l=C(`Latest version: 
                `),n=m("a"),o=C(i),a=v(),_&&_.c(),c=v(),d&&d.c(),f=je(),u(n,"href",r=t[2].html_url),u(n,"class","ml-2 text-blue-600 hover:text-blue-800"),u(n,"target","_blank"),u(n,"rel","noreferrer"),u(e,"class","my-2 flex")},m(g,h){y(g,e,h),s(e,l),s(e,n),s(n,o),s(e,a),_&&_.m(e,null),y(g,c,h),d&&d.m(g,h),y(g,f,h),p=!0},p(g,h){(!p||h&4)&&i!==(i=g[2].tag_name+"")&&B(o,i),(!p||h&4&&r!==(r=g[2].html_url))&&u(n,"href",r),(g[1].security==0||g[0].a)&&g[1].fwconsent===1&&g[2]&&g[2].tag_name?_?(_.p(g,h),h&7&&M(_,1)):(_=sf(g),_.c(),M(_,1),_.m(e,null)):_&&(Ce(),I(_,1,1,()=>{_=null}),Te()),g[1].fwconsent===2?d||(d=of(),d.c(),d.m(f.parentNode,f)):d&&(d.d(1),d=null)},i(g){p||(M(_),p=!0)},o(g){I(_),p=!1},d(g){g&&w(e),_&&_.d(),g&&w(c),d&&d.d(g),g&&w(f)}}}function sf(t){let e,l,n,i,o,r;return n=new ac({}),{c(){e=m("div"),l=m("button"),Z(n.$$.fragment),u(e,"class","flex-none ml-2 text-green-500"),u(e,"title","Install this version")},m(a,c){y(a,e,c),s(e,l),K(n,l,null),i=!0,o||(r=V(l,"click",t[10]),o=!0)},p:ie,i(a){i||(M(n.$$.fragment,a),i=!0)},o(a){I(n.$$.fragment,a),i=!1},d(a){a&&w(e),Q(n),o=!1,r()}}}function of(t){let e;return{c(){e=m("div"),e.innerHTML='<div class="bd-yellow">You have disabled one-click firmware upgrade, link to self-upgrade is disabled</div>',u(e,"class","my-2")},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function uf(t){let e,l=ps(pe(t[1].chip,t[1].board))+"",n;return{c(){e=m("div"),n=C(l),u(e,"class","bd-red")},m(i,o){y(i,e,o),s(e,n)},p(i,o){o&2&&l!==(l=ps(pe(i[1].chip,i[1].board))+"")&&B(n,l)},d(i){i&&w(e)}}}function rf(t){let e,l,n,i,o,r;function a(p,_){return p[4].length==0?Ap:Mp}let c=a(t),f=c(t);return{c(){e=m("div"),l=m("form"),n=m("input"),i=v(),f.c(),Cf(n,"display","none"),u(n,"name","file"),u(n,"type","file"),u(n,"accept",".bin"),u(l,"action","/firmware"),u(l,"enctype","multipart/form-data"),u(l,"method","post"),u(l,"autocomplete","off"),u(e,"class","my-2 flex")},m(p,_){y(p,e,_),s(e,l),s(l,n),t[12](n),s(l,i),f.m(l,null),o||(r=[V(n,"change",t[13]),V(l,"submit",t[15])],o=!0)},p(p,_){c===(c=a(p))&&f?f.p(p,_):(f.d(1),f=c(p),f&&(f.c(),f.m(l,null)))},d(p){p&&w(e),t[12](null),f.d(),o=!1,Ge(r)}}}function Mp(t){let e=t[4][0].name+"",l,n,i;return{c(){l=C(e),n=v(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm float-right")},m(o,r){y(o,l,r),y(o,n,r),y(o,i,r)},p(o,r){r&16&&e!==(e=o[4][0].name+"")&&B(l,e)},d(o){o&&w(l),o&&w(n),o&&w(i)}}}function Ap(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select firmware file for upgrade",u(e,"type","button"),u(e,"class","btn-pri-sm float-right")},m(i,o){y(i,e,o),l||(n=V(e,"click",t[14]),l=!0)},p:ie,d(i){i&&w(e),l=!1,n()}}}function af(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b=t[9],$=[];for(let S=0;S<b.length;S+=1)$[S]=ff(Xa(t,b,S));let k=t[7].length==0&&cf();function T(S,N){return S[7].length==0?Np:Dp}let P=T(t),E=P(t);return{c(){e=m("div"),l=m("strong"),l.textContent="Backup & restore",n=v(),i=m("form"),o=m("div");for(let S=0;S<$.length;S+=1)$[S].c();r=v(),a=m("label"),a.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> Include Secrets<br/><small>(SSID, PSK, passwords and tokens)</small>',c=v(),k&&k.c(),f=v(),p=m("form"),_=m("input"),d=v(),E.c(),u(l,"class","text-sm"),u(a,"class","my-1 mx-3 col-span-2"),u(o,"class","grid grid-cols-2"),u(i,"method","get"),u(i,"action","/configfile.cfg"),u(i,"autocomplete","off"),Cf(_,"display","none"),u(_,"name","file"),u(_,"type","file"),u(_,"accept",".cfg"),u(p,"action","/configfile"),u(p,"enctype","multipart/form-data"),u(p,"method","post"),u(p,"autocomplete","off"),u(e,"class","cnt")},m(S,N){y(S,e,N),s(e,l),s(e,n),s(e,i),s(i,o);for(let D=0;D<$.length;D+=1)$[D].m(o,null);s(o,r),s(o,a),s(i,c),k&&k.m(i,null),s(e,f),s(e,p),s(p,_),t[16](_),s(p,d),E.m(p,null),g||(h=[V(_,"change",t[17]),V(p,"submit",t[19])],g=!0)},p(S,N){if(N&512){b=S[9];let D;for(D=0;D<b.length;D+=1){const R=Xa(S,b,D);$[D]?$[D].p(R,N):($[D]=ff(R),$[D].c(),$[D].m(o,r))}for(;D<$.length;D+=1)$[D].d(1);$.length=b.length}S[7].length==0?k||(k=cf(),k.c(),k.m(i,null)):k&&(k.d(1),k=null),P===(P=T(S))&&E?E.p(S,N):(E.d(1),E=P(S),E&&(E.c(),E.m(p,null)))},d(S){S&&w(e),Vt($,S),k&&k.d(),t[16](null),E.d(),g=!1,Ge(h)}}}function ff(t){let e,l,n,i=t[20].name+"",o;return{c(){e=m("label"),l=m("input"),n=v(),o=C(i),u(l,"type","checkbox"),u(l,"class","rounded"),u(l,"name",t[20].key),l.value="true",l.checked=!0,u(e,"class","my-1 mx-3")},m(r,a){y(r,e,a),s(e,l),s(e,n),s(e,o)},p:ie,d(r){r&&w(e)}}}function cf(t){let e;return{c(){e=m("button"),e.textContent="Download",u(e,"type","submit"),u(e,"class","btn-pri-sm float-right")},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function Dp(t){let e=t[7][0].name+"",l,n,i;return{c(){l=C(e),n=v(),i=m("button"),i.textContent="Upload",u(i,"type","submit"),u(i,"class","btn-pri-sm")},m(o,r){y(o,l,r),y(o,n,r),y(o,i,r)},p(o,r){r&128&&e!==(e=o[7][0].name+"")&&B(l,e)},d(o){o&&w(l),o&&w(n),o&&w(i)}}}function Np(t){let e,l,n;return{c(){e=m("button"),e.textContent="Select file...",u(e,"type","button"),u(e,"class","btn-pri-sm")},m(i,o){y(i,e,o),l||(n=V(e,"click",t[18]),l=!0)},p:ie,d(i){i&&w(e),l=!1,n()}}}function Ip(t){let e,l,n,i,o,r,a=t[1].chip+"",c,f,p,_,d,g,h,b,$=t[1].mac+"",k,T,P,E,S,N,D,R,H,U,F,L,G,j,O,q=t[1].version+"",W,X,Y,ne=(t[1].security==0||t[0].a)&&Wn(t[1].board),te,Ae,_e,Ie,Ee,Le,Re,Se,be;d=new kl({props:{to:"/vendor",$$slots:{default:[Cp]},$$scope:{ctx:t}}});let fe=t[1].apmac&&t[1].apmac!=t[1].mac&&xa(t);S=new kl({props:{to:"/consent",$$slots:{default:[Pp]},$$scope:{ctx:t}}});let ae=t[1].meter&&ef(t),ce=t[1].net&&tf(t),ue=t[2]&&nf(t),J=ne&&uf(t),se=(t[1].security==0||t[0].a)&&rf(t),Pe=(t[1].security==0||t[0].a)&&af(t);return Ie=new gt({props:{active:t[5],message:"Uploading firmware, please wait"}}),Le=new gt({props:{active:t[8],message:"Uploading configuration, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),n.textContent="Device information",i=v(),o=m("div"),r=C("Chip: "),c=C(a),f=v(),p=m("div"),_=C("Device: "),Z(d.$$.fragment),g=v(),h=m("div"),b=C("MAC: "),k=C($),T=v(),fe&&fe.c(),P=v(),E=m("div"),Z(S.$$.fragment),N=v(),D=m("button"),D.textContent="Reboot",R=v(),ae&&ae.c(),H=v(),ce&&ce.c(),U=v(),F=m("div"),L=m("strong"),L.textContent="Firmware",G=v(),j=m("div"),O=C("Installed version: "),W=C(q),X=v(),ue&&ue.c(),Y=v(),J&&J.c(),te=v(),se&&se.c(),Ae=v(),Pe&&Pe.c(),_e=v(),Z(Ie.$$.fragment),Ee=v(),Z(Le.$$.fragment),u(n,"class","text-sm"),u(o,"class","my-2"),u(p,"class","my-2"),u(h,"class","my-2"),u(D,"class","text-xs py-1 px-2 rounded bg-yellow-500 text-white mr-3 float-right"),u(E,"class","my-2"),u(l,"class","cnt"),u(L,"class","text-sm"),u(j,"class","my-2"),u(F,"class","cnt"),u(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(ee,oe){y(ee,e,oe),s(e,l),s(l,n),s(l,i),s(l,o),s(o,r),s(o,c),s(l,f),s(l,p),s(p,_),K(d,p,null),s(l,g),s(l,h),s(h,b),s(h,k),s(l,T),fe&&fe.m(l,null),s(l,P),s(l,E),K(S,E,null),s(E,N),s(E,D),s(e,R),ae&&ae.m(e,null),s(e,H),ce&&ce.m(e,null),s(e,U),s(e,F),s(F,L),s(F,G),s(F,j),s(j,O),s(j,W),s(F,X),ue&&ue.m(F,null),s(F,Y),J&&J.m(F,null),s(F,te),se&&se.m(F,null),s(e,Ae),Pe&&Pe.m(e,null),y(ee,_e,oe),K(Ie,ee,oe),y(ee,Ee,oe),K(Le,ee,oe),Re=!0,Se||(be=V(D,"click",t[11]),Se=!0)},p(ee,[oe]){(!Re||oe&2)&&a!==(a=ee[1].chip+"")&&B(c,a);const Ue={};oe&8388610&&(Ue.$$scope={dirty:oe,ctx:ee}),d.$set(Ue),(!Re||oe&2)&&$!==($=ee[1].mac+"")&&B(k,$),ee[1].apmac&&ee[1].apmac!=ee[1].mac?fe?(fe.p(ee,oe),oe&2&&M(fe,1)):(fe=xa(ee),fe.c(),M(fe,1),fe.m(l,P)):fe&&(Ce(),I(fe,1,1,()=>{fe=null}),Te());const Me={};oe&8388608&&(Me.$$scope={dirty:oe,ctx:ee}),S.$set(Me),ee[1].meter?ae?ae.p(ee,oe):(ae=ef(ee),ae.c(),ae.m(e,H)):ae&&(ae.d(1),ae=null),ee[1].net?ce?ce.p(ee,oe):(ce=tf(ee),ce.c(),ce.m(e,U)):ce&&(ce.d(1),ce=null),(!Re||oe&2)&&q!==(q=ee[1].version+"")&&B(W,q),ee[2]?ue?(ue.p(ee,oe),oe&4&&M(ue,1)):(ue=nf(ee),ue.c(),M(ue,1),ue.m(F,Y)):ue&&(Ce(),I(ue,1,1,()=>{ue=null}),Te()),oe&3&&(ne=(ee[1].security==0||ee[0].a)&&Wn(ee[1].board)),ne?J?J.p(ee,oe):(J=uf(ee),J.c(),J.m(F,te)):J&&(J.d(1),J=null),ee[1].security==0||ee[0].a?se?se.p(ee,oe):(se=rf(ee),se.c(),se.m(F,null)):se&&(se.d(1),se=null),ee[1].security==0||ee[0].a?Pe?Pe.p(ee,oe):(Pe=af(ee),Pe.c(),Pe.m(e,null)):Pe&&(Pe.d(1),Pe=null);const de={};oe&32&&(de.active=ee[5]),Ie.$set(de);const ve={};oe&256&&(ve.active=ee[8]),Le.$set(ve)},i(ee){Re||(M(d.$$.fragment,ee),M(fe),M(S.$$.fragment,ee),M(ue),M(Ie.$$.fragment,ee),M(Le.$$.fragment,ee),Re=!0)},o(ee){I(d.$$.fragment,ee),I(fe),I(S.$$.fragment,ee),I(ue),I(Ie.$$.fragment,ee),I(Le.$$.fragment,ee),Re=!1},d(ee){ee&&w(e),Q(d),fe&&fe.d(),Q(S),ae&&ae.d(),ce&&ce.d(),ue&&ue.d(),J&&J.d(),se&&se.d(),Pe&&Pe.d(),ee&&w(_e),Q(Ie,ee),ee&&w(Ee),Q(Le,ee),Se=!1,be()}}}async function Ep(){await(await fetch("/reboot",{method:"POST"})).json()}function Rp(t,e,l){let{data:n}=e,{sysinfo:i}=e,o=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}],r={};ao.subscribe(D=>{l(2,r=uc(i.version,D)),r||l(2,r=D[0])});function a(){confirm("Do you want to upgrade this device to "+r.tag_name+"?")&&(i.board!=2&&i.board!=4&&i.board!=7||confirm(ps(pe(i.chip,i.board))))&&(Ct.update(D=>(D.upgrading=!0,D)),oc())}const c=function(){confirm("Are you sure you want to reboot the device?")&&(Ct.update(D=>(D.booting=!0,D)),Ep())};let f,p=[],_=!1,d,g=[],h=!1;oo();function b(D){fs[D?"unshift":"push"](()=>{f=D,l(3,f)})}function $(){p=this.files,l(4,p)}const k=()=>{f.click()},T=()=>l(5,_=!0);function P(D){fs[D?"unshift":"push"](()=>{d=D,l(6,d)})}function E(){g=this.files,l(7,g)}const S=()=>{d.click()},N=()=>l(8,h=!0);return t.$$set=D=>{"data"in D&&l(0,n=D.data),"sysinfo"in D&&l(1,i=D.sysinfo)},[n,i,r,f,p,_,d,g,h,o,a,c,b,$,k,T,P,E,S,N]}class Fp extends $e{constructor(e){super(),ye(this,e,Rp,Ip,we,{data:0,sysinfo:1})}}function mf(t){let e,l,n=pe(t[0],7)+"",i,o,r=pe(t[0],5)+"",a,c,f=pe(t[0],4)+"",p,_,d=pe(t[0],3)+"",g,h,b,$,k=pe(t[0],2)+"",T,P,E=pe(t[0],1)+"",S,N,D=pe(t[0],0)+"",R,H,U,F,L=pe(t[0],101)+"",G,j,O=pe(t[0],100)+"",q;return{c(){e=m("optgroup"),l=m("option"),i=C(n),o=m("option"),a=C(r),c=m("option"),p=C(f),_=m("option"),g=C(d),h=v(),b=m("optgroup"),$=m("option"),T=C(k),P=m("option"),S=C(E),N=m("option"),R=C(D),H=v(),U=m("optgroup"),F=m("option"),G=C(L),j=m("option"),q=C(O),l.__value=7,l.value=l.__value,o.__value=5,o.value=o.__value,c.__value=4,c.value=c.__value,_.__value=3,_.value=_.__value,u(e,"label","amsleser.no"),$.__value=2,$.value=$.__value,P.__value=1,P.value=P.__value,N.__value=0,N.value=N.__value,u(b,"label","Custom hardware"),F.__value=101,F.value=F.__value,j.__value=100,j.value=j.__value,u(U,"label","Generic hardware")},m(W,X){y(W,e,X),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,p),s(e,_),s(_,g),y(W,h,X),y(W,b,X),s(b,$),s($,T),s(b,P),s(P,S),s(b,N),s(N,R),y(W,H,X),y(W,U,X),s(U,F),s(F,G),s(U,j),s(j,q)},p(W,X){X&1&&n!==(n=pe(W[0],7)+"")&&B(i,n),X&1&&r!==(r=pe(W[0],5)+"")&&B(a,r),X&1&&f!==(f=pe(W[0],4)+"")&&B(p,f),X&1&&d!==(d=pe(W[0],3)+"")&&B(g,d),X&1&&k!==(k=pe(W[0],2)+"")&&B(T,k),X&1&&E!==(E=pe(W[0],1)+"")&&B(S,E),X&1&&D!==(D=pe(W[0],0)+"")&&B(R,D),X&1&&L!==(L=pe(W[0],101)+"")&&B(G,L),X&1&&O!==(O=pe(W[0],100)+"")&&B(q,O)},d(W){W&&w(e),W&&w(h),W&&w(b),W&&w(H),W&&w(U)}}}function pf(t){let e,l,n=pe(t[0],201)+"",i,o,r=pe(t[0],202)+"",a,c,f=pe(t[0],203)+"",p,_,d=pe(t[0],200)+"",g;return{c(){e=m("optgroup"),l=m("option"),i=C(n),o=m("option"),a=C(r),c=m("option"),p=C(f),_=m("option"),g=C(d),l.__value=201,l.value=l.__value,o.__value=202,o.value=o.__value,c.__value=203,c.value=c.__value,_.__value=200,_.value=_.__value,u(e,"label","Generic hardware")},m(h,b){y(h,e,b),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,p),s(e,_),s(_,g)},p(h,b){b&1&&n!==(n=pe(h[0],201)+"")&&B(i,n),b&1&&r!==(r=pe(h[0],202)+"")&&B(a,r),b&1&&f!==(f=pe(h[0],203)+"")&&B(p,f),b&1&&d!==(d=pe(h[0],200)+"")&&B(g,d)},d(h){h&&w(e)}}}function _f(t){let e,l,n=pe(t[0],7)+"",i,o,r=pe(t[0],6)+"",a,c,f=pe(t[0],5)+"",p,_,d,g,h=pe(t[0],51)+"",b,$,k=pe(t[0],50)+"",T;return{c(){e=m("optgroup"),l=m("option"),i=C(n),o=m("option"),a=C(r),c=m("option"),p=C(f),_=v(),d=m("optgroup"),g=m("option"),b=C(h),$=m("option"),T=C(k),l.__value=7,l.value=l.__value,o.__value=6,o.value=o.__value,c.__value=5,c.value=c.__value,u(e,"label","amsleser.no"),g.__value=51,g.value=g.__value,$.__value=50,$.value=$.__value,u(d,"label","Generic hardware")},m(P,E){y(P,e,E),s(e,l),s(l,i),s(e,o),s(o,a),s(e,c),s(c,p),y(P,_,E),y(P,d,E),s(d,g),s(g,b),s(d,$),s($,T)},p(P,E){E&1&&n!==(n=pe(P[0],7)+"")&&B(i,n),E&1&&r!==(r=pe(P[0],6)+"")&&B(a,r),E&1&&f!==(f=pe(P[0],5)+"")&&B(p,f),E&1&&h!==(h=pe(P[0],51)+"")&&B(b,h),E&1&&k!==(k=pe(P[0],50)+"")&&B(T,k)},d(P){P&&w(e),P&&w(_),P&&w(d)}}}function df(t){let e,l,n=pe(t[0],71)+"",i,o,r=pe(t[0],70)+"",a;return{c(){e=m("optgroup"),l=m("option"),i=C(n),o=m("option"),a=C(r),l.__value=71,l.value=l.__value,o.__value=70,o.value=o.__value,u(e,"label","Generic hardware")},m(c,f){y(c,e,f),s(e,l),s(l,i),s(e,o),s(o,a)},p(c,f){f&1&&n!==(n=pe(c[0],71)+"")&&B(i,n),f&1&&r!==(r=pe(c[0],70)+"")&&B(a,r)},d(c){c&&w(e)}}}function vf(t){let e,l,n=pe(t[0],200)+"",i;return{c(){e=m("optgroup"),l=m("option"),i=C(n),l.__value=200,l.value=l.__value,u(e,"label","Generic hardware")},m(o,r){y(o,e,r),s(e,l),s(l,i)},p(o,r){r&1&&n!==(n=pe(o[0],200)+"")&&B(i,n)},d(o){o&&w(e)}}}function Lp(t){let e,l,n,i,o,r,a,c=t[0]=="esp8266"&&mf(t),f=t[0]=="esp32"&&pf(t),p=t[0]=="esp32s2"&&_f(t),_=t[0]=="esp32c3"&&df(t),d=t[0]=="esp32solo"&&vf(t);return{c(){e=m("option"),l=v(),c&&c.c(),n=v(),f&&f.c(),i=v(),p&&p.c(),o=v(),_&&_.c(),r=v(),d&&d.c(),a=je(),e.__value=-1,e.value=e.__value},m(g,h){y(g,e,h),y(g,l,h),c&&c.m(g,h),y(g,n,h),f&&f.m(g,h),y(g,i,h),p&&p.m(g,h),y(g,o,h),_&&_.m(g,h),y(g,r,h),d&&d.m(g,h),y(g,a,h)},p(g,[h]){g[0]=="esp8266"?c?c.p(g,h):(c=mf(g),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),g[0]=="esp32"?f?f.p(g,h):(f=pf(g),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null),g[0]=="esp32s2"?p?p.p(g,h):(p=_f(g),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null),g[0]=="esp32c3"?_?_.p(g,h):(_=df(g),_.c(),_.m(r.parentNode,r)):_&&(_.d(1),_=null),g[0]=="esp32solo"?d?d.p(g,h):(d=vf(g),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},i:ie,o:ie,d(g){g&&w(e),g&&w(l),c&&c.d(g),g&&w(n),f&&f.d(g),g&&w(i),p&&p.d(g),g&&w(o),_&&_.d(g),g&&w(r),d&&d.d(g),g&&w(a)}}}function Op(t,e,l){let{chip:n}=e;return t.$$set=i=>{"chip"in i&&l(0,n=i.chip)},[n]}class qp extends $e{constructor(e){super(),ye(this,e,Op,Lp,we,{chip:0})}}function hf(t){let e;return{c(){e=m("div"),e.textContent="WARNING: Changing this configuration will affect basic configuration of your device. Only make changes here if instructed by vendor",u(e,"class","bd-red")},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function gf(t){let e,l,n,i,o,r,a;return r=new mc({props:{chip:t[0].chip}}),{c(){e=m("div"),l=C("HAN GPIO"),n=m("br"),i=v(),o=m("select"),Z(r.$$.fragment),u(o,"name","vh"),u(o,"class","in-s"),u(e,"class","my-3")},m(c,f){y(c,e,f),s(e,l),s(e,n),s(e,i),s(e,o),K(r,o,null),a=!0},p(c,f){const p={};f&1&&(p.chip=c[0].chip),r.$set(p)},i(c){a||(M(r.$$.fragment,c),a=!0)},o(c){I(r.$$.fragment,c),a=!1},d(c){c&&w(e),Q(r)}}}function Up(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j=t[0].usrcfg&&hf();h=new qp({props:{chip:t[0].chip}});let O=t[0].board&&t[0].board>20&&gf(t);return U=new gt({props:{active:t[1],message:"Saving device configuration"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=v(),r=m("strong"),r.textContent="Initial configuration",a=v(),j&&j.c(),c=v(),f=m("div"),p=C("Board type"),_=m("br"),d=v(),g=m("select"),Z(h.$$.fragment),b=v(),O&&O.c(),$=v(),k=m("div"),T=m("label"),P=m("input"),E=C(" Clear all other configuration"),S=v(),N=m("div"),N.innerHTML='<button type="submit" class="btn-pri">Save</button>',D=v(),R=m("span"),R.textContent="\xA0",H=v(),Z(U.$$.fragment),u(i,"type","hidden"),u(i,"name","v"),i.value="true",u(r,"class","text-sm"),u(g,"name","vb"),u(g,"class","in-s"),t[0].board===void 0&&Be(()=>t[4].call(g)),u(f,"class","my-3"),u(P,"type","checkbox"),u(P,"name","vr"),P.__value="true",P.value=P.__value,u(P,"class","rounded mb-1"),u(k,"class","my-3"),u(N,"class","my-3"),u(R,"class","clear-both"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(q,W){y(q,e,W),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),j&&j.m(n,null),s(n,c),s(n,f),s(f,p),s(f,_),s(f,d),s(f,g),K(h,g,null),Fe(g,t[0].board),s(n,b),O&&O.m(n,null),s(n,$),s(n,k),s(k,T),s(T,P),P.checked=t[2],s(T,E),s(n,S),s(n,N),s(n,D),s(n,R),y(q,H,W),K(U,q,W),F=!0,L||(G=[V(g,"change",t[4]),V(P,"change",t[5]),V(n,"submit",_s(t[3]))],L=!0)},p(q,[W]){q[0].usrcfg?j||(j=hf(),j.c(),j.m(n,c)):j&&(j.d(1),j=null);const X={};W&1&&(X.chip=q[0].chip),h.$set(X),W&1&&Fe(g,q[0].board),q[0].board&&q[0].board>20?O?(O.p(q,W),W&1&&M(O,1)):(O=gf(q),O.c(),M(O,1),O.m(n,$)):O&&(Ce(),I(O,1,1,()=>{O=null}),Te()),W&4&&(P.checked=q[2]);const Y={};W&2&&(Y.active=q[1]),U.$set(Y)},i(q){F||(M(h.$$.fragment,q),M(O),M(U.$$.fragment,q),F=!0)},o(q){I(h.$$.fragment,q),I(O),I(U.$$.fragment,q),F=!1},d(q){q&&w(e),j&&j.d(),Q(h),O&&O.d(),q&&w(H),Q(U,q),L=!1,Ge(G)}}}function Hp(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(f){l(1,i=!0);const p=new FormData(f.target),_=new URLSearchParams;for(let h of p){const[b,$]=h;_.append(b,$)}let g=await(await fetch("/save",{method:"POST",body:_})).json();l(1,i=!1),Ct.update(h=>(h.vndcfg=g.success,h.booting=g.reboot,h)),jn(n.usrcfg?"/":"/setup")}let r=!1;function a(){n.board=et(this),l(0,n)}function c(){r=this.checked,l(2,r),l(0,n)}return t.$$set=f=>{"sysinfo"in f&&l(0,n=f.sysinfo)},t.$$.update=()=>{t.$$.dirty&1&&l(2,r=!n.usrcfg)},[n,i,r,o,a,c]}class jp extends $e{constructor(e){super(),ye(this,e,Hp,Up,we,{sysinfo:0})}}function bf(t){let e,l,n,i,o,r,a,c;return a=new pc({}),{c(){e=m("br"),l=v(),n=m("div"),i=m("input"),o=v(),r=m("select"),Z(a.$$.fragment),u(i,"name","si"),u(i,"type","text"),u(i,"class","in-f w-full"),i.required=t[1],u(r,"name","su"),u(r,"class","in-l"),r.required=t[1],u(n,"class","flex")},m(f,p){y(f,e,p),y(f,l,p),y(f,n,p),s(n,i),s(n,o),s(n,r),K(a,r,null),c=!0},p(f,p){(!c||p&2)&&(i.required=f[1]),(!c||p&2)&&(r.required=f[1])},i(f){c||(M(a.$$.fragment,f),c=!0)},o(f){I(a.$$.fragment,f),c=!1},d(f){f&&w(e),f&&w(l),f&&w(n),Q(a)}}}function kf(t){let e;return{c(){e=m("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,u(e,"class","my-3 flex")},m(l,n){y(l,e,n)},d(l){l&&w(e)}}}function Wp(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G=t[1]&&bf(t),j=t[1]&&kf();return H=new gt({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("input"),o=v(),r=m("strong"),r.textContent="Setup",a=v(),c=m("div"),c.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,f=v(),p=m("div"),p.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,_=v(),d=m("div"),g=C(`Hostname
                `),h=m("input"),b=v(),$=m("div"),k=m("label"),T=m("input"),P=C(" Static IP"),E=v(),G&&G.c(),S=v(),j&&j.c(),N=v(),D=m("div"),D.innerHTML='<button type="submit" class="btn-pri">Save</button>',R=v(),Z(H.$$.fragment),u(i,"type","hidden"),u(i,"name","s"),i.value="true",u(r,"class","text-sm"),u(c,"class","my-3"),u(p,"class","my-3"),u(h,"name","sh"),u(h,"type","text"),u(h,"class","in-s"),u(h,"maxlength","32"),u(h,"pattern","[a-z0-9_-]+"),u(h,"placeholder","Optional, ex.: ams-reader"),u(h,"autocomplete","off"),u(T,"type","checkbox"),u(T,"name","sm"),T.__value="static",T.value=T.__value,u(T,"class","rounded mb-1"),u($,"class","my-3"),u(D,"class","my-3"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(O,q){y(O,e,q),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,c),s(n,f),s(n,p),s(n,_),s(n,d),s(d,g),s(d,h),z(h,t[0].hostname),s(n,b),s(n,$),s($,k),s(k,T),T.checked=t[1],s(k,P),s($,E),G&&G.m($,null),s(n,S),j&&j.m(n,null),s(n,N),s(n,D),y(O,R,q),K(H,O,q),U=!0,F||(L=[V(h,"input",t[4]),V(T,"change",t[5]),V(n,"submit",_s(t[3]))],F=!0)},p(O,[q]){q&1&&h.value!==O[0].hostname&&z(h,O[0].hostname),q&2&&(T.checked=O[1]),O[1]?G?(G.p(O,q),q&2&&M(G,1)):(G=bf(O),G.c(),M(G,1),G.m($,null)):G&&(Ce(),I(G,1,1,()=>{G=null}),Te()),O[1]?j||(j=kf(),j.c(),j.m(n,N)):j&&(j.d(1),j=null);const W={};q&4&&(W.active=O[2]),H.$set(W)},i(O){U||(M(G),M(H.$$.fragment,O),U=!0)},o(O){I(G),I(H.$$.fragment,O),U=!1},d(O){O&&w(e),G&&G.d(),j&&j.d(),O&&w(R),Q(H,O),F=!1,Ge(L)}}}function Gp(t,e,l){let{sysinfo:n={}}=e,i=!1,o=!1,r=0;function a(){var _="";r++;var d=function(){setTimeout(a,1e3)};if(n.net.ip&&r%3==0){if(!n.net.ip){d();return}_="http://"+n.net.ip}else n.hostname&&r%3==1?_="http://"+n.hostname:n.hostname&&r%3==2?_="http://"+n.hostname+".local":_="";console&&console.log("Trying url "+_),Ct.update(h=>(h.trying=_,h));var g=new XMLHttpRequest;g.timeout=5e3,g.addEventListener("abort",d),g.addEventListener("error",d),g.addEventListener("timeout",d),g.addEventListener("load",function(h){window.location.href=_||"/"}),g.open("GET",_+"/is-alive",!0),g.send()}async function c(_){l(2,o=!0);const d=new FormData(_.target),g=new URLSearchParams;for(let $ of d){const[k,T]=$;g.append(k,T)}let b=await(await fetch("/save",{method:"POST",body:g})).json();l(2,o=!1),Ct.update($=>($.hostname=d.get("sh"),$.usrcfg=b.success,$.booting=b.reboot,i&&($.net.ip=d.get("si"),$.net.mask=d.get("su"),$.net.gw=d.get("sg"),$.net.dns1=d.get("sd")),setTimeout(a,5e3),$))}function f(){n.hostname=this.value,l(0,n)}function p(){i=this.checked,l(1,i)}return t.$$set=_=>{"sysinfo"in _&&l(0,n=_.sysinfo)},[n,i,o,c,f,p]}class Bp extends $e{constructor(e){super(),ye(this,e,Gp,Wp,we,{sysinfo:0})}}function Yp(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k;return h=new gt({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=m("div"),l=m("div"),n=m("strong"),i=C("Upload "),o=C(t[1]),r=v(),a=m("p"),a.textContent="Select a suitable file and click upload",c=v(),f=m("form"),p=m("input"),_=v(),d=m("div"),d.innerHTML='<button type="submit" class="btn-pri">Upload</button>',g=v(),Z(h.$$.fragment),u(a,"class","mb-4"),u(p,"name","file"),u(p,"type","file"),u(d,"class","w-full text-right mt-4"),u(f,"action",t[0]),u(f,"enctype","multipart/form-data"),u(f,"method","post"),u(f,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m(T,P){y(T,e,P),s(e,l),s(l,n),s(n,i),s(n,o),s(l,r),s(l,a),s(l,c),s(l,f),s(f,p),s(f,_),s(f,d),y(T,g,P),K(h,T,P),b=!0,$||(k=V(f,"submit",t[3]),$=!0)},p(T,[P]){(!b||P&2)&&B(o,T[1]),(!b||P&1)&&u(f,"action",T[0]);const E={};P&4&&(E.active=T[2]),h.$set(E)},i(T){b||(M(h.$$.fragment,T),b=!0)},o(T){I(h.$$.fragment,T),b=!1},d(T){T&&w(e),T&&w(g),Q(h,T),$=!1,k()}}}function zp(t,e,l){let{action:n}=e,{title:i}=e,o=!1;const r=()=>l(2,o=!0);return t.$$set=a=>{"action"in a&&l(0,n=a.action),"title"in a&&l(1,i=a.title)},[n,i,o,r]}class fo extends $e{constructor(e){super(),ye(this,e,zp,Yp,we,{action:0,title:1})}}function Vp(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E,S,N,D,R,H,U,F,L,G,j,O;return L=new gt({props:{active:t[1],message:"Saving preferences"}}),{c(){e=m("div"),l=m("div"),n=m("form"),i=m("div"),i.textContent="Various permissions we need to do stuff:",o=v(),r=m("hr"),a=v(),c=m("div"),f=C("Enable one-click upgrade? (implies data collection)"),p=m("br"),_=v(),d=m("a"),g=C("Read more"),h=m("br"),b=v(),$=m("label"),k=m("input"),P=C(" Yes"),E=m("label"),S=m("input"),D=C(" No"),R=m("br"),H=v(),U=m("div"),U.innerHTML='<button type="submit" class="btn-pri">Save</button>',F=v(),Z(L.$$.fragment),u(d,"href",$t("Data-collection-on-one-click-firmware-upgrade")),u(d,"target","_blank"),u(d,"class","text-blue-600 hover:text-blue-800"),u(k,"type","radio"),u(k,"name","sf"),k.value=1,k.checked=T=t[0].fwconsent===1,u(k,"class","rounded m-2"),k.required=!0,u(S,"type","radio"),u(S,"name","sf"),S.value=2,S.checked=N=t[0].fwconsent===2,u(S,"class","rounded m-2"),S.required=!0,u(c,"class","my-3"),u(U,"class","my-3"),u(n,"autocomplete","off"),u(l,"class","cnt"),u(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(q,W){y(q,e,W),s(e,l),s(l,n),s(n,i),s(n,o),s(n,r),s(n,a),s(n,c),s(c,f),s(c,p),s(c,_),s(c,d),s(d,g),s(c,h),s(c,b),s(c,$),s($,k),s($,P),s(c,E),s(E,S),s(E,D),s(c,R),s(n,H),s(n,U),y(q,F,W),K(L,q,W),G=!0,j||(O=V(n,"submit",_s(t[2])),j=!0)},p(q,[W]){(!G||W&1&&T!==(T=q[0].fwconsent===1))&&(k.checked=T),(!G||W&1&&N!==(N=q[0].fwconsent===2))&&(S.checked=N);const X={};W&2&&(X.active=q[1]),L.$set(X)},i(q){G||(M(L.$$.fragment,q),G=!0)},o(q){I(L.$$.fragment,q),G=!1},d(q){q&&w(e),q&&w(F),Q(L,q),j=!1,O()}}}function Kp(t,e,l){let{sysinfo:n={}}=e,i=!1;async function o(r){l(1,i=!0);const a=new FormData(r.target),c=new URLSearchParams;for(let _ of a){const[d,g]=_;c.append(d,g)}let p=await(await fetch("/save",{method:"POST",body:c})).json();l(1,i=!1),Ct.update(_=>(_.fwconsent=a.sf===!0?1:a.sf===!1?2:0,_.booting=p.reboot,_)),jn("/")}return t.$$set=r=>{"sysinfo"in r&&l(0,n=r.sysinfo)},[n,i,o]}class Qp extends $e{constructor(e){super(),ye(this,e,Kp,Vp,we,{sysinfo:0})}}function Zp(t){let e,l;return e=new Jm({props:{data:t[1],sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&2&&(o.data=n[1]),i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Jp(t){let e,l;return e=new $p({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function Xp(t){let e,l;return e=new Fp({props:{sysinfo:t[0],data:t[1]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),i&2&&(o.data=n[1]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function xp(t){let e,l;return e=new fo({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function e0(t){let e,l;return e=new fo({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function t0(t){let e,l;return e=new fo({props:{title:"private key",action:"/mqtt-key"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function l0(t){let e,l;return e=new Qp({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function n0(t){let e,l;return e=new Bp({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function i0(t){let e,l;return e=new jp({props:{sysinfo:t[0]}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.sysinfo=n[0]),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function s0(t){let e,l,n,i,o,r,a,c,f,p,_,d,g,h,b,$,k,T,P,E;return e=new cm({props:{data:t[1]}}),n=new ol({props:{path:"/",$$slots:{default:[Zp]},$$scope:{ctx:t}}}),o=new ol({props:{path:"/configuration",$$slots:{default:[Jp]},$$scope:{ctx:t}}}),a=new ol({props:{path:"/status",$$slots:{default:[Xp]},$$scope:{ctx:t}}}),f=new ol({props:{path:"/mqtt-ca",$$slots:{default:[xp]},$$scope:{ctx:t}}}),_=new ol({props:{path:"/mqtt-cert",$$slots:{default:[e0]},$$scope:{ctx:t}}}),g=new ol({props:{path:"/mqtt-key",$$slots:{default:[t0]},$$scope:{ctx:t}}}),b=new ol({props:{path:"/consent",$$slots:{default:[l0]},$$scope:{ctx:t}}}),k=new ol({props:{path:"/setup",$$slots:{default:[n0]},$$scope:{ctx:t}}}),P=new ol({props:{path:"/vendor",$$slots:{default:[i0]},$$scope:{ctx:t}}}),{c(){Z(e.$$.fragment),l=v(),Z(n.$$.fragment),i=v(),Z(o.$$.fragment),r=v(),Z(a.$$.fragment),c=v(),Z(f.$$.fragment),p=v(),Z(_.$$.fragment),d=v(),Z(g.$$.fragment),h=v(),Z(b.$$.fragment),$=v(),Z(k.$$.fragment),T=v(),Z(P.$$.fragment)},m(S,N){K(e,S,N),y(S,l,N),K(n,S,N),y(S,i,N),K(o,S,N),y(S,r,N),K(a,S,N),y(S,c,N),K(f,S,N),y(S,p,N),K(_,S,N),y(S,d,N),K(g,S,N),y(S,h,N),K(b,S,N),y(S,$,N),K(k,S,N),y(S,T,N),K(P,S,N),E=!0},p(S,N){const D={};N&2&&(D.data=S[1]),e.$set(D);const R={};N&7&&(R.$$scope={dirty:N,ctx:S}),n.$set(R);const H={};N&5&&(H.$$scope={dirty:N,ctx:S}),o.$set(H);const U={};N&7&&(U.$$scope={dirty:N,ctx:S}),a.$set(U);const F={};N&4&&(F.$$scope={dirty:N,ctx:S}),f.$set(F);const L={};N&4&&(L.$$scope={dirty:N,ctx:S}),_.$set(L);const G={};N&4&&(G.$$scope={dirty:N,ctx:S}),g.$set(G);const j={};N&5&&(j.$$scope={dirty:N,ctx:S}),b.$set(j);const O={};N&5&&(O.$$scope={dirty:N,ctx:S}),k.$set(O);const q={};N&5&&(q.$$scope={dirty:N,ctx:S}),P.$set(q)},i(S){E||(M(e.$$.fragment,S),M(n.$$.fragment,S),M(o.$$.fragment,S),M(a.$$.fragment,S),M(f.$$.fragment,S),M(_.$$.fragment,S),M(g.$$.fragment,S),M(b.$$.fragment,S),M(k.$$.fragment,S),M(P.$$.fragment,S),E=!0)},o(S){I(e.$$.fragment,S),I(n.$$.fragment,S),I(o.$$.fragment,S),I(a.$$.fragment,S),I(f.$$.fragment,S),I(_.$$.fragment,S),I(g.$$.fragment,S),I(b.$$.fragment,S),I(k.$$.fragment,S),I(P.$$.fragment,S),E=!1},d(S){Q(e,S),S&&w(l),Q(n,S),S&&w(i),Q(o,S),S&&w(r),Q(a,S),S&&w(c),Q(f,S),S&&w(p),Q(_,S),S&&w(d),Q(g,S),S&&w(h),Q(b,S),S&&w($),Q(k,S),S&&w(T),Q(P,S)}}}function o0(t){let e,l,n,i;const o=[a0,r0],r=[];function a(c,f){return c[0].trying?0:1}return e=a(t),l=r[e]=o[e](t),{c(){l.c(),n=je()},m(c,f){r[e].m(c,f),y(c,n,f),i=!0},p(c,f){let p=e;e=a(c),e===p?r[e].p(c,f):(Ce(),I(r[p],1,1,()=>{r[p]=null}),Te(),l=r[e],l?l.p(c,f):(l=r[e]=o[e](c),l.c()),M(l,1),l.m(n.parentNode,n))},i(c){i||(M(l),i=!0)},o(c){I(l),i=!1},d(c){r[e].d(c),c&&w(n)}}}function u0(t){let e,l;return e=new gt({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function r0(t){let e,l;return e=new gt({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p:ie,i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function a0(t){let e,l;return e=new gt({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){Z(e.$$.fragment)},m(n,i){K(e,n,i),l=!0},p(n,i){const o={};i&1&&(o.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(o)},i(n){l||(M(e.$$.fragment,n),l=!0)},o(n){I(e.$$.fragment,n),l=!1},d(n){Q(e,n)}}}function f0(t){let e,l,n,i,o,r;l=new Vf({props:{$$slots:{default:[s0]},$$scope:{ctx:t}}});const a=[u0,o0],c=[];function f(p,_){return p[0].upgrading?0:p[0].booting?1:-1}return~(i=f(t))&&(o=c[i]=a[i](t)),{c(){e=m("div"),Z(l.$$.fragment),n=v(),o&&o.c(),u(e,"class","container mx-auto m-3")},m(p,_){y(p,e,_),K(l,e,null),s(e,n),~i&&c[i].m(e,null),r=!0},p(p,[_]){const d={};_&7&&(d.$$scope={dirty:_,ctx:p}),l.$set(d);let g=i;i=f(p),i===g?~i&&c[i].p(p,_):(o&&(Ce(),I(c[g],1,1,()=>{c[g]=null}),Te()),~i?(o=c[i],o?o.p(p,_):(o=c[i]=a[i](p),o.c()),M(o,1),o.m(e,null)):o=null)},i(p){r||(M(l.$$.fragment,p),M(o),r=!0)},o(p){I(l.$$.fragment,p),I(o),r=!1},d(p){p&&w(e),Q(l),~i&&c[i].d()}}}function c0(t,e,l){let n={};Ct.subscribe(o=>{l(0,n=o),n.vndcfg===!1?jn("/vendor"):n.usrcfg===!1?jn("/setup"):n.fwconsent===0&&jn("/consent")}),oo();let i={};return I1.subscribe(o=>{l(1,i=o)}),[n,i]}class m0 extends $e{constructor(e){super(),ye(this,e,c0,f0,we,{})}}new m0({target:document.getElementById("app")});
